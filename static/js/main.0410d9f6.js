/*! For license information please see main.0410d9f6.js.LICENSE.txt */
(()=>{var __webpack_modules__={4762:t=>{"use strict";t.exports=function(t,e){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(t){if(o)if(o=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(s){o&&(o=!1,a(s))}}))}},6762:(t,e)=>{"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),i=new Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(t,e,n){for(var i,o=null,a=[],s=0,l=0;e<n;){var c=t[e++];switch(l){case 0:a[s++]=r[c>>2],i=(3&c)<<4,l=1;break;case 1:a[s++]=r[i|c>>4],i=(15&c)<<2,l=2;break;case 2:a[s++]=r[i|c>>6],a[s++]=r[63&c],l=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return l&&(a[s++]=r[i],a[s++]=61,1===l&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(t,e,n){for(var r,o=n,s=0,l=0;l<t.length;){var c=t.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:r=c,s=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:e[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(a);return n-o},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},7351:t=>{"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},217:t=>{"use strict";function e(t){return"undefined"!==typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(t,r,i){e[0]=t,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?i:o,t.writeFloatBE=r?o:i,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((i<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((i<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(e)/Math.LN2);t((i<<31|o+127<<23|8388607&Math.round(e*Math.pow(2,-o)*8388608))>>>0,n,r)}}function a(t,e,n){var r=t(e,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,r),t.readFloatLE=a.bind(null,i),t.readFloatBE=a.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(t,r,i){e[0]=t,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?i:o,t.writeDoubleBE=r?o:i,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,i,o+e),t(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))t(0,i,o+e),t(2146959360,i,o+n);else if(r>17976931348623157e292)t(0,i,o+e),t((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,i,o+e),t((a<<31|s/4294967296)>>>0,i,o+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),t(4503599627370496*(s=r*Math.pow(2,-l))>>>0,i,o+e),t((a<<31|l+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function a(t,e,n,r,i){var o=t(r,i+e),a=t(r,i+n),s=2*(a>>31)+1,l=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=a.bind(null,i,0,4),t.readDoubleBE=a.bind(null,o,4,0)}(),t}function n(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function i(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},4882:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6931:t=>{"use strict";t.exports=function(t,e,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return t(n);a+n>r&&(o=t(r),a=0);var s=e.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},8626:(t,e)=>{"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296===(64512&n)&&56320===(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,i=null,o=[],a=0;e<n;)(r=t[e++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(t,e,n){for(var r,i,o=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-o}},219:(t,e,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&t(e,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(e),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=h(n,v);try{c(e,v,y)}catch(b){}}}}return e}},4983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case u:case d:case o:case s:case a:case f:return t;default:switch(t=t&&t.$$typeof){case c:case h:case m:case g:case l:return t;default:return e}}case i:return e}}}function A(t){return _(t)===d}e.AsyncMode=u,e.ConcurrentMode=d,e.ContextConsumer=c,e.ContextProvider=l,e.Element=r,e.ForwardRef=h,e.Fragment=o,e.Lazy=m,e.Memo=g,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(t){return A(t)||_(t)===u},e.isConcurrentMode=A,e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===h},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===m},e.isMemo=function(t){return _(t)===g},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===s},e.isStrictMode=function(t){return _(t)===a},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===d||t===s||t===a||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===c||t.$$typeof===h||t.$$typeof===y||t.$$typeof===b||t.$$typeof===w||t.$$typeof===v)},e.typeOf=_},3763:(t,e,n)=>{"use strict";t.exports=n(4983)},9611:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",c="[object Null]",u="[object Object]",d="[object Proxy]",h="[object Undefined]",f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[s]=g["[object Map]"]=g["[object Number]"]=g[u]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var m="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,v="object"==typeof self&&self&&self.Object===Object&&self,y=m||v||Function("return this")(),b=e&&!e.nodeType&&e,w=b&&t&&!t.nodeType&&t,_=w&&w.exports===b,A=_&&m.process,S=function(){try{var t=w&&w.require&&w.require("util").types;return t||A&&A.binding&&A.binding("util")}catch(e){}}(),E=S&&S.isTypedArray;var C,x,T=Array.prototype,I=Function.prototype,k=Object.prototype,R=y["__core-js_shared__"],M=I.toString,P=k.hasOwnProperty,O=function(){var t=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),D=k.toString,N=M.call(Object),L=RegExp("^"+M.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=_?y.Buffer:void 0,B=y.Symbol,j=y.Uint8Array,z=F?F.allocUnsafe:void 0,V=(C=Object.getPrototypeOf,x=Object,function(t){return C(x(t))}),H=Object.create,U=k.propertyIsEnumerable,W=T.splice,$=B?B.toStringTag:void 0,G=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),X=F?F.isBuffer:void 0,q=Math.max,Y=Date.now,K=yt(y,"Map"),Z=yt(Object,"create"),Q=function(){function t(){}return function(e){if(!Rt(e))return{};if(H)return H(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=this.__data__=new tt(t);this.size=e.size}function rt(t,e){var n=Ct(t),r=!n&&Et(t),i=!n&&!r&&Tt(t),o=!n&&!r&&!i&&Pt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var c in t)!e&&!P.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bt(c,l))||s.push(c);return s}function it(t,e,n){(void 0!==n&&!St(t[e],n)||void 0===n&&!(e in t))&&st(t,e,n)}function ot(t,e,n){var r=t[e];P.call(t,e)&&St(r,n)&&(void 0!==n||e in t)||st(t,e,n)}function at(t,e){for(var n=t.length;n--;)if(St(t[n][0],e))return n;return-1}function st(t,e,n){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}J.prototype.clear=function(){this.__data__=Z?Z(null):{},this.size=0},J.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},J.prototype.get=function(t){var e=this.__data__;if(Z){var n=e[t];return n===r?void 0:n}return P.call(e,t)?e[t]:void 0},J.prototype.has=function(t){var e=this.__data__;return Z?void 0!==e[t]:P.call(e,t)},J.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Z&&void 0===e?r:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=at(e,t);return!(n<0)&&(n==e.length-1?e.pop():W.call(e,n,1),--this.size,!0)},tt.prototype.get=function(t){var e=this.__data__,n=at(e,t);return n<0?void 0:e[n][1]},tt.prototype.has=function(t){return at(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,r=at(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(K||tt),string:new J}},et.prototype.delete=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return vt(this,t).get(t)},et.prototype.has=function(t){return vt(this,t).has(t)},et.prototype.set=function(t,e){var n=vt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},nt.prototype.clear=function(){this.__data__=new tt,this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nt.prototype.get=function(t){return this.__data__.get(t)},nt.prototype.has=function(t){return this.__data__.has(t)},nt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!K||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new et(r)}return n.set(t,e),this.size=n.size,this};var lt,ct=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[lt?a:++r];if(!1===e(i[s],s,i))break}return t};function ut(t){return null==t?void 0===t?h:c:$&&$ in Object(t)?function(t){var e=P.call(t,$),n=t[$];try{t[$]=void 0;var r=!0}catch(o){}var i=D.call(t);r&&(e?t[$]=n:delete t[$]);return i}(t):function(t){return D.call(t)}(t)}function dt(t){return Mt(t)&&ut(t)==o}function ht(t){return!(!Rt(t)||function(t){return!!O&&O in t}(t))&&(It(t)?L:f).test(function(t){if(null!=t){try{return M.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}function ft(t){if(!Rt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=wt(t),n=[];for(var r in t)("constructor"!=r||!e&&P.call(t,r))&&n.push(r);return n}function pt(t,e,n,r,i){t!==e&&ct(e,(function(o,a){if(i||(i=new nt),Rt(o))!function(t,e,n,r,i,o,a){var s=_t(t,n),l=_t(e,n),c=a.get(l);if(c)return void it(t,n,c);var d=o?o(s,l,n+"",t,e,a):void 0,h=void 0===d;if(h){var f=Ct(l),p=!f&&Tt(l),g=!f&&!p&&Pt(l);d=l,f||p||g?Ct(s)?d=s:Mt(m=s)&&xt(m)?d=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(s):p?(h=!1,d=function(t,e){if(e)return t.slice();var n=t.length,r=z?z(n):new t.constructor(n);return t.copy(r),r}(l,!0)):g?(h=!1,d=function(t,e){var n=e?function(t){var e=new t.constructor(t.byteLength);return new j(e).set(new j(t)),e}(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(l,!0)):d=[]:function(t){if(!Mt(t)||ut(t)!=u)return!1;var e=V(t);if(null===e)return!0;var n=P.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==N}(l)||Et(l)?(d=s,Et(s)?d=function(t){return function(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;for(;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?st(n,s,l):ot(n,s,l)}return n}(t,Ot(t))}(s):Rt(s)&&!It(s)||(d=function(t){return"function"!=typeof t.constructor||wt(t)?{}:Q(V(t))}(l))):h=!1}var m;h&&(a.set(l,d),i(d,l,r,o,a),a.delete(l));it(t,n,d)}(t,e,a,n,pt,r,i);else{var s=r?r(_t(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),it(t,a,s)}}),Ot)}function gt(t,e){return At(function(t,e,n){return e=q(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=q(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,s)}}(t,e,Lt),t+"")}var mt=G?function(t,e){return G(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Lt;function vt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function yt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ht(n)?n:void 0}function bt(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&p.test(t))&&t>-1&&t%1==0&&t<e}function wt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||k)}function _t(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var At=function(t){var e=0,n=0;return function(){var r=Y(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(mt);function St(t,e){return t===e||t!==t&&e!==e}var Et=dt(function(){return arguments}())?dt:function(t){return Mt(t)&&P.call(t,"callee")&&!U.call(t,"callee")},Ct=Array.isArray;function xt(t){return null!=t&&kt(t.length)&&!It(t)}var Tt=X||function(){return!1};function It(t){if(!Rt(t))return!1;var e=ut(t);return e==s||e==l||e==a||e==d}function kt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Rt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Mt(t){return null!=t&&"object"==typeof t}var Pt=E?function(t){return function(e){return t(e)}}(E):function(t){return Mt(t)&&kt(t.length)&&!!g[ut(t)]};function Ot(t){return xt(t)?rt(t,!0):ft(t)}var Dt,Nt=(Dt=function(t,e,n,r){pt(t,e,n,r)},gt((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=Dt.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!Rt(n))return!1;var r=typeof e;return!!("number"==r?xt(n)&&bt(e,n.length):"string"==r&&e in n)&&St(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Dt(t,a,n,i)}return t})));function Lt(t){return t}t.exports=Nt},7685:(t,e,n)=>{var r=n(7937)(n(6552),"DataView");t.exports=r},8724:(t,e,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7160:(t,e,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},5204:(t,e,n)=>{var r=n(7937)(n(6552),"Map");t.exports=r},4816:(t,e,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},5387:(t,e,n)=>{var r=n(7937)(n(6552),"Promise");t.exports=r},2070:(t,e,n)=>{var r=n(7937)(n(6552),"Set");t.exports=r},8902:(t,e,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},5538:(t,e,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},9812:(t,e,n)=>{var r=n(6552).Symbol;t.exports=r},2929:(t,e,n)=>{var r=n(6552).Uint8Array;t.exports=r},6600:(t,e,n)=>{var r=n(7937)(n(6552),"WeakMap");t.exports=r},1170:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},4710:t=>{t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}},7529:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},5866:(t,e,n)=>{var r=n(8468);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},1558:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},3204:(t,e,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),d=!n&&!u&&a(t),h=!n&&!u&&!d&&l(t),f=n||u||d||h,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!c.call(t,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},149:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},8895:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2587:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},1340:(t,e,n)=>{var r=n(3211);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},2952:(t,e,n)=>{var r=n(5652);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,t,n(t),o)})),i}},1775:(t,e,n)=>{var r=n(5654);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5652:(t,e,n)=>{var r=n(4664),i=n(6516)(r);t.exports=i},5816:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},755:(t,e,n)=>{var r=n(8895),i=n(7116);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},4258:(t,e,n)=>{var r=n(5906)();t.exports=r},4664:(t,e,n)=>{var r=n(4258),i=n(8673);t.exports=function(t,e){return t&&r(t,e,i)}},2969:(t,e,n)=>{var r=n(5324),i=n(914);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},4262:(t,e,n)=>{var r=n(8895),i=n(4052);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},6913:(t,e,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},7894:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},8468:(t,e,n)=>{var r=n(5816),i=n(644),o=n(4020);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},5193:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},6989:(t,e,n)=>{var r=n(6399),i=n(2761);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},6399:(t,e,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,v){var y=l(t),b=l(e),w=y?h:s(t),_=b?h:s(e),A=(w=w==d?f:w)==f,S=(_=_==d?f:_)==f,E=w==_;if(E&&c(t)){if(!c(e))return!1;y=!0,A=!1}if(E&&!A)return v||(v=new r),y||u(t)?i(t,e,n,g,m,v):o(t,e,w,n,g,m,v);if(!(1&n)){var C=A&&p.call(t,"__wrapped__"),x=S&&p.call(e,"__wrapped__");if(C||x){var T=C?t.value():t,I=x?e.value():e;return v||(v=new r),m(T,I,n,g,v)}}return!!E&&(v||(v=new r),a(t,e,n,g,m,v))}},6532:(t,e,n)=>{var r=n(5538),i=n(6989);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],d=t[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in t))return!1}else{var f=new r;if(o)var p=o(d,h,u,t,e,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},644:t=>{t.exports=function(t){return t!==t}},6954:(t,e,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},5428:(t,e,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},9096:(t,e,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},3713:(t,e,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8883:(t,e,n)=>{var r=n(5652),i=n(6571);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},9256:(t,e,n)=>{var r=n(6532),i=n(3781),o=n(1310);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},5029:(t,e,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2536:(t,e,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return d(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var h=-1;e=r(e,l(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return s(f,(function(t,e){return c(t,e,n)}))}},396:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},2866:(t,e,n)=>{var r=n(2969);t.exports=function(t){return function(e){return r(e,t)}}},5647:(t,e,n)=>{var r=n(3279),i=n(5636),o=n(3969);t.exports=function(t,e){return o(i(t,e,r),t+"")}},8325:(t,e,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},320:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},3343:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},8541:(t,e,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7574:t=>{t.exports=function(t){return function(e){return t(e)}}},4416:(t,e,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);t.exports=function(t,e,n){var c=-1,u=i,d=t.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var g=e?null:s(t);if(g)return l(g);h=!1,u=a,p=new r}else p=e?[]:f;t:for(;++c<d;){var m=t[c],v=e?e(m):m;if(m=n||0!==m?m:0,h&&v===v){for(var y=p.length;y--;)if(p[y]===v)continue t;e&&p.push(v),f.push(m)}else u(p,v,n)||(p!==f&&p.push(v),f.push(m))}return f}},8114:t=>{t.exports=function(t,e){return t.has(e)}},5324:(t,e,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},6599:(t,e,n)=>{var r=n(9841);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},5893:(t,e,n)=>{var r=n(6599);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},3440:(t,e,n)=>{var r=n(6552)["__core-js_shared__"];t.exports=r},9449:(t,e,n)=>{var r=n(4710),i=n(2952),o=n(9096),a=n(4052);t.exports=function(t,e){return function(n,s){var l=a(n)?r:i,c=e?e():{};return l(n,t,o(s,2),c)}}},6516:(t,e,n)=>{var r=n(6571);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5906:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},8182:(t,e,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},5654:(t,e,n)=>{var r=n(7937),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},3668:(t,e,n)=>{var r=n(8902),i=n(2587),o=n(8114);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,d=e.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(t),f=l.get(e);if(h&&f)return h==e&&f==t;var p=-1,g=!0,m=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var v=t[p],y=e[p];if(a)var b=c?a(y,v,p,e,t,l):a(v,y,p,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(v===t||s(v,t,n,a,l)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},9987:(t,e,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),t.size!=e.size&&!p)return!1;var g=h.get(t);if(g)return g==e;r|=2,h.set(t,e);var m=a(f(t),f(e),r,c,d,h);return h.delete(t),m;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},5752:(t,e,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in e:i.call(e,h)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var m=l;++d<u;){var v=t[h=c[d]],y=e[h];if(o)var b=l?o(y,v,h,e,t,s):o(v,y,h,t,e,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(t),s.delete(e),g}},7105:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},9395:(t,e,n)=>{var r=n(4262),i=n(9621),o=n(8673);t.exports=function(t){return r(t,o,i)}},2622:(t,e,n)=>{var r=n(705);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},3781:(t,e,n)=>{var r=n(9417),i=n(8673);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},7937:(t,e,n)=>{var r=n(6954),i=n(4657);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},4552:(t,e,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9621:(t,e,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},6924:(t,e,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(r),m=c(i),v=c(o),y=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case m:return u;case v:return d;case y:return h;case b:return f}return e}),t.exports=w},4657:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},9057:(t,e,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,d=!1;++c<u;){var h=l(e[c]);if(!(d=null!=t&&n(t,h)))break;t=t[h]}return d||++c!=u?d:!!(u=null==t?0:t.length)&&s(u)&&a(h,u)&&(o(t)||i(t))}},7615:(t,e,n)=>{var r=n(5575);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2154:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},8734:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},2662:(t,e,n)=>{var r=n(5575);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},7116:(t,e,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},9194:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},929:(t,e,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},2597:(t,e,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},705:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},7857:(t,e,n)=>{var r=n(3440),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},6140:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9417:(t,e,n)=>{var r=n(6686);t.exports=function(t){return t===t&&!r(t)}},7563:t=>{t.exports=function(){this.__data__=[],this.size=0}},9935:(t,e,n)=>{var r=n(1340),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4190:(t,e,n)=>{var r=n(1340);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},1946:(t,e,n)=>{var r=n(1340);t.exports=function(t){return r(this.__data__,t)>-1}},1714:(t,e,n)=>{var r=n(1340);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},7251:(t,e,n)=>{var r=n(8724),i=n(7160),o=n(5204);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7159:(t,e,n)=>{var r=n(2622);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},438:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).get(t)}},9394:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).has(t)}},6874:(t,e,n)=>{var r=n(2622);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},4160:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},1310:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},8259:(t,e,n)=>{var r=n(5797);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},5575:(t,e,n)=>{var r=n(7937)(Object,"create");t.exports=r},1143:(t,e,n)=>{var r=n(3028)(Object.keys,Object);t.exports=r},6832:(t,e,n)=>{t=n.nmd(t);var r=n(7105),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},6095:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},3028:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5636:(t,e,n)=>{var r=n(1170),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},6552:(t,e,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},6179:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},6704:t=>{t.exports=function(t){return this.__data__.has(t)}},2074:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},3969:(t,e,n)=>{var r=n(8325),i=n(6578)(r);t.exports=i},6578:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},4545:(t,e,n)=>{var r=n(7160);t.exports=function(){this.__data__=new r,this.size=0}},793:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7760:t=>{t.exports=function(t){return this.__data__.get(t)}},3892:t=>{t.exports=function(t){return this.__data__.has(t)}},6788:(t,e,n)=>{var r=n(7160),i=n(5204),o=n(4816);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},4020:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},4079:(t,e,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},914:(t,e,n)=>{var r=n(9841);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},6996:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},2541:t=>{t.exports=function(t){return function(){return t}}},3211:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},3097:(t,e,n)=>{var r=n(2969);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},9835:(t,e,n)=>{var r=n(1775),i=n(9449),o=Object.prototype.hasOwnProperty,a=i((function(t,e,n){o.call(t,n)?t[n].push(e):r(t,n,[e])}));t.exports=a},3366:(t,e,n)=>{var r=n(7894),i=n(9057);t.exports=function(t,e){return null!=t&&i(t,e,r)}},3279:t=>{t.exports=function(t){return t}},2777:(t,e,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},4052:t=>{var e=Array.isArray;t.exports=e},6571:(t,e,n)=>{var r=n(1629),i=n(6173);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4543:(t,e,n)=>{t=n.nmd(t);var r=n(6552),i=n(14),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},9853:(t,e,n)=>{var r=n(6989);t.exports=function(t,e){return r(t,e)}},1629:(t,e,n)=>{var r=n(6913),i=n(6686);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},6173:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6686:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2761:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},9841:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},1268:(t,e,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},8673:(t,e,n)=>{var r=n(3204),i=n(3713),o=n(6571);t.exports=function(t){return o(t)?r(t):i(t)}},5797:(t,e,n)=>{var r=n(4816);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},5713:t=>{t.exports=function(){}},3932:(t,e,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);t.exports=function(t){return o(t)?r(a(t)):i(t)}},7424:(t,e,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},7828:t=>{t.exports=function(){return[]}},14:t=>{t.exports=function(){return!1}},1069:(t,e,n)=>{var r=n(8541);t.exports=function(t){return null==t?"":r(t)}},9376:(t,e,n)=>{var r=n(4416);t.exports=function(t){return t&&t.length?r(t):[]}},977:(t,e,n)=>{var r=n(9096),i=n(4416);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},1099:(t,e,n)=>{"use strict";t.exports=n(9191)},9191:(t,e,n)=>{"use strict";var r=e;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(5850),r.BufferWriter=n(3931),r.Reader=n(3338),r.BufferReader=n(7707),r.util=n(1509),r.rpc=n(8094),r.roots=n(1368),r.configure=i,i()},3338:(t,e,n)=>{"use strict";t.exports=l;var r,i=n(1509),o=i.LongBits,a=i.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function l(t){this.buf=t,this.pos=0,this.len=t.length}var c="undefined"!==typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new l(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new l(t);throw Error("illegal buffer")},u=function(){return i.Buffer?function(t){return(l.create=function(t){return i.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c};function d(){var t=new o(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=u(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return t}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},l.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(e,n);if(e===n){var r=i.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,e,n)},l.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},l.prototype.skip=function(t){if("number"===typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},l._configure=function(t){r=t,l.create=u(),r._configure();var e=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return d.call(this)[e](!1)},uint64:function(){return d.call(this)[e](!0)},sint64:function(){return d.call(this).zzDecode()[e](!1)},fixed64:function(){return f.call(this)[e](!0)},sfixed64:function(){return f.call(this)[e](!1)}})}},7707:(t,e,n)=>{"use strict";t.exports=o;var r=n(3338);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(1509);function o(t){r.call(this,t)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},o._configure()},1368:t=>{"use strict";t.exports={}},8094:(t,e,n)=>{"use strict";e.Service=n(3694)},3694:(t,e,n)=>{"use strict";t.exports=i;var r=n(1509);function i(t,e,n){if("function"!==typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function t(e,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(l){return s.emit("error",l,e),void setTimeout((function(){a(l)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},6350:(t,e,n)=>{"use strict";t.exports=i;var r=n(1509);function i(t,e){this.lo=t>>>0,this.hi=e>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return o;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(t){if("number"===typeof t)return i.fromNumber(t);if(r.isString(t)){if(!r.Long)return i.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):o},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;i.fromHash=function(t){return t===a?o:new i((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},1509:function(t,e,n){"use strict";var r=e;function i(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function o(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}r.asPromise=n(4762),r.base64=n(6762),r.EventEmitter=n(7351),r.float=n(217),r.inquire=n(4882),r.utf8=n(8626),r.pool=n(6931),r.LongBits=n(6350),r.isNode=Boolean("undefined"!==typeof n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"===typeof t||t instanceof String},r.isObject=function(t){return t&&"object"===typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"===typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"===typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=i,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},5850:(t,e,n)=>{"use strict";t.exports=d;var r,i=n(1509),o=i.LongBits,a=i.base64,s=i.utf8;function l(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(t,e,n){e[n]=255&t}function p(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function m(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}d.create=h(),d.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(t,e,n){return this.tail=this.tail.next=new l(t,e,n),this.len+=e,this},p.prototype=Object.create(l.prototype),p.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},d.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},d.prototype.int32=function(t){return t<0?this._push(g,10,o.fromNumber(t)):this.uint32(t)},d.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},d.prototype.uint64=function(t){var e=o.from(t);return this._push(g,e.length(),e)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(t){var e=o.from(t).zzEncode();return this._push(g,e.length(),e)},d.prototype.bool=function(t){return this._push(f,1,t?1:0)},d.prototype.fixed32=function(t){return this._push(m,4,t>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(t){var e=o.from(t);return this._push(m,4,e.lo)._push(m,4,e.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},d.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var v=i.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};d.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(f,1,0);if(i.isString(t)){var n=d.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},d.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},d.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},d._configure=function(t){r=t,d.create=h(),r._configure()}},3931:(t,e,n)=>{"use strict";t.exports=o;var r=n(5850);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(1509);function o(){r.call(this)}function a(t,e,n){t.length<40?i.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},o.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(o.writeBytesBuffer,e,t),this},o.prototype.string=function(t){var e=i.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},o._configure()},2730:(t,e,n)=>{"use strict";var r=n(5043),i=n(8853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(p,t)||!d.call(f,t)&&(h.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}var L,F=Object.assign;function B(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var j=!1;function z(t,e){if(!t||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?B(t):""}function V(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case A:return"Portal";case C:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case M:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return H(t(e))}catch(n){}}return null}function U(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function K(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Q(t,e){Z(t,e);var n=W(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),r=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,dt=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,St=null,Et=null;function Ct(t){if(t=bi(t)){if("function"!==typeof At)throw Error(o(280));var e=t.stateNode;e&&(e=_i(e),At(t.stateNode,t.type,e))}}function xt(t){St?Et?Et.push(t):Et=[t]:St=t}function Tt(){if(St){var t=St,e=Et;if(Et=St=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function It(t,e){return t(e)}function kt(){}var Rt=!1;function Mt(t,e,n){if(Rt)return t(e,n);Rt=!0;try{return It(t,e,n)}finally{Rt=!1,(null!==St||null!==Et)&&(kt(),Tt())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Ot=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ut){Ot=!1}function Nt(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,Bt=!1,jt=null,zt={onError:function(t){Lt=!0,Ft=t}};function Vt(t,e,n,r,i,o,a,s,l){Lt=!1,Ft=null,Nt.apply(zt,arguments)}function Ht(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ut(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Ht(t)!==t)throw Error(o(188))}function $t(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Wt(i),t;if(a===r)return Wt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Gt(t):null}function Gt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Gt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=i.unstable_scheduleCallback,qt=i.unstable_cancelCallback,Yt=i.unstable_shouldYield,Kt=i.unstable_requestPaint,Zt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=de(s):0!==(o&=a)&&(r=de(o))}else 0!==(a=n&~i)?r=de(a):0!==o&&(r=de(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,Ae,Se,Ee,Ce,xe=!1,Te=[],Ie=null,ke=null,Re=null,Me=new Map,Pe=new Map,Oe=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ne(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":ke=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&Ae(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=yi(t.target);if(null!==e){var n=Ht(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ut(n)))return t.blockedOn=e,void Ce(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&Ae(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function je(t,e,n){Be(t)&&n.delete(e)}function ze(){xe=!1,null!==Ie&&Be(Ie)&&(Ie=null),null!==ke&&Be(ke)&&(ke=null),null!==Re&&Be(Re)&&(Re=null),Me.forEach(je),Pe.forEach(je)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,xe||(xe=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ze)))}function He(t){function e(e){return Ve(e,t)}if(0<Te.length){Ve(Te[0],t);for(var n=1;n<Te.length;n++){var r=Te[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ie&&Ve(Ie,t),null!==ke&&Ve(ke,t),null!==Re&&Ve(Re,t),Me.forEach(e),Pe.forEach(e),n=0;n<Oe.length;n++)(r=Oe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Oe.length&&null===(n=Oe[0]).blockedOn;)Fe(n),null===n.blockedOn&&Oe.shift()}var Ue=w.ReactCurrentBatchConfig,We=!0;function $e(t,e,n,r){var i=be,o=Ue.transition;Ue.transition=null;try{be=1,Xe(t,e,n,r)}finally{be=i,Ue.transition=o}}function Ge(t,e,n,r){var i=be,o=Ue.transition;Ue.transition=null;try{be=4,Xe(t,e,n,r)}finally{be=i,Ue.transition=o}}function Xe(t,e,n,r){if(We){var i=Ye(t,e,n,r);if(null===i)Wr(t,e,r,qe,n),Ne(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,r,i),!0;case"dragenter":return ke=Le(ke,t,e,n,r,i),!0;case"mouseover":return Re=Le(Re,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Me.set(o,Le(Me.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pe.set(o,Le(Pe.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Ne(t,r),4&e&&-1<De.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&_e(o),null===(o=Ye(t,e,n,r))&&Wr(t,e,r,qe,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var qe=null;function Ye(t,e,n,r){if(qe=null,null!==(t=yi(t=_t(r))))if(null===(e=Ht(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ut(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qe=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Ze=null,Qe=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Qe,r=n.length,i="value"in Ze?Ze.value:Ze.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function Cn(){return En}var xn=F({},dn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?An[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(xn),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Mn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Nn,Fn=u&&(!Dn||Nn&&8<Nn&&11>=Nn),Bn=String.fromCharCode(32),jn=!1;function zn(t,e){switch(t){case"keyup":return-1!==On.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Un[t.type]:"textarea"===e}function $n(t,e,n,r){xt(r),0<(e=Gr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gn=null,Xn=null;function qn(t){Br(t,0)}function Yn(t){if(X(wi(t)))return t}function Kn(t,e){if("change"===t)return e}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Gn&&(Gn.detachEvent("onpropertychange",nr),Xn=Gn=null)}function nr(t){if("value"===t.propertyName&&Yn(Xn)){var e=[];$n(e,Xn,t,_t(t)),Mt(qn,e)}}function rr(t,e,n){"focusin"===t?(er(),Xn=n,(Gn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Xn)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hr(){for(var t=window,e=q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=q((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=hr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ar={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function Cr(t){if(Sr[t])return Sr[t];if(!Ar[t])return t;var e,n=Ar[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return Sr[t]=n[e];return t}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var xr=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),kr=Cr("transitionend"),Rr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){Rr.set(t,e),l(e,[t])}for(var Or=0;Or<Mr.length;Or++){var Dr=Mr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,c){if(Vt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var u=Ft;Lt=!1,Ft=null,Bt||(Bt=!0,jt=u)}}(r,e,void 0,t),t.currentTarget=null}function Br(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Fr(i,s,c),o=l}}}if(Bt)throw t=jt,Bt=!1,jt=null,t}function jr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Ur(e,t,2,!1),n.add(r))}function zr(t,e,n){var r=0;e&&(r|=4),Ur(n,t,r,e)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(t){if(!t[Vr]){t[Vr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||zr(e,!1,t),zr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vr]||(e[Vr]=!0,zr("selectionchange",!1,e))}}function Ur(t,e,n,r){switch(Ke(e)){case 1:var i=$e;break;case 4:i=Ge;break;default:i=Xe}n=i.bind(null,e,n,t),i=void 0,!Ot||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}Mt((function(){var r=o,i=_t(n),a=[];t:{var s=Rr.get(t);if(void 0!==s){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case xr:case Tr:case Ir:l=vn;break;case kr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),d=!u&&"scroll"===t,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pt(p,h))&&u.push($r(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)t:{for(h=c,p=0,f=u=l;f;f=Xr(f))p++;for(f=0,g=h;g;g=Xr(g))f++;for(;0<p-f;)u=Xr(u),p--;for(;0<f-p;)h=Xr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break t;u=Xr(u),h=Xr(h)}u=null}else u=null;null!==l&&qr(a,s,l,u,!1),null!==c&&null!==d&&qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Kn;else if(Wn(s))if(Zn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(t,r))?$n(a,m,n,i):(v&&v(t,s,r),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&tt(s,"number",s.value)),v=r?wi(r):window,t){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Hn?zn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=tn()):(Qe="value"in(Ze=i)?Ze.value:Ze.textContent,Hn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(jn=!0,Bn);case"textInput":return(t=e.data)===Bn&&jn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Dn&&zn(t,e)?(t=tn(),Je=Qe=Ze=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,e)}))}function $r(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pt(t,n))&&r.unshift($r(t,o,i)),null!=(o=Pt(t,e))&&r.push($r(t,o,i))),t=t.return}return r}function Xr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function qr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pt(n,o))&&a.unshift($r(n,l,s)):i||null!=(l=Pt(n,o))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Zr(t){return("string"===typeof t?t:""+t).replace(Yr,"\n").replace(Kr,"")}function Qr(t,e,n){if(e=Zr(e),Zr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void He(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);He(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(t){var e=t[hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[hi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[hi])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[hi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function _i(t){return t[fi]||null}var Ai=[],Si=-1;function Ei(t){return{current:t}}function Ci(t){0>Si||(t.current=Ai[Si],Ai[Si]=null,Si--)}function xi(t,e){Si++,Ai[Si]=t.current,t.current=e}var Ti={},Ii=Ei(Ti),ki=Ei(!1),Ri=Ti;function Mi(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Oi(){Ci(ki),Ci(Ii)}function Di(t,e,n){if(Ii.current!==Ti)throw Error(o(168));xi(Ii,e),xi(ki,n)}function Ni(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,U(t)||"Unknown",i));return F({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,xi(Ii,t),xi(ki,ki.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ni(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,Ci(ki),Ci(Ii),xi(Ii,t)):Ci(ki),xi(ki,n)}var Bi=null,ji=!1,zi=!1;function Vi(t){null===Bi?Bi=[t]:Bi.push(t)}function Hi(){if(!zi&&null!==Bi){zi=!0;var t=0,e=be;try{var n=Bi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Bi=null,ji=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(t+1)),Xt(Jt,Hi),i}finally{be=e,zi=!1}}return null}var Ui=[],Wi=0,$i=null,Gi=0,Xi=[],qi=0,Yi=null,Ki=1,Zi="";function Qi(t,e){Ui[Wi++]=Gi,Ui[Wi++]=$i,$i=t,Gi=e}function Ji(t,e,n){Xi[qi++]=Ki,Xi[qi++]=Zi,Xi[qi++]=Yi,Yi=t;var r=Ki;t=Zi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-ae(e)+i|n<<i|r,Zi=o+t}else Ki=1<<o|n<<i|r,Zi=t}function to(t){null!==t.return&&(Qi(t,1),Ji(t,1,0))}function eo(t){for(;t===$i;)$i=Ui[--Wi],Ui[Wi]=null,Gi=Ui[--Wi],Ui[Wi]=null;for(;t===Yi;)Yi=Xi[--qi],Xi[qi]=null,Zi=Xi[--qi],Xi[qi]=null,Ki=Xi[--qi],Xi[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yi?{id:Ki,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=w.ReactCurrentBatchConfig;function vo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function yo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bo(t){return(0,t._init)(t._payload)}function wo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Oc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===S?d(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===e.type)?((r=i(e,n.props)).ref=vo(t,e,n),r.return=t,r):((r=Dc(n.type,n.key,n.props,null,t.mode,r)).ref=vo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function d(t,e,n,r,o){return null===e||7!==e.tag?((e=Nc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Dc(e.type,e.key,e.props,null,t.mode,n)).ref=vo(t,null,e),n.return=t,n;case A:return(e=Bc(e,t.mode,n)).return=t,e;case P:return h(t,(0,e._init)(e._payload),n)}if(et(e)||N(e))return(e=Nc(e,t.mode,n,null)).return=t,e;yo(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(t,e,n,r):null;case A:return n.key===i?u(t,e,n,r):null;case P:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||N(n))return null!==i?null:d(t,e,n,r,null);yo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case A:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case P:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||N(r))return d(e,t=t.get(n)||null,r,i,null);yo(e,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}t&&d&&null===v.alternate&&e(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Qi(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Qi(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(t&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return t&&d.forEach((function(t){return e(i,t)})),io&&Qi(i,g),c}function m(i,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&e(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Qi(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Qi(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return t&&g.forEach((function(t){return e(i,t)})),io&&Qi(i,m),u}return function t(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:t:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===S?((o=Nc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case A:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Bc(a,r.mode,l)).return=r,r=o}return s(r);case P:return t(r,o,(u=a._init)(a._payload),l)}if(et(a))return g(r,o,a,l);if(N(a))return m(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var _o=wo(!0),Ao=wo(!1),So=Ei(null),Eo=null,Co=null,xo=null;function To(){xo=Co=Eo=null}function Io(t){var e=So.current;Ci(So),t._currentValue=e}function ko(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){Eo=t,xo=Co=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function Mo(t){var e=t._currentValue;if(xo!==t)if(t={context:t,memoizedValue:e,next:null},null===Co){if(null===Eo)throw Error(o(308));Co=t,Eo.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var Po=null;function Oo(t){null===Po?Po=[t]:Po.push(t)}function Do(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Oo(e)):(n.next=i.next,i.next=n),e.interleaved=n,No(t,r)}function No(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Fo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,No(t,n)}return null===(i=r.interleaved)?(e.next=e,Oo(r)):(e.next=i.next,i.next=e),r.interleaved=e,No(t,n)}function Vo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ho(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uo(t,e,n,r){var i=t.updateQueue;Lo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(h=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break t}d=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break t;d=F({},d,h);break t;case 2:Lo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Ll|=a,t.lanes=a,t.memoizedState=d}}function Wo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var $o={},Go=Ei($o),Xo=Ei($o),qo=Ei($o);function Yo(t){if(t===$o)throw Error(o(174));return t}function Ko(t,e){switch(xi(qo,e),xi(Xo,t),xi(Go,$o),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ci(Go),xi(Go,e)}function Zo(){Ci(Go),Ci(Xo),Ci(qo)}function Qo(t){Yo(qo.current);var e=Yo(Go.current),n=lt(e,t.type);e!==n&&(xi(Xo,t),xi(Go,n))}function Jo(t){Xo.current===t&&(Ci(Go),Ci(Xo))}var ta=Ei(0);function ea(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var na=[];function ra(){for(var t=0;t<na.length;t++)na[t]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ga(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ma(t,e,n,r,i,a){if(aa=a,sa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?Ja:ts,t=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,e.updateQueue=null,ia.current=es,t=n(r,i)}while(da)}if(ia.current=Qa,e=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,e)throw Error(o(300));return t}function va(){var t=0!==ha;return ha=0,t}function ya(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=t:ca=ca.next=t,ca}function ba(){if(null===la){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=la.next;var e=null===ca?sa.memoizedState:ca.next;if(null!==e)ca=e,la=t;else{if(null===t)throw Error(o(310));t={memoizedState:(la=t).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=t:ca=ca.next=t}return ca}function wa(t,e){return"function"===typeof e?e(t):e}function _a(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,sa.lanes|=a,Ll|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Aa(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ea(t,e){var n=sa,r=ba(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,La(Ta.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ma(9,xa.bind(null,n,r,i,e),void 0,null),null===kl)throw Error(o(349));0!==(30&aa)||Ca(n,e,i)}return i}function Ca(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function xa(t,e,n,r){e.value=n,e.getSnapshot=r,Ia(e)&&ka(t)}function Ta(t,e,n){return n((function(){Ia(e)&&ka(t)}))}function Ia(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function ka(t){var e=No(t,1);null!==e&&nc(e,t,1,-1)}function Ra(t){var e=ya();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},e.queue=t,t=t.dispatch=qa.bind(null,sa,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Pa(){return ba().memoizedState}function Oa(t,e,n,r){var i=ya();sa.flags|=t,i.memoizedState=Ma(1|e,n,void 0,void 0===r?null:r)}function Da(t,e,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ma(e,n,o,r))}sa.flags|=t,i.memoizedState=Ma(1|e,n,o,r)}function Na(t,e){return Oa(8390656,8,t,e)}function La(t,e){return Da(2048,8,t,e)}function Fa(t,e){return Da(4,2,t,e)}function Ba(t,e){return Da(4,4,t,e)}function ja(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function za(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Da(4,4,ja.bind(null,e,t),n)}function Va(){}function Ha(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ga(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ua(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ga(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wa(t,e,n){return 0===(21&aa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),sa.lanes|=n,Ll|=n,t.baseState=!0),e)}function $a(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=oa.transition;oa.transition={};try{t(!1),e()}finally{be=n,oa.transition=r}}function Ga(){return ba().memoizedState}function Xa(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(t))Ka(e,n);else if(null!==(n=Do(t,e,n,r))){nc(n,t,r,tc()),Za(n,e,r)}}function qa(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(t))Ka(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Oo(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=Do(t,e,i,r))&&(nc(n,t,r,i=tc()),Za(n,e,r))}}function Ya(t){var e=t.alternate;return t===sa||null!==e&&e===sa}function Ka(t,e){da=ua=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Za(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var Qa={readContext:Mo,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Mo,useCallback:function(t,e){return ya().memoizedState=[t,void 0===e?null:e],t},useContext:Mo,useEffect:Na,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Oa(4194308,4,ja.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oa(4,2,t,e)},useMemo:function(t,e){var n=ya();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ya();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xa.bind(null,sa,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ya().memoizedState=t},useState:Ra,useDebugValue:Va,useDeferredValue:function(t){return ya().memoizedState=t},useTransition:function(){var t=Ra(!1),e=t[0];return t=$a.bind(null,t[1]),ya().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===kl)throw Error(o(349));0!==(30&aa)||Ca(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Na(Ta.bind(null,r,a,t),[t]),r.flags|=2048,Ma(9,xa.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ya(),e=kl.identifierPrefix;if(io){var n=Zi;e=":"+e+"R"+(n=(Ki&~(1<<32-ae(Ki)-1)).toString(32)+n),0<(n=ha++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:Mo,useCallback:Ha,useContext:Mo,useEffect:La,useImperativeHandle:za,useInsertionEffect:Fa,useLayoutEffect:Ba,useMemo:Ua,useReducer:_a,useRef:Pa,useState:function(){return _a(wa)},useDebugValue:Va,useDeferredValue:function(t){return Wa(ba(),la.memoizedState,t)},useTransition:function(){return[_a(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1},es={readContext:Mo,useCallback:Ha,useContext:Mo,useEffect:La,useImperativeHandle:za,useInsertionEffect:Fa,useLayoutEffect:Ba,useMemo:Ua,useReducer:Aa,useRef:Pa,useState:function(){return Aa(wa)},useDebugValue:Va,useDeferredValue:function(t){var e=ba();return null===la?e.memoizedState=t:Wa(e,la.memoizedState,t)},useTransition:function(){return[Aa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Ga,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function rs(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var is={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=jo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=zo(t,o,i))&&(nc(e,t,i,r),Vo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=jo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=zo(t,o,i))&&(nc(e,t,i,r),Vo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=jo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=zo(t,i,r))&&(nc(e,t,r,n),Vo(e,t,r))}};function os(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(t,e,n){var r=!1,i=Ti,o=e.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Pi(e)?Ri:Ii.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Mi(t,i):Ti),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function ls(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Pi(e)?Ri:Ii.current,i.context=Mi(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(rs(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&is.enqueueReplaceState(i,i.state,null),Uo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function cs(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function us(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,$l=r),ds(0,e)},n}function ps(t,e,n){(n=jo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,e),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function gs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new hs;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function ms(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=jo(-1,1)).tag=2,zo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ys=w.ReactCurrentOwner,bs=!1;function ws(t,e,n,r){e.child=null===t?Ao(e,null,n,r):_o(e,t.child,n,r)}function _s(t,e,n,r,i){n=n.render;var o=e.ref;return Ro(e,i),r=ma(t,e,n,r,o,i),n=va(),null===t||bs?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function As(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=Oc(o,r)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return xs(t,e,n,r,i)}function Es(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xi(Ol,Pl),Pl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Ol,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,xi(Ol,Pl),Pl|=r;return ws(t,e,i,n),e.child}function Cs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xs(t,e,n,r,i){var o=Pi(n)?Ri:Ii.current;return o=Mi(e,o),Ro(e,i),n=ma(t,e,n,r,o,i),r=va(),null===t||bs?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Ts(t,e,n,r,i){if(Pi(n)){var o=!0;Li(e)}else o=!1;if(Ro(e,i),null===e.stateNode)Us(t,e),as(e,n,r),ls(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Mi(e,c=Pi(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(e,a,r,c),Lo=!1;var h=e.memoizedState;a.state=h,Uo(e,r,a,i),l=e.memoizedState,s!==r||h!==l||ki.current||Lo?("function"===typeof u&&(rs(e,n,u,r),l=e.memoizedState),(s=Lo||os(e,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Bo(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ns(e.type,s),a.props=c,d=e.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Mi(e,l=Pi(n)?Ri:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(e,a,r,l),Lo=!1,h=e.memoizedState,a.state=h,Uo(e,r,a,i);var p=e.memoizedState;s!==d||h!==p||ki.current||Lo?("function"===typeof f&&(rs(e,n,f,r),p=e.memoizedState),(c=Lo||os(e,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Is(t,e,n,r,o,i)}function Is(t,e,n,r,i,o){Cs(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Fi(e,n,!1),Ws(t,e,o);r=e.stateNode,ys.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=_o(e,t.child,null,o),e.child=_o(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function ks(t){var e=t.stateNode;e.pendingContext?Di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Di(0,e.context,!1),Ko(t,e.containerInfo)}function Rs(t,e,n,r,i){return po(),go(i),e.flags|=256,ws(t,e,n,r),e.child}var Ms,Ps,Os,Ds,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,n){var r,i=e.pendingProps,a=ta.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),xi(ta,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),t=Nc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(n),e.memoizedState=Ns,t):Bs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,js(t,e,s,r=us(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Nc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&_o(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=Ns,a);if(0===(1&e.mode))return js(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,js(t,e,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(r=kl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,No(t,i),nc(r,t,i,-1))}return gc(),js(t,e,s,r=us(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Tc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Xi[qi++]=Ki,Xi[qi++]=Zi,Xi[qi++]=Yi,Ki=t.id,Zi=t.overflow,Yi=e),e=Bs(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Nc(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ns,i}return t=(s=t.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Bs(t,e){return(e=Lc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function js(t,e,n,r){return null!==r&&go(r),_o(e,t.child,null,n),(t=Bs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function zs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),ko(t.return,e,n)}function Vs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&zs(t,n,e);else if(19===t.tag)zs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xi(ta,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ea(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ea(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vs(e,!0,n,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Oc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Oc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $s(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(e),null;case 1:case 17:return Pi(e.type)&&Oi(),Gs(e),null;case 3:return r=e.stateNode,Zo(),Ci(ki),Ci(Ii),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ps(t,e),Gs(e),null;case 5:Jo(e);var i=Yo(qo.current);if(n=e.type,null!==t&&null!=e.stateNode)Os(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Gs(e),null}if(t=Yo(Go.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[hi]=e,r[fi]=a,t=0!==(1&e.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)jr(Nr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":K(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":it(r,a),jr("invalid",r)}for(var l in yt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":G(r),J(r,a,!0);break;case"textarea":G(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[hi]=e,t[fi]=r,Ms(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":jr("cancel",t),jr("close",t),i=r;break;case"iframe":case"object":case"embed":jr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)jr(Nr[i],t);i=r;break;case"source":jr("error",t),i=r;break;case"img":case"image":case"link":jr("error",t),jr("load",t),i=r;break;case"details":jr("toggle",t),i=r;break;case"input":K(t,r),i=Y(t,r),jr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),jr("invalid",t)}for(a in yt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?mt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&dt(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",t):null!=u&&b(t,a,u,l))}switch(n){case"input":G(t),J(t,r,!1);break;case"textarea":G(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+W(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Gs(e),null;case 6:if(t&&null!=e.stateNode)Ds(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=Yo(qo.current),Yo(Go.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[hi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Qr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=e,e.stateNode=r}return Gs(e),null;case 13:if(Ci(ta),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Gs(e),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ta.current)?0===Dl&&(Dl=3):gc())),null!==e.updateQueue&&(e.flags|=4),Gs(e),null);case 4:return Zo(),Ps(t,e),null===t&&Hr(e.stateNode.containerInfo),Gs(e),null;case 10:return Io(e.type._context),Gs(e),null;case 19:if(Ci(ta),null===(a=e.memoizedState))return Gs(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Dl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ea(t))){for(e.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xi(ta,1&ta.current|2),e.child}t=t.sibling}null!==a.tail&&Zt()>Hl&&(e.flags|=128,r=!0,$s(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ea(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(e),null}else 2*Zt()-a.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,r=!0,$s(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Zt(),e.sibling=null,n=ta.current,xi(ta,r?1&n|2:1&n),e):(Gs(e),null);case 22:case 23:return dc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Pl)&&(Gs(e),6&e.subtreeFlags&&(e.flags|=8192)):Gs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function qs(t,e){switch(eo(e),e.tag){case 1:return Pi(e.type)&&Oi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Zo(),Ci(ki),Ci(Ii),ra(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Jo(e),null;case 13:if(Ci(ta),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ci(ta),null;case 4:return Zo(),null;case 10:return Io(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Os=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yo(Go.current);var o,a=null;switch(n){case"input":i=Y(t,i),r=Y(t,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Jr)}for(u in yt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ds=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ys=!1,Ks=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(t,e,r)}else n.current=null}function tl(t,e,n){try{n()}catch(r){Ec(t,e,r)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,n,o)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[hi],delete e[fi],delete e[gi],delete e[mi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,dl=!1;function hl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Ks||Js(n,e);case 6:var r=ul,i=dl;ul=null,hl(t,e,n),dl=i,null!==(ul=r)&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(t=ul,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),He(t)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(t,e,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,e,a),i=i.next}while(i!==r)}hl(t,e,n);break;case 1:if(!Ks&&(Js(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,e,s)}hl(t,e,n);break;case 21:hl(t,e,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(t,e,n),Ks=r):hl(t,e,n);break;default:hl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=Ic.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(m){Ec(t,t.return,m)}try{nl(5,t,t.return)}catch(m){Ec(t,t.return,m)}}break;case 1:gl(e,t),vl(t),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gl(e,t),vl(t),512&r&&null!==n&&Js(n,n.return),32&t.flags){var i=t.stateNode;try{ht(i,"")}catch(m){Ec(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),bt(l,s);var u=bt(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?mt(i,h):"dangerouslySetInnerHTML"===d?dt(i,h):"children"===d?ht(i,h):b(i,d,h,u)}switch(l){case"input":Q(i,a);break;case"textarea":ot(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(m){Ec(t,t.return,m)}}break;case 6:if(gl(e,t),vl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Ec(t,t.return,m)}}break;case 3:if(gl(e,t),vl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(m){Ec(t,t.return,m)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Zt())),4&r&&pl(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Ks=(u=Ks)||d,gl(e,t),Ks=u):gl(e,t),vl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!d&&0!==(1&t.mode))for(Qs=t,d=t.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Js(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Js(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Qs=p):_l(h)}d=d.sibling}t:for(d=null,h=t;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",s))}catch(m){Ec(t,t.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ec(t,t.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(e,t),vl(t),4&r&&pl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ht(i,""),r.flags&=-33),cl(t,sl(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(t,sl(t),a);break;default:throw Error(o(161))}}catch(s){Ec(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function yl(t,e,n){Qs=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!==(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ys;var c=Ks;if(Ys=a,(Ks=l)&&!c)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Al(i):null!==l?(l.return=a,Qs=l):Al(i);for(;null!==o;)Qs=o,bl(o,e,n),o=o.sibling;Qs=i,Ys=s,Ks=c}wl(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):wl(t)}}function wl(t){for(;null!==Qs;){var e=Qs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ks||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Wo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&He(h)}}}break;default:throw Error(o(163))}Ks||512&e.flags&&il(e)}catch(f){Ec(e,e.return,f)}}if(e===t){Qs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qs=n;break}Qs=e.return}}function _l(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qs=n;break}Qs=e.return}}function Al(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Ec(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){Ec(e,i,l)}}var o=e.return;try{il(e)}catch(l){Ec(e,o,l)}break;case 5:var a=e.return;try{il(e)}catch(l){Ec(e,a,l)}}}catch(l){Ec(e,e.return,l)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var Sl,El=Math.ceil,Cl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,kl=null,Rl=null,Ml=0,Pl=0,Ol=Ei(0),Dl=0,Nl=null,Ll=0,Fl=0,Bl=0,jl=null,zl=null,Vl=0,Hl=1/0,Ul=null,Wl=!1,$l=null,Gl=null,Xl=!1,ql=null,Yl=0,Kl=0,Zl=null,Ql=-1,Jl=0;function tc(){return 0!==(6&Il)?Zt():-1!==Ql?Ql:Ql=Zt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Il)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===Jl&&(Jl=ge()),Jl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function nc(t,e,n,r){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));ve(t,n,r),0!==(2&Il)&&t===kl||(t===kl&&(0===(2&Il)&&(Fl|=n),4===Dl&&sc(t,Ml)),rc(t,r),1===n&&0===Il&&0===(1&e.mode)&&(Hl=Zt()+500,ji&&Hi()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=he(t,t===kl?Ml:0);if(0===r)null!==n&&qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&qt(n),1===e)0===t.tag?function(t){ji=!0,Vi(t)}(lc.bind(null,t)):Vi(lc.bind(null,t)),ai((function(){0===(6&Il)&&Hi()})),n=null;else{switch(we(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=kc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Ql=-1,Jl=0,0!==(6&Il))throw Error(o(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var r=he(t,t===kl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=mc(t,r);else{e=r;var i=Il;Il|=2;var a=pc();for(kl===t&&Ml===e||(Ul=null,Hl=Zt()+500,hc(t,e));;)try{yc();break}catch(l){fc(t,l)}To(),Cl.current=a,Il=i,null!==Rl?e=0:(kl=null,Ml=0,e=Dl)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=oc(t,i))),1===e)throw n=Nl,hc(t,0),sc(t,r),rc(t,Zt()),n;if(6===e)sc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=mc(t,r))&&(0!==(a=pe(t))&&(r=a,e=oc(t,a))),1===e))throw n=Nl,hc(t,0),sc(t,r),rc(t,Zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:_c(t,zl,Ul);break;case 3:if(sc(t,r),(130023424&r)===r&&10<(e=Vl+500-Zt())){if(0!==he(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(_c.bind(null,t,zl,Ul),e);break}_c(t,zl,Ul);break;case 4:if(sc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Zt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){t.timeoutHandle=ri(_c.bind(null,t,zl,Ul),r);break}_c(t,zl,Ul);break;default:throw Error(o(329))}}}return rc(t,Zt()),t.callbackNode===n?ic.bind(null,t):null}function oc(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=zl,zl=n,null!==e&&ac(e)),t}function ac(t){null===zl?zl=t:zl.push.apply(zl,t)}function sc(t,e){for(e&=~Bl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(0!==(6&Il))throw Error(o(327));Ac();var e=he(t,0);if(0===(1&e))return rc(t,Zt()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Nl,hc(t,0),sc(t,e),rc(t,Zt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,zl,Ul),rc(t,Zt()),null}function cc(t,e){var n=Il;Il|=1;try{return t(e)}finally{0===(Il=n)&&(Hl=Zt()+500,ji&&Hi())}}function uc(t){null!==ql&&0===ql.tag&&0===(6&Il)&&Ac();var e=Il;Il|=1;var n=Tl.transition,r=be;try{if(Tl.transition=null,be=1,t)return t()}finally{be=r,Tl.transition=n,0===(6&(Il=e))&&Hi()}}function dc(){Pl=Ol.current,Ci(Ol)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Zo(),Ci(ki),Ci(Ii),ra();break;case 5:Jo(r);break;case 4:Zo();break;case 13:case 19:Ci(ta);break;case 10:Io(r.type._context);break;case 22:case 23:dc()}n=n.return}if(kl=t,Rl=t=Oc(t.current,null),Ml=Pl=e,Dl=0,Nl=null,Bl=Fl=Ll=0,zl=jl=null,null!==Po){for(e=0;e<Po.length;e++)if(null!==(r=(n=Po[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return t}function fc(t,e){for(;;){var n=Rl;try{if(To(),ia.current=Qa,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,xl.current=null,null===n||null===n.return){Dl=1,Nl=e,Rl=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,e),1&p.mode&&gs(a,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){gs(a,u,e),gc();break t}c=Error(o(426))}else if(io&&1&l.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,e),go(cs(c,l));break t}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===jl?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Ho(a,fs(0,c,e));break t;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Ho(a,ps(a,l,e));break t}}a=a.return}while(null!==a)}wc(n)}catch(w){e=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var t=Cl.current;return Cl.current=Qa,null===t?Qa:t}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===kl||0===(268435455&Ll)&&0===(268435455&Fl)||sc(kl,Ml)}function mc(t,e){var n=Il;Il|=2;var r=pc();for(kl===t&&Ml===e||(Ul=null,hc(t,e));;)try{vc();break}catch(i){fc(t,i)}if(To(),Il=n,Cl.current=r,null!==Rl)throw Error(o(261));return kl=null,Ml=0,Dl}function vc(){for(;null!==Rl;)bc(Rl)}function yc(){for(;null!==Rl&&!Yt();)bc(Rl)}function bc(t){var e=Sl(t.alternate,t,Pl);t.memoizedProps=t.pendingProps,null===e?wc(t):Rl=e,xl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Xs(n,e,Pl)))return void(Rl=n)}else{if(null!==(n=qs(n,e)))return n.flags&=32767,void(Rl=n);if(null===t)return Dl=6,void(Rl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Rl=e);Rl=e=t}while(null!==e);0===Dl&&(Dl=5)}function _c(t,e,n){var r=be,i=Tl.transition;try{Tl.transition=null,be=1,function(t,e,n,r){do{Ac()}while(null!==ql);if(0!==(6&Il))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===kl&&(Rl=kl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,kc(ee,(function(){return Ac(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=be;be=1;var l=Il;Il|=4,xl.current=null,function(t,e){if(ti=We,fr(t=hr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break t}var s=0,l=-1,c=-1,u=0,d=0,h=t,f=null;e:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===t)break e;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ns(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Ec(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}g=el,el=!1}(t,n),ml(n,t),pr(ei),We=!!ti,ei=ti=null,t.current=n,yl(n,t,i),Kt(),Il=l,be=s,Tl.transition=a}else t.current=n;if(Xl&&(Xl=!1,ql=t,Yl=i),a=t.pendingLanes,0===a&&(Gl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Zt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=$l,$l=null,t;0!==(1&Yl)&&0!==t.tag&&Ac(),a=t.pendingLanes,0!==(1&a)?t===Zl?Kl++:(Kl=0,Zl=t):Kl=0,Hi()}(t,e,n,r)}finally{Tl.transition=i,be=r}return null}function Ac(){if(null!==ql){var t=we(Yl),e=Tl.transition,n=be;try{if(Tl.transition=null,be=16>t?16:t,null===ql)var r=!1;else{if(t=ql,ql=null,Yl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(ol(d),d===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break t}Qs=a.return}}var b=t.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else t:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){Ec(l,l.return,A)}if(l===s){Qs=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,Qs=_;break t}Qs=l.return}}if(Il=i,Hi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(A){}r=!0}return r}finally{be=n,Tl.transition=e}}return!1}function Sc(t,e,n){t=zo(t,e=fs(0,e=cs(n,e),1),1),e=tc(),null!==t&&(ve(t,1,e),rc(t,e))}function Ec(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){e=zo(e,t=ps(e,t=cs(n,t),1),1),t=tc(),null!==e&&(ve(e,1,t),rc(e,t));break}}e=e.return}}function Cc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,kl===t&&(Ml&n)===n&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Zt()-Vl?hc(t,0):Bl|=n),rc(t,e)}function xc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=No(t,e))&&(ve(t,e,n),rc(t,n))}function Tc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),xc(t,n)}function Ic(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),xc(t,n)}function kc(t,e){return Xt(t,e)}function Rc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(t,e,n,r){return new Rc(t,e,n,r)}function Pc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Oc(t,e){var n=t.alternate;return null===n?((n=Mc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Pc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Nc(n.children,i,a,e);case E:s=8,i|=8;break;case C:return(t=Mc(12,n,e,2|i)).elementType=C,t.lanes=a,t;case k:return(t=Mc(13,n,e,i)).elementType=k,t.lanes=a,t;case R:return(t=Mc(19,n,e,i)).elementType=R,t.lanes=a,t;case O:return Lc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case x:s=10;break t;case T:s=9;break t;case I:s=11;break t;case M:s=14;break t;case P:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Mc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Nc(t,e,n,r){return(t=Mc(7,t,r,e)).lanes=n,t}function Lc(t,e,n,r){return(t=Mc(22,t,r,e)).elementType=O,t.lanes=n,t.stateNode={isHidden:!1},t}function Fc(t,e,n){return(t=Mc(6,t,null,e)).lanes=n,t}function Bc(t,e,n){return(e=Mc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(t,e,n,r,i,o,a,s,l){return t=new jc(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Mc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),t}function Vc(t){if(!t)return Ti;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Pi(n))return Ni(t,n,e)}return e}function Hc(t,e,n,r,i,o,a,s,l){return(t=zc(n,r,!0,t,0,o,0,s,l)).context=Vc(null),n=t.current,(o=jo(r=tc(),i=ec(n))).callback=void 0!==e&&null!==e?e:null,zo(n,o,i),t.current.lanes=i,ve(t,i,r),rc(t,r),t}function Uc(t,e,n,r){var i=e.current,o=tc(),a=ec(i);return n=Vc(n),null===e.context?e.context=n:e.pendingContext=n,(e=jo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=zo(i,e,a))&&(nc(t,i,a,o),Vo(t,i,a)),a}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $c(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||ki.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:ks(e),po();break;case 5:Qo(e);break;case 1:Pi(e.type)&&Li(e);break;case 4:Ko(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xi(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(xi(ta,1&ta.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Fs(t,e,n):(xi(ta,1&ta.current),null!==(t=Ws(t,e,n))?t.sibling:null);xi(ta,1&ta.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Hs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ta,ta.current),r)break;return null;case 22:case 23:return e.lanes=0,Es(t,e,n)}return Ws(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Ji(e,Gi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Us(t,e),t=e.pendingProps;var i=Mi(e,Ii.current);Ro(e,n),i=ma(null,e,r,t,i,n);var a=va();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(e),i.updater=is,e.stateNode=i,i._reactInternals=e,ls(e,r,t,n),e=Is(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Us(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Pc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===M)return 14}return 2}(r),t=ns(r,t),i){case 0:e=xs(null,e,r,t,n);break t;case 1:e=Ts(null,e,r,t,n);break t;case 11:e=_s(null,e,r,t,n);break t;case 14:e=As(null,e,r,ns(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,xs(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ts(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 3:t:{if(ks(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Bo(t,e),Uo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Rs(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=Rs(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Ao(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Ws(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return Qo(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Cs(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return Fs(t,e,n);case 4:return Ko(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=_o(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,_s(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,xi(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ki.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=jo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ko(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),r=r(i=Mo(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=ns(r=e.type,e.pendingProps),As(t,e,r,i=ns(r.type,i),n);case 15:return Ss(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),Us(t,e),e.tag=1,Pi(r)?(t=!0,Li(e)):t=!1,Ro(e,n),as(e,r,i),ls(e,r,i,n),Is(null,e,r,!0,t,n);case 19:return Hs(t,e,n);case 22:return Es(t,e,n)}throw Error(o(156,e.tag))};var Xc="function"===typeof reportError?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Kc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qc(){}function Jc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wc(a);s.call(t)}}Uc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wc(a);o.call(t)}}var a=Hc(e,r,t,0,null,!1,0,"",Qc);return t._reactRootContainer=a,t[pi]=a.current,Hr(8===t.nodeType?t.parentNode:t),uc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wc(l);s.call(t)}}var l=zc(t,0,!1,null,0,!1,0,"",Qc);return t._reactRootContainer=l,t[pi]=l.current,Hr(8===t.nodeType?t.parentNode:t),uc((function(){Uc(e,l,n,r)})),l}(n,e,t,i,r);return Wc(a)}Yc.prototype.render=qc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Uc(t,e,null,null)},Yc.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Uc(null,t,null,null)})),e[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oe.length&&0!==e&&e<Oe[n].priority;n++);Oe.splice(n,0,t),0===n&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ye(e,1|n),rc(e,Zt()),0===(6&Il)&&(Hl=Zt()+500,Hi()))}break;case 13:uc((function(){var e=No(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),Gc(t,1)}},Ae=function(t){if(13===t.tag){var e=No(t,134217728);if(null!==e)nc(e,t,134217728,tc());Gc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=No(t,e);if(null!==n)nc(n,t,e,tc());Gc(t,e)}},Ee=function(){return be},Ce=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},At=function(t,e,n){switch(e){case"input":if(Q(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_i(r);if(!i)throw Error(o(90));X(r),Q(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=cc,kt=uc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,xt,Tt,cc]},eu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ie=ru.inject(nu),oe=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Kc(t))throw Error(o(299));var n=!1,r="",i=Xc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=zc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Hr(8===t.nodeType?t.parentNode:t),new qc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Zc(e))throw Error(o(200));return Jc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Kc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Hr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yc(e)},e.render=function(t,e,n){if(!Zc(e))throw Error(o(200));return Jc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){Jc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Jc(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},4391:(t,e,n)=>{"use strict";var r=n(7950);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},7950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(2730)},6366:t=>{var e="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(t[l],a[l]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=t.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!==l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"===typeof t.valueOf&&"function"===typeof a.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString&&"function"===typeof t.toString&&"function"===typeof a.toString)return t.toString()===a.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(e&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!t.$$typeof)&&!o(t[c[l]],a[c[l]]))return!1;return!0}return t!==t&&a!==a}t.exports=function(t,e){try{return o(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1153:(t,e,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},4202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,A=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)A.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function x(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function k(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+I(l,0):o,_(a)?(i="",null!=t&&(i=t.replace(T,"$&/")+"/"),k(a,e,i,"",(function(t){return t}))):null!=a&&(x(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",_(t))for(var c=0;c<t.length;c++){var u=o+I(s=t[c],c);l+=k(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=k(s=s.value,e,i,u=o+I(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function R(t,e,n){if(null==t)return t;var r=[],i=0;return k(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function N(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:R,forEach:function(t,e,n){R(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return R(t,(function(){e++})),e},toArray:function(t){return R(t,(function(t){return t}))||[]},only:function(t){if(!x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.act=N,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)A.call(e,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=x,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=O.transition;O.transition={};try{t()}finally{O.transition=e}},e.unstable_act=N,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},5043:(t,e,n)=>{"use strict";t.exports=n(4202)},579:(t,e,n)=>{"use strict";t.exports=n(1153)},7234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function _(t){if(m=!1,w(t),!g)if(null!==r(c))g=!0,O(A);else{var e=r(u);null!==e&&D(_,e.startTime-t)}}function A(t,n){g=!1,m&&(m=!1,y(x),x=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||t&&!k());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,x=-1,T=5,I=-1;function k(){return!(e.unstable_now()-I<T)}function R(){if(null!==C){var t=e.unstable_now();I=t;var n=!0;try{n=C(!0,t)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){v(R,0)};function O(t){C=t,E||(E=!0,S())}function D(t,n){x=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,O(A))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:d++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(m?(y(x),x=-1):m=!0,D(_,o-a))):(t.sortIndex=s,n(c,t),g||p||(g=!0,O(A))),t},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},8853:(t,e,n)=>{"use strict";t.exports=n(7234)},5956:(t,e,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=e,c(i)&&u({inst:i})}),[t,n,e]),a((function(){return c(i)&&u({inst:i}),t((function(){c(i)&&u({inst:i})}))}),[t]),l(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5039:(t,e,n)=>{"use strict";var r=n(5043),i=n(9461);var o="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function t(t){if(!l){if(l=!0,a=t,t=r(t),void 0!==i&&h.hasValue){var e=h.value;if(i(e,t))return s=e}return s=t}if(e=s,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?e:(a=t,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]}),[e,n,r,i]);var f=a(t,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},9461:(t,e,n)=>{"use strict";t.exports=n(5956)},8443:(t,e,n)=>{"use strict";t.exports=n(5039)}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>n[t]));return o.default=()=>n,__webpack_require__.d(i,o),i}})(),__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.u=t=>"static/js/"+t+".b80fa3e4.chunk.js",__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),__webpack_require__.p="/cve_demo/",__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var t=__webpack_require__(5043),e=__webpack_require__.t(t,2),n=__webpack_require__(4391);var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)})),this.tags=[],this.ctr=0},t}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(t){return t.trim()}function l(t,e,n){return t.replace(e,n)}function c(t,e){return t.indexOf(e)}function u(t,e){return 0|t.charCodeAt(e)}function d(t,e,n){return t.slice(e,n)}function h(t){return t.length}function f(t){return t.length}function p(t,e){return e.push(t),t}var g=1,m=1,v=0,y=0,b=0,w="";function _(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:g,column:m,length:a,return:""}}function A(t,e){return a(_("",null,null,"",null,null,0),t,{length:-t.length},e)}function S(){return b=y>0?u(w,--y):0,m--,10===b&&(m=1,g--),b}function E(){return b=y<v?u(w,y++):0,m++,10===b&&(m=1,g++),b}function C(){return u(w,y)}function x(){return y}function T(t,e){return d(w,t,e)}function I(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k(t){return g=m=1,v=h(w=t),y=0,[]}function R(t){return w="",t}function M(t){return s(T(y-1,D(91===t?t+2:40===t?t+1:t)))}function P(t){for(;(b=C())&&b<33;)E();return I(t)>2||I(b)>3?"":" "}function O(t,e){for(;--e&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(t,x()+(e<6&&32==C()&&32==E()))}function D(t){for(;E();)switch(b){case t:return y;case 34:case 39:34!==t&&39!==t&&D(b);break;case 40:41===t&&D(t);break;case 92:E()}return y}function N(t,e){for(;E()&&t+b!==57&&(t+b!==84||47!==C()););return"/*"+T(e,y-1)+"*"+o(47===t?t:E())}function L(t){for(;!I(C());)E();return T(t,y)}var F="-ms-",B="-moz-",j="-webkit-",z="comm",V="rule",H="decl",U="@keyframes";function W(t,e){for(var n="",r=f(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function $(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case H:return t.return=t.return||t.value;case z:return"";case U:return t.return=t.value+"{"+W(t.children,r)+"}";case V:t.value=t.props.join(",")}return h(n=W(t.children,r))?t.return=t.value+"{"+n+"}":""}function G(t){return R(X("",null,null,null,[""],t=k(t),0,[0],t))}function X(t,e,n,r,i,a,s,d,f){for(var g=0,m=0,v=s,y=0,b=0,w=0,_=1,A=1,T=1,I=0,k="",R=i,D=a,F=r,B=k;A;)switch(w=I,I=E()){case 40:if(108!=w&&58==u(B,v-1)){-1!=c(B+=l(M(I),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:B+=M(I);break;case 9:case 10:case 13:case 32:B+=P(w);break;case 92:B+=O(x()-1,7);continue;case 47:switch(C()){case 42:case 47:p(Y(N(E(),x()),e,n),f);break;default:B+="/"}break;case 123*_:d[g++]=h(B)*T;case 125*_:case 59:case 0:switch(I){case 0:case 125:A=0;case 59+m:-1==T&&(B=l(B,/\f/g,"")),b>0&&h(B)-v&&p(b>32?K(B+";",r,n,v-1):K(l(B," ","")+";",r,n,v-2),f);break;case 59:B+=";";default:if(p(F=q(B,e,n,g,m,i,d,k,R=[],D=[],v),a),123===I)if(0===m)X(B,e,F,F,R,a,v,d,D);else switch(99===y&&110===u(B,3)?100:y){case 100:case 108:case 109:case 115:X(t,F,F,r&&p(q(t,F,F,0,0,i,d,k,i,R=[],v),D),i,D,v,d,r?R:D);break;default:X(B,F,F,F,[""],D,0,d,D)}}g=m=b=0,_=T=1,k=B="",v=s;break;case 58:v=1+h(B),b=w;default:if(_<1)if(123==I)--_;else if(125==I&&0==_++&&125==S())continue;switch(B+=o(I),I*_){case 38:T=m>0?1:(B+="\f",-1);break;case 44:d[g++]=(h(B)-1)*T,T=1;break;case 64:45===C()&&(B+=M(E())),y=C(),m=v=h(k=B+=L(x())),I++;break;case 45:45===w&&2==h(B)&&(_=0)}}return a}function q(t,e,n,r,o,a,c,u,h,p,g){for(var m=o-1,v=0===o?a:[""],y=f(v),b=0,w=0,A=0;b<r;++b)for(var S=0,E=d(t,m+1,m=i(w=c[b])),C=t;S<y;++S)(C=s(w>0?v[S]+" "+E:l(E,/&\f/g,v[S])))&&(h[A++]=C);return _(t,e,n,0===o?V:u,h,p,g)}function Y(t,e,n){return _(t,e,n,z,o(b),d(t,2,-2),0)}function K(t,e,n,r){return _(t,e,n,H,d(t,0,r),d(t,r+1,-1),r)}var Z=function(t,e,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(e[n]=1),!I(i);)E();return T(t,y)},Q=function(t,e){return R(function(t,e){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===C()&&(e[n]=1),t[n]+=Z(y-1,e,n);break;case 2:t[n]+=M(r);break;case 4:if(44===r){t[++n]=58===C()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=o(r)}}while(r=E());return t}(k(t),e))},J=new WeakMap,tt=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||J.get(n))&&!r){J.set(t,!0);for(var i=[],o=Q(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},et=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function nt(t,e){switch(function(t,e){return 45^u(t,0)?(((e<<2^u(t,0))<<2^u(t,1))<<2^u(t,2))<<2^u(t,3):0}(t,e)){case 5103:return j+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return j+t+B+t+F+t+t;case 6828:case 4268:return j+t+F+t+t;case 6165:return j+t+F+"flex-"+t+t;case 5187:return j+t+l(t,/(\w+).+(:[^]+)/,j+"box-$1$2"+F+"flex-$1$2")+t;case 5443:return j+t+F+"flex-item-"+l(t,/flex-|-self/,"")+t;case 4675:return j+t+F+"flex-line-pack"+l(t,/align-content|flex-|-self/,"")+t;case 5548:return j+t+F+l(t,"shrink","negative")+t;case 5292:return j+t+F+l(t,"basis","preferred-size")+t;case 6060:return j+"box-"+l(t,"-grow","")+j+t+F+l(t,"grow","positive")+t;case 4554:return j+l(t,/([^-])(transform)/g,"$1"+j+"$2")+t;case 6187:return l(l(l(t,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),t,"")+t;case 5495:case 3959:return l(t,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return l(l(t,/(.+:)(flex-)?(.*)/,j+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+t+t;case 4095:case 3583:case 4068:case 2532:return l(t,/(.+)-inline(.+)/,j+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(t)-1-e>6)switch(u(t,e+1)){case 109:if(45!==u(t,e+4))break;case 102:return l(t,/(.+:)(.+)-([^]+)/,"$1"+j+"$2-$3$1"+B+(108==u(t,e+3)?"$3":"$2-$3"))+t;case 115:return~c(t,"stretch")?nt(l(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==u(t,e+1))break;case 6444:switch(u(t,h(t)-3-(~c(t,"!important")&&10))){case 107:return l(t,":",":"+j)+t;case 101:return l(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===u(t,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+F+"$2box$3")+t}break;case 5936:switch(u(t,e+11)){case 114:return j+t+F+l(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return j+t+F+l(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return j+t+F+l(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return j+t+F+t+t}return t}var rt=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case H:t.return=nt(t.value,t.length);break;case U:return W([A(t,{value:l(t.value,"@","@"+j)})],r);case V:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([A(t,{props:[l(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([A(t,{props:[l(e,/:(plac\w+)/,":"+j+"input-$1")]}),A(t,{props:[l(e,/:(plac\w+)/,":-moz-$1")]}),A(t,{props:[l(e,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],it=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i,o,a=t.stylisPlugins||rt,s={},l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;l.push(t)}));var c,u,d=[$,(u=function(t){c.insert(t)},function(t){t.root||(t=t.return)&&u(t)})],h=function(t){var e=f(t);return function(n,r,i,o){for(var a="",s=0;s<e;s++)a+=t[s](n,r,i,o)||"";return a}}([tt,et].concat(a,d));o=function(t,e,n,r){c=n,function(t){W(G(t),h)}(t?t+"{"+e.styles+"}":e.styles),r&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new r({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(l),p};function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot.apply(null,arguments)}var at=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var r=t(n);return e.set(n,r),r}};var st={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function lt(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var ct=!1,ut=/[A-Z]|^ms/g,dt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ht=function(t){return 45===t.charCodeAt(1)},ft=function(t){return null!=t&&"boolean"!==typeof t},pt=lt((function(t){return ht(t)?t:t.replace(ut,"-$&").toLowerCase()})),gt=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(dt,(function(t,e,n){return yt={name:e,styles:n,next:yt},e}))}return 1===st[t]||ht(t)||"number"!==typeof e||0===e?e:e+"px"},mt="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function vt(t,e,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return yt={name:i.name,styles:i.styles,next:yt},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)yt={name:a.name,styles:a.styles,next:yt},a=a.next;return o.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=vt(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":ft(s)&&(r+=pt(o)+":"+gt(o,s)+";")}else{if("NO_COMPONENT_SELECTOR"===o&&ct)throw new Error(mt);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var l=vt(t,e,a);switch(o){case"animation":case"animationName":r+=pt(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<a.length;c++)ft(a[c])&&(r+=pt(o)+":"+gt(o,a[c])+";")}}return r}(t,e,n);case"function":if(void 0!==t){var s=yt,l=n(t);return yt=s,vt(t,e,l)}}var c=n;if(null==e)return c;var u=e[c];return void 0!==u?u:c}var yt,bt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function wt(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";yt=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=vt(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++){if(i+=vt(n,e,t[a]),r)i+=o[a]}bt.lastIndex=0;for(var s,l="";null!==(s=bt.exec(i));)l+="-"+s[1];var c=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:yt}}var _t=!!e.useInsertionEffect&&e.useInsertionEffect,At=_t||function(t){return t()},St=_t||t.useLayoutEffect,Et=t.createContext("undefined"!==typeof HTMLElement?it({key:"css"}):null),Ct=(Et.Provider,function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Et);return e(n,i,r)}))}),xt=t.createContext({}),Tt=at((function(t){return at((function(e){return function(t,e){return"function"===typeof e?e(t):ot({},t,e)}(t,e)}))})),It=function(e){var n=t.useContext(xt);return e.theme!==n&&(n=Tt(n)(e.theme)),t.createElement(xt.Provider,{value:n},e.children)};var kt=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},Rt=function(t,e,n){kt(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}},Mt=(__webpack_require__(219),Ct((function(e,n){var r=wt([e.styles],void 0,t.useContext(xt)),i=t.useRef();return St((function(){var t=n.key+"-global",e=new n.sheet.constructor({key:t,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+t+" "+r.name+'"]');return n.sheet.tags.length&&(e.before=n.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",t),e.hydrate([a])),i.current=[e,o],function(){e.flush()}}),[n]),St((function(){var t=i.current,e=t[0];if(t[1])t[1]=!1;else{if(void 0!==r.next&&Rt(n,r.next,!0),e.tags.length){var o=e.tags[e.tags.length-1].nextElementSibling;e.before=o,e.flush()}n.insert("",r,e,!1)}}),[n,r.name]),null})));function Pt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return wt(e)}var Ot=__webpack_require__(579),Dt=String.raw,Nt=Dt`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,Lt=()=>(0,Ot.jsx)(Mt,{styles:Nt}),Ft=t=>{let{scope:e=""}=t;return(0,Ot.jsx)(Mt,{styles:Dt`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${e} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${e} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${e} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${e} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${e} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${e} :where(b, strong) {
        font-weight: bold;
      }

      ${e} small {
        font-size: 80%;
      }

      ${e} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${e} sub {
        bottom: -0.25em;
      }

      ${e} sup {
        top: -0.5em;
      }

      ${e} img {
        border-style: none;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${e} :where(button, input) {
        overflow: visible;
      }

      ${e} :where(button, select) {
        text-transform: none;
      }

      ${e} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${e} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${e} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${e} progress {
        vertical-align: baseline;
      }

      ${e} textarea {
        overflow: auto;
      }

      ${e} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${e} input[type="number"]::-webkit-inner-spin-button,
      ${e} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${e} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${e} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${e} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${e} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${e} details {
        display: block;
      }

      ${e} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${e} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${e} button {
        background: transparent;
        padding: 0;
      }

      ${e} fieldset {
        margin: 0;
        padding: 0;
      }

      ${e} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${e} textarea {
        resize: vertical;
      }

      ${e} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${e} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${e} table {
        border-collapse: collapse;
      }

      ${e} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${e} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${e} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${e} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${e} select::-ms-expand {
        display: none;
      }

      ${Nt}
    `})};function Bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{name:n,strict:r=!0,hookName:i="useContext",providerName:o="Provider",errorMessage:a,defaultValue:s}=e,l=(0,t.createContext)(s);return l.displayName=n,[l.Provider,function e(){var n;const s=(0,t.useContext)(l);if(!s&&r){const t=new Error(null!=a?a:`${i} returned \`undefined\`. Seems you forgot to wrap component within ${o}`);throw t.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,t,e),t}return s},l]}var[jt,zt]=Bt({strict:!1,name:"PortalManagerContext"});function Vt(t){const{children:e,zIndex:n}=t;return(0,Ot.jsx)(jt,{value:{zIndex:n},children:e})}Vt.displayName="PortalManager";var Ht=(0,t.createContext)({});function Ut(){const e=(0,t.useContext)(Ht);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}Ht.displayName="ColorModeContext";var Wt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")};function $t(t){const e=typeof t;return null!=t&&("object"===e||"function"===e)&&!Array.isArray(t)}function Gt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Xt(t)?t(...n):t}var Xt=t=>"function"===typeof t,qt=t=>t?"":void 0,Yt=t=>!!t||void 0;function Kt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.some((e=>(null==e||e(t),null==t?void 0:t.defaultPrevented)))}}var Zt=__webpack_require__(9611),Qt=t=>"string"===typeof t?t.replace(/!(important)?$/,"").trim():t,Jt=(t,e)=>n=>{const r=String(e),i=(t=>/!(important)?$/.test(t))(r),o=Qt(r),a=t?`${t}.${o}`:o;let s=$t(n.__cssMap)&&a in n.__cssMap?n.__cssMap[a].varRef:e;return s=Qt(s),i?`${s} !important`:s};function te(t){const{scale:e,transform:n,compose:r}=t;return(t,i)=>{var o;const a=Jt(e,t)(i);let s=null!=(o=null==n?void 0:n(a,i))?o:a;return r&&(s=r(s,i)),s}}var ee=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>e.reduce(((t,e)=>e(t)),t)};function ne(t,e){return n=>{const r={property:n,scale:t};return r.transform=te({scale:t,transform:e}),r}}var re=t=>{let{rtl:e,ltr:n}=t;return t=>"rtl"===t.direction?e:n};var ie=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];var oe={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},ae={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};var se={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},le={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},ce=new Set(Object.values(le)),ue=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),de=t=>t.trim();var he=t=>"string"===typeof t&&t.includes("(")&&t.includes(")");var fe=t=>e=>`${t}(${e})`,pe={filter:t=>"auto"!==t?t:oe,backdropFilter:t=>"auto"!==t?t:ae,ring:t=>function(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(pe.px(t)),bgClip:t=>"text"===t?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t},transform:t=>"auto"===t?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...ie].join(" "):"auto-gpu"===t?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...ie].join(" "):t,vh:t=>"$100vh"===t?"var(--chakra-vh)":t,px(t){if(null==t)return t;const{unitless:e}=(t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}})(t);return e||"number"===typeof t?`${t}px`:t},fraction:t=>"number"!==typeof t||t>1?t:100*t+"%",float:(t,e)=>"rtl"===e.direction?{left:"right",right:"left"}[t]:t,degree(t){if(function(t){return/^var\(--.+\)$/.test(t)}(t)||null==t)return t;const e="string"===typeof t&&!t.endsWith("deg");return"number"===typeof t||e?`${t}deg`:t},gradient:(t,e)=>function(t,e){if(null==t||ue.has(t))return t;if(!he(t)&&!ue.has(t))return`url('${t}')`;const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),r=null==n?void 0:n[1],i=null==n?void 0:n[2];if(!r||!i)return t;const o=r.includes("-gradient")?r:`${r}-gradient`,[a,...s]=i.split(",").map(de).filter(Boolean);if(0===(null==s?void 0:s.length))return t;const l=a in le?le[a]:a;return s.unshift(l),`${o}(${s.map((t=>{if(ce.has(t))return t;const n=t.indexOf(" "),[r,i]=-1!==n?[t.substr(0,n),t.substr(n+1)]:[t],o=he(i)?i:i&&i.split(" "),a=`colors.${r}`,s=a in e.__cssMap?e.__cssMap[a].varRef:r;return o?[s,...Array.isArray(o)?o:[o]].join(" "):s})).join(", ")})`}(t,null!=e?e:{}),blur:fe("blur"),opacity:fe("opacity"),brightness:fe("brightness"),contrast:fe("contrast"),dropShadow:fe("drop-shadow"),grayscale:fe("grayscale"),hueRotate:t=>fe("hue-rotate")(pe.degree(t)),invert:fe("invert"),saturate:fe("saturate"),sepia:fe("sepia"),bgImage(t){if(null==t)return t;return he(t)||ue.has(t)?t:`url(${t})`},outline(t){const e="0"===String(t)||"none"===String(t);return null!==t&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=null!=(e=se[t])?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},ge={borderWidths:ne("borderWidths"),borderStyles:ne("borderStyles"),colors:ne("colors"),borders:ne("borders"),gradients:ne("gradients",pe.gradient),radii:ne("radii",pe.px),space:ne("space",ee(pe.vh,pe.px)),spaceT:ne("space",ee(pe.vh,pe.px)),degreeT:t=>({property:t,transform:pe.degree}),prop:(t,e,n)=>({property:t,scale:e,...e&&{transform:te({scale:e,transform:n})}}),propT:(t,e)=>({property:t,transform:e}),sizes:ne("sizes",ee(pe.vh,pe.px)),sizesT:ne("sizes",ee(pe.vh,pe.fraction)),shadows:ne("shadows"),logical:function(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:re(e),transform:n?te({scale:n,compose:r}):r}},blur:ne("blur",pe.blur)},me={background:ge.colors("background"),backgroundColor:ge.colors("backgroundColor"),backgroundImage:ge.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:pe.bgClip},bgSize:ge.prop("backgroundSize"),bgPosition:ge.prop("backgroundPosition"),bg:ge.colors("background"),bgColor:ge.colors("backgroundColor"),bgPos:ge.prop("backgroundPosition"),bgRepeat:ge.prop("backgroundRepeat"),bgAttachment:ge.prop("backgroundAttachment"),bgGradient:ge.gradients("backgroundImage"),bgClip:{transform:pe.bgClip}};Object.assign(me,{bgImage:me.backgroundImage,bgImg:me.backgroundImage});var ve={border:ge.borders("border"),borderWidth:ge.borderWidths("borderWidth"),borderStyle:ge.borderStyles("borderStyle"),borderColor:ge.colors("borderColor"),borderRadius:ge.radii("borderRadius"),borderTop:ge.borders("borderTop"),borderBlockStart:ge.borders("borderBlockStart"),borderTopLeftRadius:ge.radii("borderTopLeftRadius"),borderStartStartRadius:ge.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:ge.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:ge.radii("borderTopRightRadius"),borderStartEndRadius:ge.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:ge.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:ge.borders("borderRight"),borderInlineEnd:ge.borders("borderInlineEnd"),borderBottom:ge.borders("borderBottom"),borderBlockEnd:ge.borders("borderBlockEnd"),borderBottomLeftRadius:ge.radii("borderBottomLeftRadius"),borderBottomRightRadius:ge.radii("borderBottomRightRadius"),borderLeft:ge.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:ge.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:ge.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:ge.borders(["borderLeft","borderRight"]),borderInline:ge.borders("borderInline"),borderY:ge.borders(["borderTop","borderBottom"]),borderBlock:ge.borders("borderBlock"),borderTopWidth:ge.borderWidths("borderTopWidth"),borderBlockStartWidth:ge.borderWidths("borderBlockStartWidth"),borderTopColor:ge.colors("borderTopColor"),borderBlockStartColor:ge.colors("borderBlockStartColor"),borderTopStyle:ge.borderStyles("borderTopStyle"),borderBlockStartStyle:ge.borderStyles("borderBlockStartStyle"),borderBottomWidth:ge.borderWidths("borderBottomWidth"),borderBlockEndWidth:ge.borderWidths("borderBlockEndWidth"),borderBottomColor:ge.colors("borderBottomColor"),borderBlockEndColor:ge.colors("borderBlockEndColor"),borderBottomStyle:ge.borderStyles("borderBottomStyle"),borderBlockEndStyle:ge.borderStyles("borderBlockEndStyle"),borderLeftWidth:ge.borderWidths("borderLeftWidth"),borderInlineStartWidth:ge.borderWidths("borderInlineStartWidth"),borderLeftColor:ge.colors("borderLeftColor"),borderInlineStartColor:ge.colors("borderInlineStartColor"),borderLeftStyle:ge.borderStyles("borderLeftStyle"),borderInlineStartStyle:ge.borderStyles("borderInlineStartStyle"),borderRightWidth:ge.borderWidths("borderRightWidth"),borderInlineEndWidth:ge.borderWidths("borderInlineEndWidth"),borderRightColor:ge.colors("borderRightColor"),borderInlineEndColor:ge.colors("borderInlineEndColor"),borderRightStyle:ge.borderStyles("borderRightStyle"),borderInlineEndStyle:ge.borderStyles("borderInlineEndStyle"),borderTopRadius:ge.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:ge.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:ge.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:ge.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(ve,{rounded:ve.borderRadius,roundedTop:ve.borderTopRadius,roundedTopLeft:ve.borderTopLeftRadius,roundedTopRight:ve.borderTopRightRadius,roundedTopStart:ve.borderStartStartRadius,roundedTopEnd:ve.borderStartEndRadius,roundedBottom:ve.borderBottomRadius,roundedBottomLeft:ve.borderBottomLeftRadius,roundedBottomRight:ve.borderBottomRightRadius,roundedBottomStart:ve.borderEndStartRadius,roundedBottomEnd:ve.borderEndEndRadius,roundedLeft:ve.borderLeftRadius,roundedRight:ve.borderRightRadius,roundedStart:ve.borderInlineStartRadius,roundedEnd:ve.borderInlineEndRadius,borderStart:ve.borderInlineStart,borderEnd:ve.borderInlineEnd,borderTopStartRadius:ve.borderStartStartRadius,borderTopEndRadius:ve.borderStartEndRadius,borderBottomStartRadius:ve.borderEndStartRadius,borderBottomEndRadius:ve.borderEndEndRadius,borderStartRadius:ve.borderInlineStartRadius,borderEndRadius:ve.borderInlineEndRadius,borderStartWidth:ve.borderInlineStartWidth,borderEndWidth:ve.borderInlineEndWidth,borderStartColor:ve.borderInlineStartColor,borderEndColor:ve.borderInlineEndColor,borderStartStyle:ve.borderInlineStartStyle,borderEndStyle:ve.borderInlineEndStyle});var ye={color:ge.colors("color"),textColor:ge.colors("color"),fill:ge.colors("fill"),stroke:ge.colors("stroke")},be={boxShadow:ge.shadows("boxShadow"),mixBlendMode:!0,blendMode:ge.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:ge.prop("backgroundBlendMode"),opacity:!0};Object.assign(be,{shadow:be.boxShadow});var we={filter:{transform:pe.filter},blur:ge.blur("--chakra-blur"),brightness:ge.propT("--chakra-brightness",pe.brightness),contrast:ge.propT("--chakra-contrast",pe.contrast),hueRotate:ge.propT("--chakra-hue-rotate",pe.hueRotate),invert:ge.propT("--chakra-invert",pe.invert),saturate:ge.propT("--chakra-saturate",pe.saturate),dropShadow:ge.propT("--chakra-drop-shadow",pe.dropShadow),backdropFilter:{transform:pe.backdropFilter},backdropBlur:ge.blur("--chakra-backdrop-blur"),backdropBrightness:ge.propT("--chakra-backdrop-brightness",pe.brightness),backdropContrast:ge.propT("--chakra-backdrop-contrast",pe.contrast),backdropHueRotate:ge.propT("--chakra-backdrop-hue-rotate",pe.hueRotate),backdropInvert:ge.propT("--chakra-backdrop-invert",pe.invert),backdropSaturate:ge.propT("--chakra-backdrop-saturate",pe.saturate)},_e={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:pe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:ge.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:ge.space("gap"),rowGap:ge.space("rowGap"),columnGap:ge.space("columnGap")};Object.assign(_e,{flexDir:_e.flexDirection});var Ae={gridGap:ge.space("gridGap"),gridColumnGap:ge.space("gridColumnGap"),gridRowGap:ge.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},Se={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:pe.outline},outlineOffset:!0,outlineColor:ge.colors("outlineColor")},Ee={width:ge.sizesT("width"),inlineSize:ge.sizesT("inlineSize"),height:ge.sizes("height"),blockSize:ge.sizes("blockSize"),boxSize:ge.sizes(["width","height"]),minWidth:ge.sizes("minWidth"),minInlineSize:ge.sizes("minInlineSize"),minHeight:ge.sizes("minHeight"),minBlockSize:ge.sizes("minBlockSize"),maxWidth:ge.sizes("maxWidth"),maxInlineSize:ge.sizes("maxInlineSize"),maxHeight:ge.sizes("maxHeight"),maxBlockSize:ge.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;const o=`@media screen and (min-width: ${null!=(i=null==(r=null==(n=e.__breakpoints)?void 0:n.get(t))?void 0:r.minW)?i:t})`;return{[o]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;const o=`@media screen and (max-width: ${null!=(i=null==(r=null==(n=e.__breakpoints)?void 0:n.get(t))?void 0:r._minW)?i:t})`;return{[o]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:ge.propT("float",pe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Ee,{w:Ee.width,h:Ee.height,minW:Ee.minWidth,maxW:Ee.maxWidth,minH:Ee.minHeight,maxH:Ee.maxHeight,overscroll:Ee.overscrollBehavior,overscrollX:Ee.overscrollBehaviorX,overscrollY:Ee.overscrollBehaviorY});var Ce={listStyleType:!0,listStylePosition:!0,listStylePos:ge.prop("listStylePosition"),listStyleImage:!0,listStyleImg:ge.prop("listStyleImage")};var xe=(t=>{const e=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);const a=e.get(n);if(a.has(r))return a.get(r);const s=t(n,r,i,o);return a.set(r,s),s}})((function(t,e,n,r){const i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t})),Te={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},Ie={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ke=(t,e,n)=>{const r={},i=xe(t,e,{});for(const o in i){o in n&&null!=n[o]||(r[o]=i[o])}return r},Re={srOnly:{transform:t=>!0===t?Te:"focusable"===t?Ie:{}},layerStyle:{processResult:!0,transform:(t,e,n)=>ke(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>ke(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>ke(e,t,n)}},Me={position:!0,pos:ge.prop("position"),zIndex:ge.prop("zIndex","zIndices"),inset:ge.spaceT("inset"),insetX:ge.spaceT(["left","right"]),insetInline:ge.spaceT("insetInline"),insetY:ge.spaceT(["top","bottom"]),insetBlock:ge.spaceT("insetBlock"),top:ge.spaceT("top"),insetBlockStart:ge.spaceT("insetBlockStart"),bottom:ge.spaceT("bottom"),insetBlockEnd:ge.spaceT("insetBlockEnd"),left:ge.spaceT("left"),insetInlineStart:ge.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:ge.spaceT("right"),insetInlineEnd:ge.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Me,{insetStart:Me.insetInlineStart,insetEnd:Me.insetInlineEnd});var Pe={ring:{transform:pe.ring},ringColor:ge.colors("--chakra-ring-color"),ringOffset:ge.prop("--chakra-ring-offset-width"),ringOffsetColor:ge.colors("--chakra-ring-offset-color"),ringInset:ge.prop("--chakra-ring-inset")},Oe={margin:ge.spaceT("margin"),marginTop:ge.spaceT("marginTop"),marginBlockStart:ge.spaceT("marginBlockStart"),marginRight:ge.spaceT("marginRight"),marginInlineEnd:ge.spaceT("marginInlineEnd"),marginBottom:ge.spaceT("marginBottom"),marginBlockEnd:ge.spaceT("marginBlockEnd"),marginLeft:ge.spaceT("marginLeft"),marginInlineStart:ge.spaceT("marginInlineStart"),marginX:ge.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:ge.spaceT("marginInline"),marginY:ge.spaceT(["marginTop","marginBottom"]),marginBlock:ge.spaceT("marginBlock"),padding:ge.space("padding"),paddingTop:ge.space("paddingTop"),paddingBlockStart:ge.space("paddingBlockStart"),paddingRight:ge.space("paddingRight"),paddingBottom:ge.space("paddingBottom"),paddingBlockEnd:ge.space("paddingBlockEnd"),paddingLeft:ge.space("paddingLeft"),paddingInlineStart:ge.space("paddingInlineStart"),paddingInlineEnd:ge.space("paddingInlineEnd"),paddingX:ge.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:ge.space("paddingInline"),paddingY:ge.space(["paddingTop","paddingBottom"]),paddingBlock:ge.space("paddingBlock")};Object.assign(Oe,{m:Oe.margin,mt:Oe.marginTop,mr:Oe.marginRight,me:Oe.marginInlineEnd,marginEnd:Oe.marginInlineEnd,mb:Oe.marginBottom,ml:Oe.marginLeft,ms:Oe.marginInlineStart,marginStart:Oe.marginInlineStart,mx:Oe.marginX,my:Oe.marginY,p:Oe.padding,pt:Oe.paddingTop,py:Oe.paddingY,px:Oe.paddingX,pb:Oe.paddingBottom,pl:Oe.paddingLeft,ps:Oe.paddingInlineStart,paddingStart:Oe.paddingInlineStart,pr:Oe.paddingRight,pe:Oe.paddingInlineEnd,paddingEnd:Oe.paddingInlineEnd});var De={textDecorationColor:ge.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:ge.shadows("textShadow")},Ne={clipPath:!0,transform:ge.propT("transform",pe.transform),transformOrigin:!0,translateX:ge.spaceT("--chakra-translate-x"),translateY:ge.spaceT("--chakra-translate-y"),skewX:ge.degreeT("--chakra-skew-x"),skewY:ge.degreeT("--chakra-skew-y"),scaleX:ge.prop("--chakra-scale-x"),scaleY:ge.prop("--chakra-scale-y"),scale:ge.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:ge.degreeT("--chakra-rotate")},Le={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:ge.prop("transitionDuration","transition.duration"),transitionProperty:ge.prop("transitionProperty","transition.property"),transitionTimingFunction:ge.prop("transitionTimingFunction","transition.easing")},Fe={fontFamily:ge.prop("fontFamily","fonts"),fontSize:ge.prop("fontSize","fontSizes",pe.px),fontWeight:ge.prop("fontWeight","fontWeights"),lineHeight:ge.prop("lineHeight","lineHeights"),letterSpacing:ge.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(!0===t)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Be={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:ge.spaceT("scrollMargin"),scrollMarginTop:ge.spaceT("scrollMarginTop"),scrollMarginBottom:ge.spaceT("scrollMarginBottom"),scrollMarginLeft:ge.spaceT("scrollMarginLeft"),scrollMarginRight:ge.spaceT("scrollMarginRight"),scrollMarginX:ge.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:ge.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:ge.spaceT("scrollPadding"),scrollPaddingTop:ge.spaceT("scrollPaddingTop"),scrollPaddingBottom:ge.spaceT("scrollPaddingBottom"),scrollPaddingLeft:ge.spaceT("scrollPaddingLeft"),scrollPaddingRight:ge.spaceT("scrollPaddingRight"),scrollPaddingX:ge.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:ge.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function je(t){return $t(t)&&t.reference?t.reference:String(t)}var ze=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(je).join(` ${t} `).replace(/calc/g,"")},Ve=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${ze("+",...e)})`},He=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${ze("-",...e)})`},Ue=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${ze("*",...e)})`},We=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${ze("/",...e)})`},$e=t=>{const e=je(t);return null==e||Number.isNaN(parseFloat(e))?Ue(e,-1):String(e).startsWith("-")?String(e).slice(1):`-${e}`},Ge=Object.assign((t=>({add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ge(Ve(t,...n))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ge(He(t,...n))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ge(Ue(t,...n))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ge(We(t,...n))},negate:()=>Ge($e(t)),toString:()=>t.toString()})),{add:Ve,subtract:He,multiply:Ue,divide:We,negate:$e});function Xe(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/\s+/g,e)}(t.toString());return function(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}(function(t){if(t.includes("\\."))return t;const e=!Number.isInteger(parseFloat(t.toString()));return e?t.replace(".","\\."):t}(e))}function qe(t,e){return`var(${t}${e?`, ${e}`:""})`}function Ye(t){return Xe(`--${function(t){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t].filter(Boolean).join("-")}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}`)}function Ke(t,e,n){const r=Ye(t,n);return{variable:r,reference:qe(r,e)}}function Ze(t){const e=null==t?0:t.length;return e?t[e-1]:void 0}function Qe(t){if(null==t)return t;const{unitless:e}=function(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}(t);return e||"number"===typeof t?`${t}px`:t}var Je=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,tn=t=>Object.fromEntries(Object.entries(t).sort(Je));function en(t){const e=tn(t);return Object.assign(Object.values(e),e)}function nn(t){var e;if(!t)return t;t=null!=(e=Qe(t))?e:t;return"number"===typeof t?`${t+-.02}`:t.replace(/(\d+\.?\d*)/u,(t=>`${parseFloat(t)+-.02}`))}function rn(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${Qe(t)})`),e&&n.push("and",`(max-width: ${Qe(e)})`),n.join(" ")}function on(t){var e;if(!t)return null;t.base=null!=(e=t.base)?e:"0px";const n=en(t),r=Object.entries(t).sort(Je).map(((t,e,n)=>{let[r,i]=t;var o;let[,a]=null!=(o=n[e+1])?o:[];return a=parseFloat(a)>0?nn(a):void 0,{_minW:nn(i),breakpoint:r,minW:i,maxW:a,maxWQuery:rn(null,a),minWQuery:rn(i),minMaxQuery:rn(i,a)}})),i=function(t){const e=Object.keys(tn(t));return new Set(e)}(t),o=Array.from(i.values());return{keys:i,normalized:n,isResponsive(t){const e=Object.keys(t);return e.length>0&&e.every((t=>i.has(t)))},asObject:tn(t),asArray:en(t),details:r,get:t=>r.find((e=>e.breakpoint===t)),media:[null,...n.map((t=>rn(t))).slice(1)],toArrayValue(t){if(!$t(t))throw new Error("toArrayValue: value must be an object");const e=o.map((e=>{var n;return null!=(n=t[e])?n:null}));for(;null===Ze(e);)e.pop();return e},toObjectValue(t){if(!Array.isArray(t))throw new Error("toObjectValue: value must be an array");return t.reduce(((t,e,n)=>{const r=o[n];return null!=r&&null!=e&&(t[r]=e),t}),{})}}}var an=(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,sn=(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,ln=(t,e)=>`${t}:focus-visible ${e}`,cn=(t,e)=>`${t}:focus-within ${e}`,un=(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,dn=(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,hn=(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,fn=(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,pn=(t,e)=>`${t}:placeholder-shown ${e}`,gn=t=>vn((e=>t(e,"&")),"[role=group]","[data-group]",".group"),mn=t=>vn((e=>t(e,"~ &")),"[data-peer]",".peer"),vn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(t).join(", ")},yn={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:gn(an),_peerHover:mn(an),_groupFocus:gn(sn),_peerFocus:mn(sn),_groupFocusVisible:gn(ln),_peerFocusVisible:mn(ln),_groupActive:gn(un),_peerActive:mn(un),_groupDisabled:gn(dn),_peerDisabled:mn(dn),_groupInvalid:gn(hn),_peerInvalid:mn(hn),_groupChecked:gn(fn),_peerChecked:mn(fn),_groupFocusWithin:gn(cn),_peerFocusWithin:mn(cn),_peerPlaceholderShown:mn(pn),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},bn=Object.keys(yn);function wn(t,e){return Ke(String(t).replace(/\./g,"-"),void 0,e)}function _n(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{stop:r,getKey:i}=n;return function t(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a;if(function(t){return"object"===typeof t&&null!=t&&!Array.isArray(t)}(n)||Array.isArray(n)){const s={};for(const[l,c]of Object.entries(n)){const u=null!=(a=null==i?void 0:i(l))?a:l,d=[...o,u];if(null==r?void 0:r(n,d))return e(n,o);s[u]=t(c,d)}return s}return e(n,o)}(t)}var An=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];var Sn=t=>bn.includes(t)||"default"===t;function En(t){var e;const n=function(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}(t),r=function(t){return function(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}(t,An)}(n),i=function(t){return t.semanticTokens}(n),o=function(t){let{tokens:e,semanticTokens:n}=t;const r={};return _n(e,((t,e)=>{null!=t&&(r[e.join(".")]={isSemantic:!1,value:t})})),_n(n,((t,e)=>{null!=t&&(r[e.join(".")]={isSemantic:!0,value:t})}),{stop:t=>Object.keys(t).every(Sn)}),r}({tokens:r,semanticTokens:i}),a=null==(e=n.config)?void 0:e.cssVarPrefix,{cssMap:s,cssVars:l}=function(t,e){let n={};const r={};for(const[i,o]of Object.entries(t)){const{isSemantic:a,value:s}=o,{variable:l,reference:c}=wn(i,null==e?void 0:e.cssVarPrefix);if(!a){if(i.startsWith("space")){const t=i.split("."),[e,...n]=t,o=`${e}.-${n.join(".")}`,a=Ge.negate(s),u=Ge.negate(c);r[o]={value:a,var:l,varRef:u}}n[l]=s,r[i]={value:s,var:l,varRef:c};continue}const u=n=>{const r=[String(i).split(".")[0],n].join(".");if(!t[r])return n;const{reference:o}=wn(r,null==e?void 0:e.cssVarPrefix);return o},d=$t(s)?s:{default:s};n=Zt(n,Object.entries(d).reduce(((t,e)=>{let[n,r]=e;var i,o;if(!r)return t;const a=u(`${r}`);return"default"===n?(t[l]=a,t):(t[null!=(o=null==(i=yn)?void 0:i[n])?o:n]={[l]:a},t)}),{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}(o,{cssVarPrefix:a});return Object.assign(n,{__cssVars:{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0",...l},__cssMap:s,__breakpoints:on(n.breakpoints)}),n}var Cn=Zt({},me,ve,ye,_e,Ee,we,Pe,Se,Ae,Re,Me,be,Oe,Be,Fe,De,Ne,Ce,Le),xn=Object.assign({},Oe,Ee,_e,Ae,Me),Tn=Object.keys(xn),In=[...Object.keys(Cn),...bn],kn={...Cn,...yn},Rn=t=>t in kn;var Mn=(t,e)=>t.startsWith("--")&&"string"===typeof e&&!function(t){return/^var\(--.+\)$/.test(t)}(e),Pn=(t,e)=>{var n,r;if(null==e)return e;const i=e=>{var n,r;return null==(r=null==(n=t.__cssMap)?void 0:n[e])?void 0:r.varRef},o=t=>{var e;return null!=(e=i(t))?e:t},[a,s]=function(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];"("===o?(r=!0,n+=o):")"===o?(r=!1,n+=o):","!==o||r?n+=o:(e.push(n),n="")}return n=n.trim(),n&&e.push(n),e}(e);return e=null!=(r=null!=(n=i(a))?n:o(s))?r:o(e)};function On(t){const{configs:e={},pseudos:n={},theme:r}=t,i=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,s,l;const c=Gt(t,r),u=(t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,o={};for(const a in t){let s=Gt(t[a],e);if(null==s)continue;if(s=$t(s)&&n(s)?r(s):s,!Array.isArray(s)){o[a]=s;continue}const l=s.slice(0,i.length).length;for(let t=0;t<l;t+=1){const e=null==i?void 0:i[t];e?(o[e]=o[e]||{},null!=s[t]&&(o[e][a]=s[t])):o[a]=s[t]}}return o})(c)(r);let d={};for(let h in u){let t=Gt(u[h],r);h in n&&(h=n[h]),Mn(h,t)&&(t=Pn(r,t));let f=e[h];if(!0===f&&(f={property:h}),$t(t)){d[h]=null!=(a=d[h])?a:{},d[h]=Zt({},d[h],i(t,!0));continue}let p=null!=(l=null==(s=null==f?void 0:f.transform)?void 0:s.call(f,t,r,c))?l:t;p=(null==f?void 0:f.processResult)?i(p,!0):p;const g=Gt(null==f?void 0:f.property,r);if(!o&&(null==f?void 0:f.static)){const t=Gt(f.static,r);d=Zt({},d,t)}if(g&&Array.isArray(g))for(const e of g)d[e]=p;else g?"&"===g&&$t(p)?d=Zt({},d,p):d[g]=p:$t(p)?d=Zt({},d,p):d[h]=p}return d};return i}var Dn=t=>e=>On({theme:e,pseudos:yn,configs:Cn})(t);function Nn(t){return{definePartsStyle:t=>t,defineMultiStyleConfig:e=>({parts:t,...e})}}function Ln(t,e){for(let n=e+1;n<t.length;n++)if(null!=t[n])return n;return-1}function Fn(t){const e=t.__breakpoints;return function(t,n,r,i){var o,a;if(!e)return;const s={},l=function(t,e){return Array.isArray(t)?t:$t(t)?e(t):null!=t?[t]:void 0}(r,e.toArrayValue);if(!l)return s;const c=l.length,u=1===c,d=!!t.parts;for(let h=0;h<c;h++){const r=e.details[h],c=e.details[Ln(l,h)],f=rn(r.minW,null==c?void 0:c._minW),p=Gt(null==(o=t[n])?void 0:o[l[h]],i);p&&(d?null==(a=t.parts)||a.forEach((t=>{Zt(s,{[t]:u?p[t]:{[f]:p[t]}})})):d?s[f]=p:u?Zt(s,p):s[f]=p)}return s}}function Bn(t){return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}(t,["styleConfig","size","variant","colorScheme"])}var jn=(t=>{const e=new WeakMap;return(n,r,i,o)=>{if("undefined"===typeof n)return t(n,r,i);e.has(n)||e.set(n,new Map);const a=e.get(n);if(a.has(r))return a.get(r);const s=t(n,r,i,o);return a.set(r,s),s}})((function(t,e,n,r){const i="string"===typeof e?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return void 0===t?n:t}));function zn(t,e){const n={};return Object.keys(t).forEach((r=>{const i=t[r];e(i,r,t)&&(n[r]=i)})),n}var Vn=t=>zn(t,(t=>null!==t&&void 0!==t));function Hn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"===typeof t?t(...n):t}function Un(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.some((e=>(null==e||e(t),null==t?void 0:t.defaultPrevented)))}}function Wn(e){const{cssVarsRoot:n,theme:r,children:i}=e,o=(0,t.useMemo)((()=>En(r)),[r]);return(0,Ot.jsxs)(It,{theme:o,children:[(0,Ot.jsx)($n,{root:n}),i]})}function $n(t){let{root:e=":host, :root"}=t;const n=[e,"[data-theme]"].join(",");return(0,Ot.jsx)(Mt,{styles:t=>({[n]:t.__cssVars})})}var[Gn,Xn]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{strict:n=!0,errorMessage:r="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:i}=e,o=(0,t.createContext)(void 0);return o.displayName=i,[o.Provider,function e(){var i;const a=(0,t.useContext)(o);if(!a&&n){const t=new Error(r);throw t.name="ContextError",null==(i=Error.captureStackTrace)||i.call(Error,t,e),t}return a},o]}({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function qn(){const{colorMode:t}=Ut();return(0,Ot.jsx)(Mt,{styles:e=>{const n=Hn(jn(e,"styles.global"),{theme:e,colorMode:t});if(!n)return;return Dn(n)(e)}})}var Yn={light:"chakra-ui-light",dark:"chakra-ui-dark"};var Kn="chakra-ui-color-mode";var Zn,Qn=(Zn=Kn,{ssr:!1,type:"localStorage",get(t){if(!(null==globalThis?void 0:globalThis.document))return t;let e;try{e=localStorage.getItem(Zn)||t}catch(n){}return e||t},set(t){try{localStorage.setItem(Zn,t)}catch(e){}}});function Jn(t,e){const n=t.match(new RegExp(`(^| )${e}=([^;]+)`));return null==n?void 0:n[2]}function tr(t,e){return{ssr:!!e,type:"cookie",get:n=>e?Jn(e,t):(null==globalThis?void 0:globalThis.document)&&Jn(document.cookie,t)||n,set(e){document.cookie=`${t}=${e}; max-age=31536000; path=/`}}}tr(Kn);var er=Boolean(null==globalThis?void 0:globalThis.document)?t.useLayoutEffect:t.useEffect,nr=()=>{};function rr(t,e){return"cookie"===t.type&&t.ssr?t.get(e):e}function ir(e){const{value:n,children:r,options:{useSystemColorMode:i,initialColorMode:o,disableTransitionOnChange:a}={},colorModeManager:s=Qn}=e,l="dark"===o?"dark":"light",[c,u]=(0,t.useState)((()=>rr(s,l))),[d,h]=(0,t.useState)((()=>rr(s))),{getSystemTheme:f,setClassName:p,setDataset:g,addListener:m}=(0,t.useMemo)((()=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{preventTransition:e=!0}=t,n={setDataset:t=>{const r=e?n.preventTransition():void 0;document.documentElement.dataset.theme=t,document.documentElement.style.colorScheme=t,null==r||r()},setClassName(t){document.body.classList.add(t?Yn.dark:Yn.light),document.body.classList.remove(t?Yn.light:Yn.dark)},query:()=>window.matchMedia("(prefers-color-scheme: dark)"),getSystemTheme(t){var e;return(null!=(e=n.query().matches)?e:"dark"===t)?"dark":"light"},addListener(t){const e=n.query(),r=e=>{t(e.matches?"dark":"light")};return"function"===typeof e.addListener?e.addListener(r):e.addEventListener("change",r),()=>{"function"===typeof e.removeListener?e.removeListener(r):e.removeEventListener("change",r)}},preventTransition(){const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),requestAnimationFrame((()=>{requestAnimationFrame((()=>{document.head.removeChild(t)}))}))}}};return n}({preventTransition:a})),[a]),v="system"!==o||c?c:d,y=(0,t.useCallback)((t=>{const e="system"===t?f():t;u(e),p("dark"===e),g(e),s.set(e)}),[s,f,p,g]);er((()=>{"system"===o&&h(f())}),[]),(0,t.useEffect)((()=>{const t=s.get();y(t||("system"!==o?l:"system"))}),[s,l,o,y]);const b=(0,t.useCallback)((()=>{y("dark"===v?"light":"dark")}),[v,y]);(0,t.useEffect)((()=>{if(i)return m(y)}),[i,m,y]);const w=(0,t.useMemo)((()=>({colorMode:null!=n?n:v,toggleColorMode:n?nr:b,setColorMode:n?nr:y,forced:void 0!==n})),[v,b,y,n]);return(0,Ot.jsx)(Ht.Provider,{value:w,children:r})}ir.displayName="ColorModeProvider";var or=(0,t.createContext)({getDocument:()=>document,getWindow:()=>window});function ar(e){const{children:n,environment:r,disabled:i}=e,o=(0,t.useRef)(null),a=(0,t.useMemo)((()=>r||{getDocument:()=>{var t,e;return null!=(e=null==(t=o.current)?void 0:t.ownerDocument)?e:document},getWindow:()=>{var t,e;return null!=(e=null==(t=o.current)?void 0:t.ownerDocument.defaultView)?e:window}}),[r]),s=!i||!r;return(0,Ot.jsxs)(or.Provider,{value:a,children:[n,s&&(0,Ot.jsx)("span",{id:"__chakra_env",hidden:!0,ref:o})]})}or.displayName="EnvironmentContext",ar.displayName="EnvironmentProvider";var sr=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:o=!0,theme:a={},environment:s,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:u}=t,d=(0,Ot.jsx)(ar,{environment:s,disabled:c,children:e});return(0,Ot.jsx)(Wn,{theme:a,cssVarsRoot:l,children:(0,Ot.jsxs)(ir,{colorModeManager:n,options:a.config,children:[o?(0,Ot.jsx)(Ft,{scope:i}):(0,Ot.jsx)(Lt,{}),!u&&(0,Ot.jsx)(qn,{}),r?(0,Ot.jsx)(Vt,{zIndex:r,children:d}):d]})})},lr={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},cr={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},ur={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},dr={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},hr={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},fr={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},pr={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},gr={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},mr={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},vr={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},yr={...vr,max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch",container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}},br={breakpoints:dr,zIndices:cr,radii:fr,blur:gr,colors:hr,...mr,sizes:yr,shadows:pr,space:vr,borders:ur,transition:lr},{defineMultiStyleConfig:wr,definePartsStyle:_r}=Nn(["stepper","step","title","description","indicator","separator","icon","number"]),Ar=Ke("stepper-indicator-size"),Sr=Ke("stepper-icon-size"),Er=Ke("stepper-title-font-size"),Cr=Ke("stepper-description-font-size"),xr=Ke("stepper-accent-color"),Tr=_r((t=>{let{colorScheme:e}=t;return{stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[xr.variable]:`colors.${e}.500`,_dark:{[xr.variable]:`colors.${e}.200`}},title:{fontSize:Er.reference,fontWeight:"medium"},description:{fontSize:Cr.reference,color:"chakra-subtle-text"},number:{fontSize:Er.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Sr.reference,height:Sr.reference},indicator:{flexShrink:0,borderRadius:"full",width:Ar.reference,height:Ar.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:xr.reference},"&[data-status=complete]":{bg:xr.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:xr.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Ar.reference} - 8px)`,top:`calc(${Ar.reference} + 4px)`,insetStart:`calc(${Ar.reference} / 2 - 1px)`}}}})),Ir=wr({baseStyle:Tr,sizes:{xs:_r({stepper:{[Ar.variable]:"sizes.4",[Sr.variable]:"sizes.3",[Er.variable]:"fontSizes.xs",[Cr.variable]:"fontSizes.xs"}}),sm:_r({stepper:{[Ar.variable]:"sizes.6",[Sr.variable]:"sizes.4",[Er.variable]:"fontSizes.sm",[Cr.variable]:"fontSizes.xs"}}),md:_r({stepper:{[Ar.variable]:"sizes.8",[Sr.variable]:"sizes.5",[Er.variable]:"fontSizes.md",[Cr.variable]:"fontSizes.sm"}}),lg:_r({stepper:{[Ar.variable]:"sizes.10",[Sr.variable]:"sizes.6",[Er.variable]:"fontSizes.lg",[Cr.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function kr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;function r(e){const n=`chakra-${(["container","root"].includes(null!=e?e:"")?[t]:[t,e]).filter(Boolean).join("__")}`;return{className:n,selector:`.${n}`,toString:()=>e}}return{parts:function(){!function(){if(n)throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");n=!0}();for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];for(const t of o)e[t]=r(t);return kr(t,e)},toPart:r,extend:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(const t of i)t in e||(e[t]=r(t));return kr(t,e)},selectors:function(){const t=Object.fromEntries(Object.entries(e).map((t=>{let[e,n]=t;return[e,n.selector]})));return t},classnames:function(){const t=Object.fromEntries(Object.entries(e).map((t=>{let[e,n]=t;return[e,n.className]})));return t},get keys(){return Object.keys(e)},__type:{}}}var Rr=kr("accordion").parts("root","container","button","panel").extend("icon"),Mr=kr("alert").parts("title","description","container").extend("icon","spinner"),Pr=kr("avatar").parts("label","badge","container").extend("excessLabel","group"),Or=kr("breadcrumb").parts("link","item","container").extend("separator"),Dr=(kr("button").parts(),kr("checkbox").parts("control","icon","container").extend("label")),Nr=(kr("progress").parts("track","filledTrack").extend("label"),kr("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer")),Lr=kr("editable").parts("preview","input","textarea"),Fr=kr("form").parts("container","requiredIndicator","helperText"),Br=kr("formError").parts("text","icon"),jr=kr("input").parts("addon","field","element","group"),zr=kr("list").parts("container","item","icon"),Vr=kr("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),Hr=kr("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Ur=kr("numberinput").parts("root","field","stepperGroup","stepper"),Wr=(kr("pininput").parts("field"),kr("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton")),$r=kr("progress").parts("label","filledTrack","track"),Gr=kr("radio").parts("container","control","label"),Xr=kr("select").parts("field","icon"),qr=kr("slider").parts("container","track","thumb","filledTrack","mark"),Yr=kr("stat").parts("container","label","helpText","number","icon"),Kr=kr("switch").parts("container","track","thumb","label"),Zr=kr("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),Qr=kr("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Jr=kr("tag").parts("container","label","closeButton"),ti=kr("card").parts("container","header","body","footer");kr("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function ei(t){const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/\s+/g,e)}(t.toString());return e.includes("\\.")?t:function(t){return!Number.isInteger(parseFloat(t.toString()))}(t)?e.replace(".","\\."):t}function ni(t,e){return`var(${ei(t)}${e?`, ${e}`:""})`}function ri(t){return`--${function(t){return[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",ei(t)].filter(Boolean).join("-")}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}`}function ii(t,e){const n=ri(t,null==e?void 0:e.prefix);return{variable:n,reference:ni(n,oi(null==e?void 0:e.fallback))}}function oi(t){return"string"===typeof t?t:null==t?void 0:t.reference}function ai(t){return $t(t)&&t.reference?t.reference:String(t)}var si=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.map(ai).join(` ${t} `).replace(/calc/g,"")},li=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${si("+",...e)})`},ci=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${si("-",...e)})`},ui=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${si("*",...e)})`},di=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return`calc(${si("/",...e)})`},hi=t=>{const e=ai(t);return null==e||Number.isNaN(parseFloat(e))?ui(e,-1):String(e).startsWith("-")?String(e).slice(1):`-${e}`},fi=Object.assign((t=>({add:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fi(li(t,...n))},subtract:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fi(ci(t,...n))},multiply:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fi(ui(t,...n))},divide:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fi(di(t,...n))},negate:()=>fi(hi(t)),toString:()=>t.toString()})),{add:li,subtract:ci,multiply:ui,divide:di,negate:hi}),{defineMultiStyleConfig:pi,definePartsStyle:gi}=Nn(Kr.keys),mi=ii("switch-track-width"),vi=ii("switch-track-height"),yi=ii("switch-track-diff"),bi=fi.subtract(mi,vi),wi=ii("switch-thumb-x"),_i=ii("switch-bg"),Ai=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[mi.reference],height:[vi.reference],transitionProperty:"common",transitionDuration:"fast",[_i.variable]:"colors.gray.300",_dark:{[_i.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[_i.variable]:`colors.${e}.500`,_dark:{[_i.variable]:`colors.${e}.200`}},bg:_i.reference}},Si={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[vi.reference],height:[vi.reference],_checked:{transform:`translateX(${wi.reference})`}},Ei=pi({baseStyle:gi((t=>({container:{[yi.variable]:bi,[wi.variable]:yi.reference,_rtl:{[wi.variable]:fi(yi).negate().toString()}},track:Ai(t),thumb:Si}))),sizes:{sm:gi({container:{[mi.variable]:"1.375rem",[vi.variable]:"sizes.3"}}),md:gi({container:{[mi.variable]:"1.875rem",[vi.variable]:"sizes.4"}}),lg:gi({container:{[mi.variable]:"2.875rem",[vi.variable]:"sizes.6"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Ci(t,e){return n=>"dark"===n.colorMode?e:t}function xi(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?"vertical"===e?n:r:{}}var{defineMultiStyleConfig:Ti,definePartsStyle:Ii}=Nn(Zr.keys),ki=Ii({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Ri={"&[data-is-numeric=true]":{textAlign:"end"}},Mi=Ii((t=>{const{colorScheme:e}=t;return{th:{color:Ci("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ci(`${e}.100`,`${e}.700`)(t),...Ri},td:{borderBottom:"1px",borderColor:Ci(`${e}.100`,`${e}.700`)(t),...Ri},caption:{color:Ci("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Pi=Ii((t=>{const{colorScheme:e}=t;return{th:{color:Ci("gray.600","gray.400")(t),borderBottom:"1px",borderColor:Ci(`${e}.100`,`${e}.700`)(t),...Ri},td:{borderBottom:"1px",borderColor:Ci(`${e}.100`,`${e}.700`)(t),...Ri},caption:{color:Ci("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ci(`${e}.100`,`${e}.700`)(t)},td:{background:Ci(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}})),Oi=Ti({baseStyle:ki,variants:{simple:Mi,striped:Pi,unstyled:{}},sizes:{sm:Ii({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Ii({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Ii({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}});function Di(t,e,n){return Math.min(Math.max(t,n),e)}class Ni extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Li=Ni;function Fi(t){if("string"!==typeof t)throw new Li(t);if("transparent"===t.trim().toLowerCase())return[0,0,0,0];let e=t.trim();e=$i.test(t)?function(t){const e=t.toLowerCase().trim(),n=ji[function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0)%2341}(e)];if(!n)throw new Li(t);return`#${n}`}(t):t;const n=Vi.exec(e);if(n){const t=Array.from(n).slice(1);return[...t.slice(0,3).map((t=>parseInt(zi(t,2),16))),parseInt(zi(t[3]||"f",2),16)/255]}const r=Hi.exec(e);if(r){const t=Array.from(r).slice(1);return[...t.slice(0,3).map((t=>parseInt(t,16))),parseInt(t[3]||"ff",16)/255]}const i=Ui.exec(e);if(i){const t=Array.from(i).slice(1);return[...t.slice(0,3).map((t=>parseInt(t,10))),parseFloat(t[3]||"1")]}const o=Wi.exec(e);if(o){const[e,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(Di(0,100,n)!==n)throw new Li(t);if(Di(0,100,r)!==r)throw new Li(t);return[...Xi(e,n,r),Number.isNaN(i)?1:i]}throw new Li(t)}const Bi=t=>parseInt(t.replace(/_/g,""),36),ji="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((t,e)=>{const n=Bi(e.substring(0,3)),r=Bi(e.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return t[n]=`${i}${r}`,t}),{});const zi=(t,e)=>Array.from(Array(e)).map((()=>t)).join(""),Vi=new RegExp(`^#${zi("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Hi=new RegExp(`^#${zi("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Ui=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${zi(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Wi=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,$i=/^[a-z]+$/i,Gi=t=>Math.round(255*t),Xi=(t,e,n)=>{let r=n/100;if(0===e)return[r,r,r].map(Gi);const i=(t%360+360)%360/60,o=(1-Math.abs(2*r-1))*(e/100),a=o*(1-Math.abs(i%2-1));let s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);const u=r-o/2;return[s+u,l+u,c+u].map(Gi)};function qi(t,e,n,r){return`rgba(${Di(0,255,t).toFixed()}, ${Di(0,255,e).toFixed()}, ${Di(0,255,n).toFixed()}, ${parseFloat(Di(0,1,r).toFixed(3))})`}function Yi(t,e){const[n,r,i,o]=Fi(t);return qi(n,r,i,o-e)}var Ki=(t,e,n)=>{const r=function(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}(t,`colors.${e}`,e);try{return function(t){const[e,n,r,i]=Fi(t);let o=t=>{const e=Di(0,255,t).toString(16);return 1===e.length?`0${e}`:e};o(e),o(n),o(r),i<1&&o(Math.round(255*i))}(r),r}catch{return null!=n?n:"#000000"}},Zi=t=>e=>{const n=(t=>{const[e,n,r]=Fi(t);return(299*e+587*n+114*r)/1e3})(Ki(e,t));return n<128?"dark":"light"},Qi=(t,e)=>n=>Yi(Ki(n,t),1-e);function Ji(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1rem",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(255, 255, 255, 0.15)";return{backgroundImage:`linear-gradient(\n    45deg,\n    ${e} 25%,\n    transparent 25%,\n    transparent 50%,\n    ${e} 50%,\n    ${e} 75%,\n    transparent 75%,\n    transparent\n  )`,backgroundSize:`${t} ${t}`}}function to(t){const e=`#${Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0")}`;return t&&(n=t,0!==Object.keys(n).length)?t.string&&t.colors?function(t,e){let n=0;if(0===t.length)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n|=0;return n=(n%e.length+e.length)%e.length,e[n]}(t.string,t.colors):t.string&&!t.colors?function(t){let e=0;if(0===t.length)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e|=0;let n="#";for(let r=0;r<3;r+=1){n+=`00${(e>>8*r&255).toString(16)}`.substr(-2)}return n}(t.string):t.colors&&!t.string?function(t){return t[Math.floor(Math.random()*t.length)]}(t.colors):e:e;var n}var eo=Ke("tabs-color"),no=Ke("tabs-bg"),ro=Ke("tabs-border-color"),{defineMultiStyleConfig:io,definePartsStyle:oo}=Nn(Qr.keys),ao=t=>{const{orientation:e}=t;return{display:"vertical"===e?"flex":"block"}},so=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},lo=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:"vertical"===n?"column":"row"}},co={p:4},uo=oo((t=>({root:ao(t),tab:so(t),tablist:lo(t),tabpanel:co}))),ho={sm:oo({tab:{py:1,px:4,fontSize:"sm"}}),md:oo({tab:{fontSize:"md",py:2,px:4}}),lg:oo({tab:{fontSize:"lg",py:3,px:4}})},fo=oo((t=>{const{colorScheme:e,orientation:n}=t,r="vertical"===n,i=r?"borderStart":"borderBottom",o=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[o]:"-2px",_selected:{[eo.variable]:`colors.${e}.600`,_dark:{[eo.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[no.variable]:"colors.gray.200",_dark:{[no.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:eo.reference,bg:no.reference}}})),po=oo((t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[ro.variable]:"transparent",_selected:{[eo.variable]:`colors.${e}.600`,[ro.variable]:"colors.white",_dark:{[eo.variable]:`colors.${e}.300`,[ro.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:ro.reference},color:eo.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),go=oo((t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[no.variable]:"colors.gray.50",_dark:{[no.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[no.variable]:"colors.white",[eo.variable]:`colors.${e}.600`,_dark:{[no.variable]:"colors.gray.800",[eo.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:eo.reference,bg:no.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}})),mo=oo((t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Ki(n,`${e}.700`),bg:Ki(n,`${e}.100`)}}}})),vo=oo((t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[eo.variable]:"colors.gray.600",_dark:{[eo.variable]:"inherit"},_selected:{[eo.variable]:"colors.white",[no.variable]:`colors.${e}.600`,_dark:{[eo.variable]:"colors.gray.800",[no.variable]:`colors.${e}.300`}},color:eo.reference,bg:no.reference}}})),yo=io({baseStyle:uo,sizes:ho,variants:{line:fo,enclosed:po,"enclosed-colored":go,"soft-rounded":mo,"solid-rounded":vo,unstyled:oo({})},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),bo=function(t,e){const n={};for(const r of e)if(Array.isArray(r)){const[e,i]=r;n[e]=Ke(`${t}-${e}`,i)}else n[r]=Ke(`${t}-${r}`);return n}("badge",["bg","color","shadow"]),wo=t=>{const{colorScheme:e,theme:n}=t,r=Qi(`${e}.500`,.6)(n);return{[bo.bg.variable]:`colors.${e}.500`,[bo.color.variable]:"colors.white",_dark:{[bo.bg.variable]:r,[bo.color.variable]:"colors.whiteAlpha.800"}}},_o=t=>{const{colorScheme:e,theme:n}=t,r=Qi(`${e}.200`,.16)(n);return{[bo.bg.variable]:`colors.${e}.100`,[bo.color.variable]:`colors.${e}.800`,_dark:{[bo.bg.variable]:r,[bo.color.variable]:`colors.${e}.200`}}},Ao=t=>{const{colorScheme:e,theme:n}=t,r=Qi(`${e}.200`,.8)(n);return{[bo.color.variable]:`colors.${e}.500`,_dark:{[bo.color.variable]:r},[bo.shadow.variable]:`inset 0 0 0px 1px ${bo.color.reference}`}},So={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:bo.bg.reference,color:bo.color.reference,boxShadow:bo.shadow.reference},variants:{solid:wo,subtle:_o,outline:Ao},defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:Eo,definePartsStyle:Co}=Nn(Jr.keys),xo=Ke("tag-bg"),To=Ke("tag-color"),Io=Ke("tag-shadow"),ko=Ke("tag-min-height"),Ro=Ke("tag-min-width"),Mo=Ke("tag-font-size"),Po=Ke("tag-padding-inline"),Oo=Co({container:{fontWeight:"medium",lineHeight:1.2,outline:0,[To.variable]:bo.color.reference,[xo.variable]:bo.bg.reference,[Io.variable]:bo.shadow.reference,color:To.reference,bg:xo.reference,boxShadow:Io.reference,borderRadius:"md",minH:ko.reference,minW:Ro.reference,fontSize:Mo.reference,px:Po.reference,_focusVisible:{[Io.variable]:"shadows.outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}}}),Do={sm:Co({container:{[ko.variable]:"sizes.5",[Ro.variable]:"sizes.5",[Mo.variable]:"fontSizes.xs",[Po.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Co({container:{[ko.variable]:"sizes.6",[Ro.variable]:"sizes.6",[Mo.variable]:"fontSizes.sm",[Po.variable]:"space.2"}}),lg:Co({container:{[ko.variable]:"sizes.8",[Ro.variable]:"sizes.8",[Mo.variable]:"fontSizes.md",[Po.variable]:"space.3"}})},No={subtle:Co((t=>{var e;return{container:null==(e=So.variants)?void 0:e.subtle(t)}})),solid:Co((t=>{var e;return{container:null==(e=So.variants)?void 0:e.solid(t)}})),outline:Co((t=>{var e;return{container:null==(e=So.variants)?void 0:e.outline(t)}}))},Lo=Eo({variants:No,baseStyle:Oo,sizes:Do,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Fo,defineMultiStyleConfig:Bo}=Nn(jr.keys),jo=Ke("input-height"),zo=Ke("input-font-size"),Vo=Ke("input-padding"),Ho=Ke("input-border-radius"),Uo=Fo({addon:{height:jo.reference,fontSize:zo.reference,px:Vo.reference,borderRadius:Ho.reference},field:{width:"100%",height:jo.reference,fontSize:zo.reference,px:Vo.reference,borderRadius:Ho.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Wo={lg:{[zo.variable]:"fontSizes.lg",[Vo.variable]:"space.4",[Ho.variable]:"radii.md",[jo.variable]:"sizes.12"},md:{[zo.variable]:"fontSizes.md",[Vo.variable]:"space.4",[Ho.variable]:"radii.md",[jo.variable]:"sizes.10"},sm:{[zo.variable]:"fontSizes.sm",[Vo.variable]:"space.3",[Ho.variable]:"radii.sm",[jo.variable]:"sizes.8"},xs:{[zo.variable]:"fontSizes.xs",[Vo.variable]:"space.2",[Ho.variable]:"radii.sm",[jo.variable]:"sizes.6"}},$o={lg:Fo({field:Wo.lg,group:Wo.lg}),md:Fo({field:Wo.md,group:Wo.md}),sm:Fo({field:Wo.sm,group:Wo.sm}),xs:Fo({field:Wo.xs,group:Wo.xs})};function Go(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||Ci("blue.500","blue.300")(t),errorBorderColor:n||Ci("red.500","red.300")(t)}}var Xo,qo,Yo,Ko,Zo,Qo,Jo,ta,ea,na,ra,ia=Fo((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Go(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ci("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ki(e,r),boxShadow:`0 0 0 1px ${Ki(e,r)}`},_focusVisible:{zIndex:1,borderColor:Ki(e,n),boxShadow:`0 0 0 1px ${Ki(e,n)}`}},addon:{border:"1px solid",borderColor:Ci("inherit","whiteAlpha.50")(t),bg:Ci("gray.100","whiteAlpha.300")(t)}}})),oa=Fo((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Go(t);return{field:{border:"2px solid",borderColor:"transparent",bg:Ci("gray.100","whiteAlpha.50")(t),_hover:{bg:Ci("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ki(e,r)},_focusVisible:{bg:"transparent",borderColor:Ki(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ci("gray.100","whiteAlpha.50")(t)}}})),aa=Fo((t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Go(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Ki(e,r),boxShadow:`0px 1px 0px 0px ${Ki(e,r)}`},_focusVisible:{borderColor:Ki(e,n),boxShadow:`0px 1px 0px 0px ${Ki(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}})),sa=Bo({baseStyle:Uo,sizes:$o,variants:{outline:ia,filled:oa,flushed:aa,unstyled:Fo({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}})},defaultProps:{size:"md",variant:"outline"}}),la={...null==(Xo=sa.baseStyle)?void 0:Xo.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},ca={outline:t=>{var e,n;return null!=(n=null==(e=sa.variants)?void 0:e.outline(t).field)?n:{}},flushed:t=>{var e,n;return null!=(n=null==(e=sa.variants)?void 0:e.flushed(t).field)?n:{}},filled:t=>{var e,n;return null!=(n=null==(e=sa.variants)?void 0:e.filled(t).field)?n:{}},unstyled:null!=(Yo=null==(qo=sa.variants)?void 0:qo.unstyled.field)?Yo:{}},ua={baseStyle:la,sizes:{xs:null!=(Zo=null==(Ko=sa.sizes)?void 0:Ko.xs.field)?Zo:{},sm:null!=(Jo=null==(Qo=sa.sizes)?void 0:Qo.sm.field)?Jo:{},md:null!=(ea=null==(ta=sa.sizes)?void 0:ta.md.field)?ea:{},lg:null!=(ra=null==(na=sa.sizes)?void 0:na.lg.field)?ra:{}},variants:ca,defaultProps:{size:"md",variant:"outline"}},da=ii("tooltip-bg"),ha=ii("tooltip-fg"),fa=ii("popper-arrow-bg"),pa={baseStyle:{bg:da.reference,color:ha.reference,[da.variable]:"colors.gray.700",[ha.variable]:"colors.whiteAlpha.900",_dark:{[da.variable]:"colors.gray.300",[ha.variable]:"colors.gray.900"},[fa.variable]:da.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"}},{defineMultiStyleConfig:ga,definePartsStyle:ma}=Nn($r.keys),va=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,o=Ci(Ji(),Ji("1rem","rgba(0,0,0,0.1)"))(t),a=Ci(`${e}.500`,`${e}.200`)(t),s=`linear-gradient(\n    to right,\n    transparent 0%,\n    ${Ki(n,a)} 50%,\n    transparent 100%\n  )`;return{...!r&&i&&o,...r?{bgImage:s}:{bgColor:a}}},ya={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},ba=t=>({bg:Ci("gray.100","whiteAlpha.300")(t)}),wa=t=>({transitionProperty:"common",transitionDuration:"slow",...va(t)}),_a=ma((t=>({label:ya,filledTrack:wa(t),track:ba(t)}))),Aa=ga({sizes:{xs:ma({track:{h:"1"}}),sm:ma({track:{h:"2"}}),md:ma({track:{h:"3"}}),lg:ma({track:{h:"4"}})},baseStyle:_a,defaultProps:{size:"md",colorScheme:"blue"}});function Sa(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"===typeof t?t(...n):t}var Ea,Ca,xa,Ta,Ia,ka,Ra,Ma,Pa,{definePartsStyle:Oa,defineMultiStyleConfig:Da}=Nn(Dr.keys),Na=Ke("checkbox-size"),La=t=>{const{colorScheme:e}=t;return{w:Na.reference,h:Na.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ci(`${e}.500`,`${e}.200`)(t),borderColor:Ci(`${e}.500`,`${e}.200`)(t),color:Ci("white","gray.900")(t),_hover:{bg:Ci(`${e}.600`,`${e}.300`)(t),borderColor:Ci(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:Ci("gray.200","transparent")(t),bg:Ci("gray.200","whiteAlpha.300")(t),color:Ci("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:Ci(`${e}.500`,`${e}.200`)(t),borderColor:Ci(`${e}.500`,`${e}.200`)(t),color:Ci("white","gray.900")(t)},_disabled:{bg:Ci("gray.100","whiteAlpha.100")(t),borderColor:Ci("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ci("red.500","red.300")(t)}}},Fa={_disabled:{cursor:"not-allowed"}},Ba={userSelect:"none",_disabled:{opacity:.4}},ja={transitionProperty:"transform",transitionDuration:"normal"},za=Da({baseStyle:Oa((t=>({icon:ja,container:Fa,control:Sa(La,t),label:Ba}))),sizes:{sm:Oa({control:{[Na.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Oa({control:{[Na.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Oa({control:{[Na.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Va,definePartsStyle:Ha}=Nn(Gr.keys),Ua=t=>{var e;const n=null==(e=Sa(za.baseStyle,t))?void 0:e.control;return{...n,borderRadius:"full",_checked:{...null==n?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},Wa=Ha((t=>{var e,n,r,i;return{label:null==(n=(e=za).baseStyle)?void 0:n.call(e,t).label,container:null==(i=(r=za).baseStyle)?void 0:i.call(r,t).container,control:Ua(t)}})),$a=Va({baseStyle:Wa,sizes:{md:Ha({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Ha({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Ha({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Ga,definePartsStyle:Xa}=Nn(Xr.keys),qa=Ke("select-bg"),Ya={paddingInlineEnd:"8"},Ka=Ga({baseStyle:Xa({field:{...null==(Ea=sa.baseStyle)?void 0:Ea.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:qa.reference,[qa.variable]:"colors.white",_dark:{[qa.variable]:"colors.gray.700"},"> option, > optgroup":{bg:qa.reference}},icon:{width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}}}),sizes:{lg:{...null==(Ca=sa.sizes)?void 0:Ca.lg,field:{...null==(xa=sa.sizes)?void 0:xa.lg.field,...Ya}},md:{...null==(Ta=sa.sizes)?void 0:Ta.md,field:{...null==(Ia=sa.sizes)?void 0:Ia.md.field,...Ya}},sm:{...null==(ka=sa.sizes)?void 0:ka.sm,field:{...null==(Ra=sa.sizes)?void 0:Ra.sm.field,...Ya}},xs:{...null==(Ma=sa.sizes)?void 0:Ma.xs,field:{...null==(Pa=sa.sizes)?void 0:Pa.xs.field,...Ya},icon:{insetEnd:"1"}}},variants:sa.variants,defaultProps:sa.defaultProps}),Za=Ke("skeleton-start-color"),Qa=Ke("skeleton-end-color"),Ja={baseStyle:{[Za.variable]:"colors.gray.100",[Qa.variable]:"colors.gray.400",_dark:{[Za.variable]:"colors.gray.800",[Qa.variable]:"colors.gray.600"},background:Za.reference,borderColor:Qa.reference,opacity:.7,borderRadius:"sm"}},ts=Ke("skip-link-bg"),es={baseStyle:{borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[ts.variable]:"colors.white",_dark:{[ts.variable]:"colors.gray.700"},bg:ts.reference}}},{defineMultiStyleConfig:ns,definePartsStyle:rs}=Nn(qr.keys),is=Ke("slider-thumb-size"),os=Ke("slider-track-size"),as=Ke("slider-bg"),ss=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...xi({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},ls=t=>({...xi({orientation:t.orientation,horizontal:{h:os.reference},vertical:{w:os.reference}}),overflow:"hidden",borderRadius:"sm",[as.variable]:"colors.gray.200",_dark:{[as.variable]:"colors.whiteAlpha.200"},_disabled:{[as.variable]:"colors.gray.300",_dark:{[as.variable]:"colors.whiteAlpha.300"}},bg:as.reference}),cs=t=>{const{orientation:e}=t;return{...xi({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:is.reference,h:is.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},us=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[as.variable]:`colors.${e}.500`,_dark:{[as.variable]:`colors.${e}.200`},bg:as.reference}},ds=ns({baseStyle:rs((t=>({container:ss(t),track:ls(t),thumb:cs(t),filledTrack:us(t)}))),sizes:{lg:rs({container:{[is.variable]:"sizes.4",[os.variable]:"sizes.1"}}),md:rs({container:{[is.variable]:"sizes.3.5",[os.variable]:"sizes.1"}}),sm:rs({container:{[is.variable]:"sizes.2.5",[os.variable]:"sizes.0.5"}})},defaultProps:{size:"md",colorScheme:"blue"}}),hs=ii("spinner-size"),fs={baseStyle:{width:[hs.reference],height:[hs.reference]},sizes:{xs:{[hs.variable]:"sizes.3"},sm:{[hs.variable]:"sizes.4"},md:{[hs.variable]:"sizes.6"},lg:{[hs.variable]:"sizes.8"},xl:{[hs.variable]:"sizes.12"}},defaultProps:{size:"md"}},{defineMultiStyleConfig:ps,definePartsStyle:gs}=Nn(Yr.keys),ms=ps({baseStyle:gs({container:{},label:{fontWeight:"medium"},helpText:{opacity:.8,marginBottom:"2"},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"}}),sizes:{md:gs({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},defaultProps:{size:"md"}}),vs=Ke("kbd-bg"),ys={baseStyle:{[vs.variable]:"colors.gray.100",_dark:{[vs.variable]:"colors.whiteAlpha.100"},bg:vs.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}},bs={baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}}},{defineMultiStyleConfig:ws,definePartsStyle:_s}=Nn(zr.keys),As=ws({baseStyle:_s({icon:{marginEnd:"2",display:"inline",verticalAlign:"text-bottom"}})}),{defineMultiStyleConfig:Ss,definePartsStyle:Es}=Nn(Vr.keys),Cs=Ke("menu-bg"),xs=Ke("menu-shadow"),Ts=Ss({baseStyle:Es({button:{transitionProperty:"common",transitionDuration:"normal"},list:{[Cs.variable]:"#fff",[xs.variable]:"shadows.sm",_dark:{[Cs.variable]:"colors.gray.700",[xs.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Cs.reference,boxShadow:xs.reference},item:{py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Cs.variable]:"colors.gray.100",_dark:{[Cs.variable]:"colors.whiteAlpha.100"}},_active:{[Cs.variable]:"colors.gray.200",_dark:{[Cs.variable]:"colors.whiteAlpha.200"}},_expanded:{[Cs.variable]:"colors.gray.100",_dark:{[Cs.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Cs.reference},groupTitle:{mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},command:{opacity:.6},divider:{border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6}})}),{defineMultiStyleConfig:Is,definePartsStyle:ks}=Nn(Hr.keys),Rs=Ke("modal-bg"),Ms=Ke("modal-shadow"),Ps={bg:"blackAlpha.600",zIndex:"modal"},Os=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:"inside"===n?"hidden":"auto",overscrollBehaviorY:"none"}},Ds=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:"inside"===n?"calc(100% - 7.5rem)":void 0,[Rs.variable]:"colors.white",[Ms.variable]:"shadows.lg",_dark:{[Rs.variable]:"colors.gray.700",[Ms.variable]:"shadows.dark-lg"},bg:Rs.reference,boxShadow:Ms.reference}},Ns={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Ls={position:"absolute",top:"2",insetEnd:"3"},Fs=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:"inside"===e?"auto":void 0}},Bs={px:"6",py:"4"};function js(t){return ks("full"===t?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var zs=Is({baseStyle:ks((t=>({overlay:Ps,dialogContainer:Sa(Os,t),dialog:Sa(Ds,t),header:Ns,closeButton:Ls,body:Sa(Fs,t),footer:Bs}))),sizes:{xs:js("xs"),sm:js("sm"),md:js("md"),lg:js("lg"),xl:js("xl"),"2xl":js("2xl"),"3xl":js("3xl"),"4xl":js("4xl"),"5xl":js("5xl"),"6xl":js("6xl"),full:js("full")},defaultProps:{size:"md"}}),{defineMultiStyleConfig:Vs,definePartsStyle:Hs}=Nn(Ur.keys),Us=ii("number-input-stepper-width"),Ws=ii("number-input-input-padding"),$s=fi(Us).add("0.5rem").toString(),Gs=ii("number-input-bg"),Xs=ii("number-input-color"),qs=ii("number-input-border-color"),Ys={[Us.variable]:"sizes.6",[Ws.variable]:$s},Ks=t=>{var e,n;return null!=(n=null==(e=Sa(sa.baseStyle,t))?void 0:e.field)?n:{}},Zs={width:Us.reference},Qs={borderStart:"1px solid",borderStartColor:qs.reference,color:Xs.reference,bg:Gs.reference,[Xs.variable]:"colors.chakra-body-text",[qs.variable]:"colors.chakra-border-color",_dark:{[Xs.variable]:"colors.whiteAlpha.800",[qs.variable]:"colors.whiteAlpha.300"},_active:{[Gs.variable]:"colors.gray.200",_dark:{[Gs.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},Js=Hs((t=>{var e;return{root:Ys,field:null!=(e=Sa(Ks,t))?e:{},stepperGroup:Zs,stepper:Qs}}));function tl(t){var e,n,r;const i=null==(e=sa.sizes)?void 0:e[t],o={lg:"md",md:"md",sm:"sm",xs:"sm"},a=null!=(r=null==(n=i.field)?void 0:n.fontSize)?r:"md",s=mr.fontSizes[a];return Hs({field:{...i.field,paddingInlineEnd:Ws.reference,verticalAlign:"top"},stepper:{fontSize:fi(s).multiply(.75).toString(),_first:{borderTopEndRadius:o[t]},_last:{borderBottomEndRadius:o[t],mt:"-1px",borderTopWidth:1}}})}var el,nl,rl,il=Vs({baseStyle:Js,sizes:{xs:tl("xs"),sm:tl("sm"),md:tl("md"),lg:tl("lg")},variants:sa.variants,defaultProps:sa.defaultProps}),ol={...null==(el=sa.baseStyle)?void 0:el.field,textAlign:"center"},al={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},sl={outline:t=>{var e,n,r;return null!=(r=null==(n=Sa(null==(e=sa.variants)?void 0:e.outline,t))?void 0:n.field)?r:{}},flushed:t=>{var e,n,r;return null!=(r=null==(n=Sa(null==(e=sa.variants)?void 0:e.flushed,t))?void 0:n.field)?r:{}},filled:t=>{var e,n,r;return null!=(r=null==(n=Sa(null==(e=sa.variants)?void 0:e.filled,t))?void 0:n.field)?r:{}},unstyled:null!=(rl=null==(nl=sa.variants)?void 0:nl.unstyled.field)?rl:{}},ll={baseStyle:ol,sizes:al,variants:sl,defaultProps:sa.defaultProps},{defineMultiStyleConfig:cl,definePartsStyle:ul}=Nn(Wr.keys),dl=ii("popper-bg"),hl=ii("popper-arrow-bg"),fl=ii("popper-arrow-shadow-color"),pl=cl({baseStyle:ul({popper:{zIndex:10},content:{[dl.variable]:"colors.white",bg:dl.reference,[hl.variable]:dl.reference,[fl.variable]:"colors.gray.200",_dark:{[dl.variable]:"colors.gray.700",[fl.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},header:{px:3,py:2,borderBottomWidth:"1px"},body:{px:3,py:2},footer:{px:3,py:2,borderTopWidth:"1px"},closeButton:{position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2}})}),{definePartsStyle:gl,defineMultiStyleConfig:ml}=Nn(Nr.keys),vl=Ke("drawer-bg"),yl=Ke("drawer-box-shadow");function bl(t){return gl("full"===t?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var wl={bg:"blackAlpha.600",zIndex:"modal"},_l={display:"flex",zIndex:"modal",justifyContent:"center"},Al=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[vl.variable]:"colors.white",[yl.variable]:"shadows.lg",_dark:{[vl.variable]:"colors.gray.700",[yl.variable]:"shadows.dark-lg"},bg:vl.reference,boxShadow:yl.reference}},Sl={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},El={position:"absolute",top:"2",insetEnd:"3"},Cl={px:"6",py:"2",flex:"1",overflow:"auto"},xl={px:"6",py:"4"},Tl=ml({baseStyle:gl((t=>({overlay:wl,dialogContainer:_l,dialog:Sa(Al,t),header:Sl,closeButton:El,body:Cl,footer:xl}))),sizes:{xs:bl("xs"),sm:bl("md"),md:bl("lg"),lg:bl("2xl"),xl:bl("4xl"),full:bl("full")},defaultProps:{size:"xs"}}),{definePartsStyle:Il,defineMultiStyleConfig:kl}=Nn(Lr.keys),Rl=kl({baseStyle:Il({preview:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},textarea:{borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}}})}),{definePartsStyle:Ml,defineMultiStyleConfig:Pl}=Nn(Fr.keys),Ol=Ke("form-control-color"),Dl=Pl({baseStyle:Ml({container:{width:"100%",position:"relative"},requiredIndicator:{marginStart:"1",[Ol.variable]:"colors.red.500",_dark:{[Ol.variable]:"colors.red.300"},color:Ol.reference},helperText:{mt:"2",[Ol.variable]:"colors.gray.600",_dark:{[Ol.variable]:"colors.whiteAlpha.600"},color:Ol.reference,lineHeight:"normal",fontSize:"sm"}})}),{definePartsStyle:Nl,defineMultiStyleConfig:Ll}=Nn(Br.keys),Fl=Ke("form-error-color"),Bl=Ll({baseStyle:Nl({text:{[Fl.variable]:"colors.red.500",_dark:{[Fl.variable]:"colors.red.300"},color:Fl.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},icon:{marginEnd:"0.5em",[Fl.variable]:"colors.red.500",_dark:{[Fl.variable]:"colors.red.300"},color:Fl.reference}})}),jl={baseStyle:{fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}}},zl={baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},{defineMultiStyleConfig:Vl,definePartsStyle:Hl}=Nn(Or.keys),Ul=Ke("breadcrumb-link-decor"),Wl=Vl({baseStyle:Hl({link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Ul.reference,[Ul.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Ul.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}}})}),$l=t=>{const{colorScheme:e,theme:n}=t;if("gray"===e)return{color:Ci("gray.800","whiteAlpha.900")(t),_hover:{bg:Ci("gray.100","whiteAlpha.200")(t)},_active:{bg:Ci("gray.200","whiteAlpha.300")(t)}};const r=Qi(`${e}.200`,.12)(n),i=Qi(`${e}.200`,.24)(n);return{color:Ci(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:Ci(`${e}.50`,r)(t)},_active:{bg:Ci(`${e}.100`,i)(t)}}},Gl=t=>{const{colorScheme:e}=t,n=Ci("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:"gray"===e?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Sa($l,t)}},Xl={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},ql=t=>{var e;const{colorScheme:n}=t;if("gray"===n){const e=Ci("gray.100","whiteAlpha.200")(t);return{bg:e,color:Ci("gray.800","whiteAlpha.900")(t),_hover:{bg:Ci("gray.200","whiteAlpha.300")(t),_disabled:{bg:e}},_active:{bg:Ci("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:o=`${n}.600`,activeBg:a=`${n}.700`}=null!=(e=Xl[n])?e:{},s=Ci(r,`${n}.200`)(t);return{bg:s,color:Ci(i,"gray.800")(t),_hover:{bg:Ci(o,`${n}.300`)(t),_disabled:{bg:s}},_active:{bg:Ci(a,`${n}.400`)(t)}}},Yl=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ci(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ci(`${e}.700`,`${e}.500`)(t)}}},Kl={baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:$l,outline:Gl,solid:ql,link:Yl,unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"}},sizes:{lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Zl,defineMultiStyleConfig:Ql}=Nn(ti.keys),Jl=Ke("card-bg"),tc=Ke("card-padding"),ec=Ke("card-shadow"),nc=Ke("card-radius"),rc=Ke("card-border-width","0"),ic=Ke("card-border-color"),oc=Zl({container:{[Jl.variable]:"colors.chakra-body-bg",backgroundColor:Jl.reference,boxShadow:ec.reference,borderRadius:nc.reference,color:"chakra-body-text",borderWidth:rc.reference,borderColor:ic.reference},body:{padding:tc.reference,flex:"1 1 0%"},header:{padding:tc.reference},footer:{padding:tc.reference}}),ac={sm:Zl({container:{[nc.variable]:"radii.base",[tc.variable]:"space.3"}}),md:Zl({container:{[nc.variable]:"radii.md",[tc.variable]:"space.5"}}),lg:Zl({container:{[nc.variable]:"radii.xl",[tc.variable]:"space.7"}})},sc=Ql({baseStyle:oc,variants:{elevated:Zl({container:{[ec.variable]:"shadows.base",_dark:{[Jl.variable]:"colors.gray.700"}}}),outline:Zl({container:{[rc.variable]:"1px",[ic.variable]:"colors.chakra-border-color"}}),filled:Zl({container:{[Jl.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[tc.variable]:0},header:{[tc.variable]:0},footer:{[tc.variable]:0}}},sizes:ac,defaultProps:{variant:"elevated",size:"md"}}),lc=ii("close-button-size"),cc=ii("close-button-bg"),uc={baseStyle:{w:[lc.reference],h:[lc.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[cc.variable]:"colors.blackAlpha.100",_dark:{[cc.variable]:"colors.whiteAlpha.100"}},_active:{[cc.variable]:"colors.blackAlpha.200",_dark:{[cc.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:cc.reference},sizes:{lg:{[lc.variable]:"sizes.10",fontSize:"md"},md:{[lc.variable]:"sizes.8",fontSize:"xs"},sm:{[lc.variable]:"sizes.6",fontSize:"2xs"}},defaultProps:{size:"md"}},{variants:dc,defaultProps:hc}=So,fc={baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:bo.bg.reference,color:bo.color.reference,boxShadow:bo.shadow.reference},variants:dc,defaultProps:hc},pc={baseStyle:{w:"100%",mx:"auto",maxW:"prose",px:"4"}},gc={baseStyle:{opacity:.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},{definePartsStyle:mc,defineMultiStyleConfig:vc}=Nn(Rr.keys),yc=vc({baseStyle:mc({container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},panel:{pt:"2",px:"4",pb:"5"},icon:{fontSize:"1.25em"}})}),{definePartsStyle:bc,defineMultiStyleConfig:wc}=Nn(Mr.keys),_c=Ke("alert-fg"),Ac=Ke("alert-bg"),Sc=bc({container:{bg:Ac.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:_c.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:_c.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Ec(t){const{theme:e,colorScheme:n}=t;return{light:`colors.${n}.100`,dark:Qi(`${n}.200`,.16)(e)}}var Cc=bc((t=>{const{colorScheme:e}=t,n=Ec(t);return{container:{[_c.variable]:`colors.${e}.600`,[Ac.variable]:n.light,_dark:{[_c.variable]:`colors.${e}.200`,[Ac.variable]:n.dark}}}})),xc=bc((t=>{const{colorScheme:e}=t,n=Ec(t);return{container:{[_c.variable]:`colors.${e}.600`,[Ac.variable]:n.light,_dark:{[_c.variable]:`colors.${e}.200`,[Ac.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:_c.reference}}})),Tc=bc((t=>{const{colorScheme:e}=t,n=Ec(t);return{container:{[_c.variable]:`colors.${e}.600`,[Ac.variable]:n.light,_dark:{[_c.variable]:`colors.${e}.200`,[Ac.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:_c.reference}}})),Ic=bc((t=>{const{colorScheme:e}=t;return{container:{[_c.variable]:"colors.white",[Ac.variable]:`colors.${e}.600`,_dark:{[_c.variable]:"colors.gray.900",[Ac.variable]:`colors.${e}.200`},color:_c.reference}}})),kc=wc({baseStyle:Sc,variants:{subtle:Cc,"left-accent":xc,"top-accent":Tc,solid:Ic},defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:Rc,defineMultiStyleConfig:Mc}=Nn(Pr.keys),Pc=Ke("avatar-border-color"),Oc=Ke("avatar-bg"),Dc=Ke("avatar-font-size"),Nc=Ke("avatar-size"),Lc={borderRadius:"full",border:"0.2em solid",borderColor:Pc.reference,[Pc.variable]:"white",_dark:{[Pc.variable]:"colors.gray.800"}},Fc={bg:Oc.reference,fontSize:Dc.reference,width:Nc.reference,height:Nc.reference,lineHeight:"1",[Oc.variable]:"colors.gray.200",_dark:{[Oc.variable]:"colors.whiteAlpha.400"}},Bc=t=>{const{name:e,theme:n}=t,r=e?to({string:e}):"colors.gray.400",i=(t=>e=>"dark"===Zi(t)(e))(r)(n);let o="white";return i||(o="gray.800"),{bg:Oc.reference,fontSize:Dc.reference,color:o,borderColor:Pc.reference,verticalAlign:"top",width:Nc.reference,height:Nc.reference,"&:not([data-loaded])":{[Oc.variable]:r},[Pc.variable]:"colors.white",_dark:{[Pc.variable]:"colors.gray.800"}}},jc={fontSize:Dc.reference,lineHeight:"1"};function zc(t){const e="100%"!==t?yr[t]:void 0;return Rc({container:{[Nc.variable]:null!=e?e:t,[Dc.variable]:`calc(${null!=e?e:t} / 2.5)`},excessLabel:{[Nc.variable]:null!=e?e:t,[Dc.variable]:`calc(${null!=e?e:t} / 2.5)`}})}var Vc={Accordion:yc,Alert:kc,Avatar:Mc({baseStyle:Rc((t=>({badge:Sa(Lc,t),excessLabel:Sa(Fc,t),container:Sa(Bc,t),label:jc}))),sizes:{"2xs":zc(4),xs:zc(6),sm:zc(8),md:zc(12),lg:zc(16),xl:zc(24),"2xl":zc(32),full:zc("100%")},defaultProps:{size:"md"}}),Badge:So,Breadcrumb:Wl,Button:Kl,Checkbox:za,CloseButton:uc,Code:fc,Container:pc,Divider:gc,Drawer:Tl,Editable:Rl,Form:Dl,FormError:Bl,FormLabel:jl,Heading:zl,Input:sa,Kbd:ys,Link:bs,List:As,Menu:Ts,Modal:zs,NumberInput:il,PinInput:ll,Popover:pl,Progress:Aa,Radio:$a,Select:Ka,Skeleton:Ja,SkipLink:es,Slider:ds,Spinner:fs,Stat:ms,Switch:Ei,Table:Oi,Tabs:yo,Tag:Lo,Textarea:ua,Tooltip:pa,Card:sc,Stepper:Ir},Hc={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Uc={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},Wc={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},$c={semanticTokens:Hc,direction:"ltr",...br,components:Vc,styles:Uc,config:Wc},Gc={semanticTokens:Hc,direction:"ltr",components:{},...br,styles:Uc,config:Wc},Xc=(t,e)=>t.find((t=>t.id===e));function qc(t,e){const n=Yc(t,e);return{position:n,index:n?t[n].findIndex((t=>t.id===e)):-1}}function Yc(t,e){for(const[n,r]of Object.entries(t))if(Xc(r,e))return n}function Kc(t){return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===t||"bottom"===t?"0 auto":void 0,top:t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:t.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}function Zc(e,n){const r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e);return(0,t.useEffect)((()=>{r.current=e})),(0,t.useCallback)((function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return null==(t=r.current)?void 0:t.call(r,...n)}),n)}(e);(0,t.useEffect)((()=>{if(null==n)return;let t=null;return t=window.setTimeout((()=>{r()}),n),()=>{t&&window.clearTimeout(t)}}),[n,r])}function Qc(e,n){const r=(0,t.useRef)(!1),i=(0,t.useRef)(!1);(0,t.useEffect)((()=>{if(r.current&&i.current)return e();i.current=!0}),n),(0,t.useEffect)((()=>(r.current=!0,()=>{r.current=!1})),[])}const Jc=(0,t.createContext)(null);function tu(){const e=(0,t.useContext)(Jc);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=(0,t.useId)();(0,t.useEffect)((()=>i(o)),[]);const a=(0,t.useCallback)((()=>r&&r(o)),[o,r]);return!n&&r?[!1,a]:[!0]}function eu(){return null===(e=(0,t.useContext)(Jc))||e.isPresent;var e}const nu=(0,t.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ru=(0,t.createContext)({}),iu="undefined"!==typeof window,ou=iu?t.useLayoutEffect:t.useEffect,au=(0,t.createContext)({strict:!1}),su=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lu="data-"+su("framerAppearId"),cu=!1,uu=!1;const du=["read","resolveKeyframes","update","preRender","render","postRender"];function hu(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=du.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(e){o.has(e)&&(l.schedule(e),t()),e(a)}const l={schedule:function(t){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(t),i.has(t)||i.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{a=t,r?i=!0:(r=!0,[e,n]=[n,e],n.clear(),e.forEach(s),r=!1,i&&(i=!1,l.process(t)))}};return l}(o),t)),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const o=uu?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(f))},p=du.reduce(((e,o)=>{const s=a[o];return e[o]=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||t(f)),s.schedule(e,o,a)},e}),{});return{schedule:p,cancel:t=>{for(let e=0;e<du.length;e++)a[du[e]].cancel(t)},state:i,steps:a}}const{schedule:fu,cancel:pu}=hu(queueMicrotask,!1);function gu(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}const mu=(0,t.createContext)({});let vu=!1;function yu(e,n,r,i,o){var a;const{visualElement:s}=(0,t.useContext)(ru),l=(0,t.useContext)(au),c=(0,t.useContext)(Jc),u=(0,t.useContext)(nu).reducedMotion,d=(0,t.useRef)();i=i||l.renderer,!d.current&&i&&(d.current=i(e,{visualState:n,parent:s,props:r,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const h=d.current,f=(0,t.useContext)(mu);!h||h.projection||!o||"html"!==h.type&&"svg"!==h.type||function(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wu(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(a)||s&&gu(s),visualElement:t,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,r,o,f),(0,t.useInsertionEffect)((()=>{h&&h.update(r,c)}));const p=r[lu],g=(0,t.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,p)));return ou((()=>{h&&(h.updateFeatures(),fu.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())})),(0,t.useEffect)((()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current=!1,vu||(vu=!0,queueMicrotask(bu)))})),h}function bu(){window.MotionHandoffIsComplete=!0}function wu(t){if(t)return!1!==t.options.allowProjection?t.projection:wu(t.parent)}function _u(e,n,r){return(0,t.useCallback)((t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):gu(r)&&(r.current=t))}),[n])}function Au(t){return"string"===typeof t||Array.isArray(t)}function Su(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}const Eu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cu=["initial",...Eu];function xu(t){return Su(t.animate)||Cu.some((e=>Au(t[e])))}function Tu(t){return Boolean(xu(t)||t.variants)}function Iu(e){const{initial:n,animate:r}=function(t,e){if(xu(t)){const{initial:e,animate:n}=t;return{initial:!1===e||Au(e)?e:void 0,animate:Au(n)?n:void 0}}return!1!==t.inherit?e:{}}(e,(0,t.useContext)(ru));return(0,t.useMemo)((()=>({initial:n,animate:r})),[ku(n),ku(r)])}function ku(t){return Array.isArray(t)?t.join(" "):t}const Ru={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mu={};for(const EL in Ru)Mu[EL]={isEnabled:t=>Ru[EL].some((e=>!!t[e]))};const Pu=(0,t.createContext)({}),Ou=Symbol.for("motionComponentSymbol");function Du(e){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:o,Component:a}=e;n&&function(t){for(const e in t)Mu[e]={...Mu[e],...t[e]}}(n);const s=(0,t.forwardRef)((function(e,n){let s;const l={...(0,t.useContext)(nu),...e,layoutId:Nu(e)},{isStatic:c}=l,u=Iu(e),d=o(e,c);if(!c&&iu){!function(){(0,t.useContext)(au).strict;0}();const e=function(t){const{drag:e,layout:n}=Mu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:(null===e||void 0===e?void 0:e.isEnabled(t))||(null===n||void 0===n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=e.MeasureLayout,u.visualElement=yu(a,d,l,r,e.ProjectionNode)}return(0,Ot.jsxs)(ru.Provider,{value:u,children:[s&&u.visualElement?(0,Ot.jsx)(s,{visualElement:u.visualElement,...l}):null,i(a,e,_u(d,u.visualElement,n),d,c,u.visualElement)]})}));return s[Ou]=a,s}function Nu(e){let{layoutId:n}=e;const r=(0,t.useContext)(Pu).id;return r&&void 0!==n?r+"-"+n:n}function Lu(t){function e(e){return Du(t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Fu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bu(t){return"string"===typeof t&&!t.includes("-")&&!!(Fu.indexOf(t)>-1||/[A-Z]/u.test(t))}const ju={};const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(zu);function Hu(t,e){let{layout:n,layoutId:r}=e;return Vu.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!ju[t]||"opacity"===t)}const Uu=t=>Boolean(t&&t.getVelocity),Wu=(t,e)=>e&&"number"===typeof t?e.transform(t):t,$u=(t,e,n)=>n>e?e:n<t?t:n,Gu={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},Xu={...Gu,transform:t=>$u(0,1,t)},qu={...Gu,default:1},Yu=t=>Math.round(1e5*t)/1e5,Ku=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Zu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Qu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Ju(t){return"string"===typeof t}const td=t=>({test:e=>Ju(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),ed=td("deg"),nd=td("%"),rd=td("px"),id=td("vh"),od=td("vw"),ad={...nd,parse:t=>nd.parse(t)/100,transform:t=>nd.transform(100*t)},sd={...Gu,transform:Math.round},ld={borderWidth:rd,borderTopWidth:rd,borderRightWidth:rd,borderBottomWidth:rd,borderLeftWidth:rd,borderRadius:rd,radius:rd,borderTopLeftRadius:rd,borderTopRightRadius:rd,borderBottomRightRadius:rd,borderBottomLeftRadius:rd,width:rd,maxWidth:rd,height:rd,maxHeight:rd,size:rd,top:rd,right:rd,bottom:rd,left:rd,padding:rd,paddingTop:rd,paddingRight:rd,paddingBottom:rd,paddingLeft:rd,margin:rd,marginTop:rd,marginRight:rd,marginBottom:rd,marginLeft:rd,rotate:ed,rotateX:ed,rotateY:ed,rotateZ:ed,scale:qu,scaleX:qu,scaleY:qu,scaleZ:qu,skew:ed,skewX:ed,skewY:ed,distance:rd,translateX:rd,translateY:rd,translateZ:rd,x:rd,y:rd,z:rd,perspective:rd,transformPerspective:rd,opacity:Xu,originX:ad,originY:ad,originZ:rd,zIndex:sd,backgroundPositionX:rd,backgroundPositionY:rd,fillOpacity:Xu,strokeOpacity:Xu,numOctaves:sd},cd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ud=zu.length;const dd=t=>e=>"string"===typeof e&&e.startsWith(t),hd=dd("--"),fd=dd("var(--"),pd=t=>!!fd(t)&&gd.test(t.split("/*")[0].trim()),gd=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function md(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const l in e){const t=e[l];if(Vu.has(l))a=!0;else if(hd(l))i[l]=t;else{const e=Wu(t,ld[l]);l.startsWith("origin")?(s=!0,o[l]=e):r[l]=e}}if(e.transform||(a||n?r.transform=function(t,e,n){let r="",i=!0;for(let o=0;o<ud;o++){const a=zu[o],s=t[a];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const t=Wu(s,ld[a]);l||(i=!1,r+=`${cd[a]||a}(${t}) `),n&&(e[a]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:t="50%",originY:e="50%",originZ:n=0}=o;r.transformOrigin=`${t} ${e} ${n}`}}const vd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yd(t,e,n){for(const r in e)Uu(e[r])||Hu(r,n)||(t[r]=e[r])}function bd(e,n){const r={};return yd(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const t=vd();return md(t,n,r),Object.assign({},t.vars,t.style)}),[n])}(e,n)),r}function wd(t,e){const n={},r=bd(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _d=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ad(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_d.has(t)}let Sd=t=>!Ad(t);try{(Ed=require("@emotion/is-prop-valid").default)&&(Sd=t=>t.startsWith("on")?!Ad(t):Ed(t))}catch(Xo){}var Ed;function Cd(t,e,n){return"string"===typeof t?t:rd.transform(e+n*t)}const xd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Td={offset:"strokeDashoffset",array:"strokeDasharray"};function Id(t,e,n,r){let{attrX:i,attrY:o,attrScale:a,originX:s,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h}=e;if(md(t,h,r),n)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:g}=t;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(void 0!==s||void 0!==l||p.transform)&&(p.transformOrigin=function(t,e,n){return`${Cd(e,t.x,t.width)} ${Cd(n,t.y,t.height)}`}(g,void 0!==s?s:.5,void 0!==l?l:.5)),void 0!==i&&(f.x=i),void 0!==o&&(f.y=o),void 0!==a&&(f.scale=a),void 0!==c&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const o=i?xd:Td;t[o.offset]=rd.transform(-r);const a=rd.transform(e),s=rd.transform(n);t[o.array]=`${a} ${s}`}(f,c,u,d,!1)}const kd=()=>({...vd(),attrs:{}}),Rd=t=>"string"===typeof t&&"svg"===t.toLowerCase();function Md(e,n,r,i){const o=(0,t.useMemo)((()=>{const t=kd();return Id(t,n,Rd(i),e.transformTemplate),{...t.attrs,style:{...t.style}}}),[n]);if(e.style){const t={};yd(t,e.style,e),o.style={...t,...o.style}}return o}function Pd(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,o,a)=>{let{latestValues:s}=o;const l=(Bu(n)?Md:wd)(r,s,a,n),c=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"===typeof t.values||(Sd(i)||!0===n&&Ad(i)||!e&&!Ad(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(r,"string"===typeof n,e),u=n!==t.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=(0,t.useMemo)((()=>Uu(d)?d.get():d),[d]);return(0,t.createElement)(n,{...u,children:h})}}function Od(t,e,n,r){let{style:i,vars:o}=e;Object.assign(t.style,i,r&&r.getProjectionStyles(n));for(const a in o)t.style.setProperty(a,o[a])}const Dd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nd(t,e,n,r){Od(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Dd.has(i)?i:su(i),e.attrs[i])}function Ld(t,e,n){var r;const{style:i}=t,o={};for(const a in i)(Uu(i[a])||e.style&&Uu(e.style[a])||Hu(a,t)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(o[a]=i[a]);return n&&i&&"string"===typeof i.willChange&&(n.applyWillChange=!1),o}function Fd(t,e,n){const r=Ld(t,e,n);for(const i in t)if(Uu(t[i])||Uu(e[i])){r[-1!==zu.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return r}function Bd(t){const e=[{},{}];return null===t||void 0===t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function jd(t,e,n,r){if("function"===typeof e){const[i,o]=Bd(r);e=e(void 0!==n?n:t.custom,i,o)}if("string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e){const[i,o]=Bd(r);e=e(void 0!==n?n:t.custom,i,o)}return e}function zd(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Vd=t=>Array.isArray(t),Hd=t=>Boolean(t&&"object"===typeof t&&t.mix&&t.toValue),Ud=t=>Vd(t)?t[t.length-1]||0:t;function Wd(t){const e=Uu(t)?t.get():t;return Hd(e)?e.toValue():e}const $d=new Set(["opacity","clipPath","filter","transform"]);function Gd(t){return Vu.has(t)?"transform":$d.has(t)?su(t):void 0}function Xd(t,e){-1===t.indexOf(e)&&t.push(e)}function qd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Yd=e=>(n,r)=>{const i=(0,t.useContext)(ru),o=(0,t.useContext)(Jc),a=()=>function(t,e,n,r,i){let{applyWillChange:o=!1,scrapeMotionValuesFromProps:a,createRenderState:s,onMount:l}=t;const c={latestValues:Qd(e,n,r,!i&&o,a),renderState:s()};return l&&(c.mount=t=>l(e,t,c)),c}(e,n,i,o,r);return r?a():zd(a)};function Kd(t,e){const n=Gd(e);n&&Xd(t,n)}function Zd(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const e=jd(t,r[i]);if(e){const{transitionEnd:t,transition:r,...i}=e;n(i,t)}}}function Qd(t,e,n,r,i){var o;const a={},s=[],l=r&&void 0===(null===(o=t.style)||void 0===o?void 0:o.willChange),c=i(t,{});for(const m in c)a[m]=Wd(c[m]);let{initial:u,animate:d}=t;const h=xu(t),f=Tu(t);e&&f&&!h&&!1!==t.inherit&&(void 0===u&&(u=e.initial),void 0===d&&(d=e.animate));let p=!!n&&!1===n.initial;p=p||!1===u;const g=p?d:u;return g&&"boolean"!==typeof g&&!Su(g)&&Zd(t,g,((t,e)=>{for(const n in t){let e=t[n];if(Array.isArray(e)){e=e[p?e.length-1:0]}null!==e&&(a[n]=e)}for(const n in e)a[n]=e[n]})),l&&(d&&!1!==u&&!Su(d)&&Zd(t,d,(t=>{for(const e in t)Kd(s,e)})),s.length&&(a.willChange=s.join(","))),a}const Jd=t=>t,{schedule:th,cancel:eh,state:nh,steps:rh}=hu("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Jd,!0),ih={useVisualState:Yd({scrapeMotionValuesFromProps:Fd,createRenderState:kd,onMount:(t,e,n)=>{let{renderState:r,latestValues:i}=n;th.read((()=>{try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}})),th.render((()=>{Id(r,i,Rd(e.tagName),t.transformTemplate),Nd(e,r)}))}})},oh={useVisualState:Yd({applyWillChange:!0,scrapeMotionValuesFromProps:Ld,createRenderState:vd})};function ah(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const sh=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function lh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const ch=t=>e=>sh(e)&&t(e,lh(e));function uh(t,e,n,r){return ah(t,e,ch(n),r)}const dh=(t,e)=>n=>e(t(n)),hh=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(dh)};function fh(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const ph=fh("dragHorizontal"),gh=fh("dragVertical");function mh(t){let e=!1;if("y"===t)e=gh();else if("x"===t)e=ph();else{const t=ph(),n=gh();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function vh(){const t=mh(!0);return!t||(t(),!1)}class yh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bh(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd";return uh(t.current,n,((n,i)=>{if("touch"===n.pointerType||vh())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const a=o[r];a&&th.postRender((()=>a(n,i)))}),{passive:!t.getProps()[r]})}const wh=(t,e)=>!!e&&(t===e||wh(t,e.parentElement));function _h(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,lh(n))}const Ah=new WeakMap,Sh=new WeakMap,Eh=t=>{const e=Ah.get(t.target);e&&e(t)},Ch=t=>{t.forEach(Eh)};function xh(t,e,n){const r=function(t){let{root:e,...n}=t;const r=e||document;Sh.has(r)||Sh.set(r,{});const i=Sh.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(Ch,{root:e,...n})),i[o]}(e);return Ah.set(t,n),r.observe(t),()=>{Ah.delete(t),r.unobserve(t)}}const Th={some:0,all:1};const Ih={inView:{Feature:class extends yh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Th[r]};return xh(this.node.current,o,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends yh{constructor(){super(...arguments),this.removeStartListeners=Jd,this.removeEndListeners=Jd,this.removeAccessibleListeners=Jd,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=uh(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps(),o=i||wh(this.node.current,t.target)?n:r;o&&th.update((()=>o(t,e)))}),{passive:!(n.onTap||n.onPointerUp)}),i=uh(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=hh(r,i),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=ah(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=ah(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&_h("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&th.postRender((()=>n(t,e)))}))})),_h("down",((t,e)=>{this.startPress(t,e)}))})),e=ah(this.node.current,"blur",(()=>{this.isPressing&&_h("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=hh(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&th.postRender((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vh()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&th.postRender((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=uh(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ah(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=hh(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends yh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hh(ah(this.node.current,"focus",(()=>this.onFocus())),ah(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends yh{mount(){this.unmount=hh(bh(this.node,!0),bh(this.node,!1))}unmount(){}}}};function kh(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Rh(t,e,n){const r=t.getProps();return jd(r,e,void 0!==n?n:r.custom,t)}const Mh=t=>1e3*t,Ph=t=>t/1e3,Oh={type:"spring",stiffness:500,damping:25,restSpeed:10},Dh={type:"keyframes",duration:.8},Nh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lh=(t,e)=>{let{keyframes:n}=e;return n.length>2?Dh:Vu.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Oh:Nh};function Fh(t,e){return t[e]||t.default||t}const Bh=!1,jh=t=>null!==t;function zh(t,e,n){let{repeat:r,repeatType:i="loop"}=e;const o=t.filter(jh),a=r&&"loop"!==i&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}const Vh=t=>/^0[^.\s]+$/u.test(t);let Hh=Jd,Uh=Jd;const Wh=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),$h=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Uh(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[r,i]=function(t){const e=$h.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${null!==n&&void 0!==n?n:r}`,i]}(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const t=o.trim();return Wh(t)?parseFloat(t):t}return pd(i)?Gh(i,e,n+1):i}const Xh=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qh=t=>t===Gu||t===rd,Yh=(t,e)=>parseFloat(t.split(", ")[e]),Kh=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Yh(o[1],e);{const e=i.match(/^matrix\((.+)\)$/u);return e?Yh(e[1],t):0}},Zh=new Set(["x","y","z"]),Qh=zu.filter((t=>!Zh.has(t)));const Jh={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:Kh(4,13),y:Kh(5,14)};Jh.translateX=Jh.x,Jh.translateY=Jh.y;const tf=t=>e=>e.test(t),ef=[Gu,rd,nd,ed,od,id,{test:t=>"auto"===t,parse:t=>t}],nf=t=>ef.find(tf(t)),rf=new Set;let of=!1,af=!1;function sf(){if(af){const t=Array.from(rf).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return Qh.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((e=>{let[n,r]=e;var i;null===(i=t.getValue(n))||void 0===i||i.set(r)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}af=!1,of=!1,rf.forEach((t=>t.complete())),rf.clear()}function lf(){rf.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(af=!0)}))}class cf{constructor(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rf.add(this),of||(of=!0,th.read(lf),th.resolveKeyframes(sf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,o);void 0!==r&&null!==r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uf=(t,e)=>n=>Boolean(Ju(n)&&Qu.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),df=(t,e,n)=>r=>{if(!Ju(r))return r;const[i,o,a,s]=r.match(Ku);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},hf={...Gu,transform:t=>Math.round((t=>$u(0,255,t))(t))},ff={test:uf("rgb","red"),parse:df("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+hf.transform(e)+", "+hf.transform(n)+", "+hf.transform(r)+", "+Yu(Xu.transform(i))+")"}};const pf={test:uf("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:ff.transform},gf={test:uf("hsl","hue"),parse:df("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+nd.transform(Yu(n))+", "+nd.transform(Yu(r))+", "+Yu(Xu.transform(i))+")"}},mf={test:t=>ff.test(t)||pf.test(t)||gf.test(t),parse:t=>ff.test(t)?ff.parse(t):gf.test(t)?gf.parse(t):pf.parse(t),transform:t=>Ju(t)?t:t.hasOwnProperty("red")?ff.transform(t):gf.transform(t)};const vf="number",yf="color",bf="var",wf="var(",_f="${}",Af=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(Af,(t=>(mf.test(t)?(r.color.push(o),i.push(yf),n.push(mf.parse(t))):t.startsWith(wf)?(r.var.push(o),i.push(bf),n.push(t)):(r.number.push(o),i.push(vf),n.push(parseFloat(t))),++o,_f))).split(_f);return{values:n,split:a,indexes:r,types:i}}function Ef(t){return Sf(t).values}function Cf(t){const{split:e,types:n}=Sf(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){const e=n[o];i+=e===vf?Yu(t[o]):e===yf?mf.transform(t[o]):t[o]}return i}}const xf=t=>"number"===typeof t?0:t;const Tf={test:function(t){var e,n;return isNaN(t)&&Ju(t)&&((null===(e=t.match(Ku))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Zu))||void 0===n?void 0:n.length)||0)>0},parse:Ef,createTransformer:Cf,getAnimatableNone:function(t){const e=Ef(t);return Cf(t)(e.map(xf))}},If=new Set(["brightness","contrast","saturate","opacity"]);function kf(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(Ku)||[];if(!r)return t;const i=n.replace(r,"");let o=If.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Rf=/\b([a-z-]*)\(.*?\)/gu,Mf={...Tf,getAnimatableNone:t=>{const e=t.match(Rf);return e?e.map(kf).join(" "):t}},Pf={...ld,color:mf,backgroundColor:mf,outlineColor:mf,fill:mf,stroke:mf,borderColor:mf,borderTopColor:mf,borderRightColor:mf,borderBottomColor:mf,borderLeftColor:mf,filter:Mf,WebkitFilter:Mf},Of=t=>Pf[t];function Df(t,e){let n=Of(t);return n!==Mf&&(n=Tf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Nf=new Set(["auto","none","0"]);class Lf extends cf{constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let s=0;s<t.length;s++){let n=t[s];if("string"===typeof n&&(n=n.trim(),pd(n))){const r=Gh(n,e.current);void 0!==r&&(t[s]=r),s===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Xh.has(n)||2!==t.length)return;const[r,i]=t,o=nf(r),a=nf(i);if(o!==a)if(qh(o)&&qh(a))for(let s=0;s<t.length;s++){const e=t[s];"string"===typeof e&&(t[s]=parseFloat(e))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let i=0;i<t.length;i++)("number"===typeof(r=t[i])?0===r:null===r||"none"===r||"0"===r||Vh(r))&&n.push(i);var r;n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){const e=t[i];"string"===typeof e&&!Nf.has(e)&&Sf(e).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=Df(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Jh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function Ff(t){let e;return()=>(void 0===e&&(e=t()),e)}let Bf;function jf(){Bf=void 0}const zf={now:()=>(void 0===Bf&&zf.set(nh.isProcessing||uu?nh.timestamp:performance.now()),Bf),set:t=>{Bf=t,queueMicrotask(jf)}},Vf=(t,e)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Tf.test(t)&&"0"!==t||t.startsWith("url(")));class Hf{constructor(t){let{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...s}=t;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zf.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(lf(),sf()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=zf.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:a,onUpdate:s,isGenerator:l}=this.options;if(!l&&!function(t,e,n,r){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const o=t[t.length-1],a=Vf(i,e),s=Vf(o,e);return Hh(a===s,`You are trying to animate ${e} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!(!a||!s)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||"spring"===n&&r)}(t,n,r,i)){if(Bh||!o)return null===s||void 0===s||s(zh(t,this.options,e)),null===a||void 0===a||a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}function Uf(t,e){return e?t*(1e3/e):0}const Wf=5;function $f(t,e,n){const r=Math.max(e-Wf,0);return Uf(n-t(r),e-r)}const Gf=.001,Xf=.01,qf=10,Yf=.05,Kf=1;function Zf(t){let e,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=t;Hh(r<=Mh(qf),"Spring duration must be 10 seconds or less");let s=1-i;s=$u(Yf,Kf,s),r=$u(Xf,qf,Ph(r)),s<1?(e=t=>{const e=t*s,n=e*r,i=e-o,a=Jf(t,s),l=Math.exp(-n);return Gf-i/a*l},n=t=>{const n=t*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(t,2)*r,l=Math.exp(-n),c=Jf(Math.pow(t,2),s);return(-e(t)+Gf>0?-1:1)*((i-a)*l)/c}):(e=t=>Math.exp(-t*r)*((t-o)*r+1)-Gf,n=t=>Math.exp(-t*r)*(r*r*(o-t)));const l=function(t,e,n){let r=n;for(let i=1;i<Qf;i++)r-=t(r)/e(r);return r}(e,n,5/r);if(r=Mh(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const t=Math.pow(l,2)*a;return{stiffness:t,damping:2*s*Math.sqrt(a*t),duration:r}}}const Qf=12;function Jf(t,e){return t*Math.sqrt(1-e*e)}const tp=["duration","bounce"],ep=["stiffness","damping","mass"];function np(t,e){return e.some((e=>void 0!==t[e]))}function rp(t){let{keyframes:e,restDelta:n,restSpeed:r,...i}=t;const o=e[0],a=e[e.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!np(t,ep)&&np(t,tp)){const n=Zf(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...i,velocity:-Ph(i.velocity||0)}),p=h||0,g=c/(2*Math.sqrt(l*u)),m=a-o,v=Ph(Math.sqrt(l/u)),y=Math.abs(m)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),g<1){const t=Jf(v,g);b=e=>{const n=Math.exp(-g*v*e);return a-n*((p+g*v*m)/t*Math.sin(t*e)+m*Math.cos(t*e))}}else if(1===g)b=t=>a-Math.exp(-v*t)*(m+(p+v*m)*t);else{const t=v*Math.sqrt(g*g-1);b=e=>{const n=Math.exp(-g*v*e),r=Math.min(t*e,300);return a-n*((p+g*v*m)*Math.sinh(r)+t*m*Math.cosh(r))/t}}return{calculatedDuration:f&&d||null,next:t=>{const e=b(t);if(f)s.done=t>=d;else{let i=0;g<1&&(i=0===t?Mh(p):$f(b,t,e));const o=Math.abs(i)<=r,l=Math.abs(a-e)<=n;s.done=o&&l}return s.value=s.done?a:e,s}}}function ip(t){let{keyframes:e,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=t;const h=e[0],f={done:!1,value:h},p=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let g=r*n;const m=h+g,v=void 0===s?m:s(m);v!==m&&(g=v-h);const y=t=>-g*Math.exp(-t/i),b=t=>v+y(t),w=t=>{const e=y(t),n=b(t);f.done=Math.abs(e)<=u,f.value=f.done?v:n};let _,A;const S=t=>{(t=>void 0!==l&&t<l||void 0!==c&&t>c)(f.value)&&(_=t,A=rp({keyframes:[f.value,p(f.value)],velocity:$f(b,t,f.value),damping:o,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return A||void 0!==_||(e=!0,w(t),S(t)),void 0!==_&&t>=_?A.next(t-_):(!e&&w(t),f)}}}const op=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ap=1e-7,sp=12;function lp(t,e,n,r){if(t===e&&n===r)return Jd;const i=e=>function(t,e,n,r,i){let o,a,s=0;do{a=e+(n-e)/2,o=op(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>ap&&++s<sp);return a}(e,0,1,t,n);return t=>0===t||1===t?t:op(i(t),e,r)}const cp=lp(.42,0,1,1),up=lp(0,0,.58,1),dp=lp(.42,0,.58,1),hp=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fp=t=>e=>1-t(1-e),pp=t=>1-Math.sin(Math.acos(t)),gp=fp(pp),mp=hp(pp),vp=lp(.33,1.53,.69,.99),yp=fp(vp),bp=hp(yp),wp={linear:Jd,easeIn:cp,easeInOut:dp,easeOut:up,circIn:pp,circInOut:mp,circOut:gp,backIn:yp,backInOut:bp,backOut:vp,anticipate:t=>(t*=2)<1?.5*yp(t):.5*(2-Math.pow(2,-10*(t-1)))},_p=t=>{if(Array.isArray(t)){Uh(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return lp(e,n,r,i)}return"string"===typeof t?(Uh(void 0!==wp[t],`Invalid easing type '${t}'`),wp[t]):t},Ap=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},Sp=(t,e,n)=>t+(e-t)*n;function Ep(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Cp(t,e){return n=>n>0?e:t}const xp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Tp=[pf,ff,gf];function Ip(t){const e=(t=>Tp.find((e=>e.test(t))))(t);if(Hh(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(e))return!1;let n=e.parse(t);return e===gf&&(n=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;o=Ep(i,t,e+1/3),a=Ep(i,t,e),s=Ep(i,t,e-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}const kp=(t,e)=>{const n=Ip(t),r=Ip(e);if(!n||!r)return Cp(t,e);const i={...n};return t=>(i.red=xp(n.red,r.red,t),i.green=xp(n.green,r.green,t),i.blue=xp(n.blue,r.blue,t),i.alpha=Sp(n.alpha,r.alpha,t),ff.transform(i))},Rp=new Set(["none","hidden"]);function Mp(t,e){return n=>Sp(t,e,n)}function Pp(t){return"number"===typeof t?Mp:"string"===typeof t?pd(t)?Cp:mf.test(t)?kp:Np:Array.isArray(t)?Op:"object"===typeof t?mf.test(t)?kp:Dp:Cp}function Op(t,e){const n=[...t],r=n.length,i=t.map(((t,n)=>Pp(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function Dp(t,e){const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Pp(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const Np=(t,e)=>{const n=Tf.createTransformer(e),r=Sf(t),i=Sf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rp.has(t)&&!i.values.length||Rp.has(e)&&!r.values.length?function(t,e){return Rp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):hh(Op(function(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][i[a]],l=null!==(n=t.values[s])&&void 0!==n?n:0;r[o]=l,i[a]++}return r}(r,i),i.values),n):(Hh(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Cp(t,e))};function Lp(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return Sp(t,e,n);return Pp(t)(t,e)}function Fp(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.length;if(Uh(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],i=n||Lp,o=t.length-1;for(let a=0;a<o;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]||Jd:e;n=hh(t,n)}r.push(n)}return r}(e,r,i),s=a.length,l=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=Ap(t[n],t[n+1],e);return a[n](r)};return n?e=>l($u(t[0],t[o-1],e)):l}function Bp(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ap(0,e,r);t.push(Sp(n,1,i))}}(e,t.length-1),e}function jp(t){let{duration:e=300,keyframes:n,times:r,ease:i="easeInOut"}=t;const o=(t=>Array.isArray(t)&&"number"!==typeof t[0])(i)?i.map(_p):_p(i),a={done:!1,value:n[0]},s=function(t,e){return t.map((t=>t*e))}(r&&r.length===n.length?r:Bp(n),e),l=Fp(s,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||dp)).splice(0,c.length-1))});var c,u;return{calculatedDuration:e,next:t=>(a.value=l(t),a.done=t>=e,a)}}const zp=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:()=>th.update(e,!0),stop:()=>eh(e),now:()=>nh.isProcessing?nh.timestamp:zf.now()}},Vp={decay:ip,inertia:ip,tween:jp,keyframes:jp,spring:rp},Hp=t=>t/100;class Up extends Hf{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:i}=this.options,o=(null===r||void 0===r?void 0:r.KeyframeResolver)||cf;this.resolver=new o(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Vp[e]||jp;let s,l;a!==jp&&"number"!==typeof t[0]&&(s=hh(Hp,Lp(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});"mirror"===i&&(l=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=function(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(h){const t=Math.min(this.currentTime,c)/u;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,h+1);Boolean(e%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=o)),y=$u(0,1,n)*u}const w=v?{done:!1,value:s[0]}:b.next(y);a&&(w.value=a(w.value));let{done:_}=w;v||null===l||(_=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const A=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return A&&void 0!==r&&(w.value=zh(s,this.options,r)),g&&g(w.value),A&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Ph(t.calculatedDuration):0}get time(){return Ph(this.currentTime)}set time(t){t=Mh(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ph(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=zp,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;this._resolved?(this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Wp=t=>Array.isArray(t)&&"number"===typeof t[0];function $p(t){return Boolean(!t||"string"===typeof t&&t in Xp||Wp(t)||Array.isArray(t)&&t.every($p))}const Gp=t=>{let[e,n,r,i]=t;return`cubic-bezier(${e}, ${n}, ${r}, ${i})`},Xp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gp([0,.65,.55,1]),circOut:Gp([.55,0,1,.45]),backIn:Gp([.31,.01,.66,-.59]),backOut:Gp([.33,1.53,.69,.99])};function qp(t){return Yp(t)||Xp.easeOut}function Yp(t){return t?Wp(t)?Gp(t):Array.isArray(t)?t.map(qp):Xp[t]:void 0}const Kp=Ff((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class Zp extends Hf{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new Lf(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:a,motionValue:s,name:l,startTime:c}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;if(function(t){return"spring"===t.type||!$p(t.ease)}(this.options)){const{onComplete:e,onUpdate:n,motionValue:s,element:l,...c}=this.options,u=function(t,e){const n=new Up({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,c);1===(t=u.keyframes).length&&(t[1]=t[0]),r=u.duration,i=u.times,o=u.ease,a="keyframes"}const u=function(t,e,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[e]:n};l&&(c.offset=l);const u=Yp(s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(s.owner.current,l,t,{...this.options,duration:r,times:i,ease:o});return u.startTime=null!==c&&void 0!==c?c:this.calcStartTime(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;s.set(zh(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Ph(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Ph(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Mh(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return Jd;const{animation:n}=e;n.timeline=t,n.onfinish=null}else this.pendingTimeline=t;return Jd}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:i,ease:o,times:a}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:s,element:l,...c}=this.options,u=new Up({...c,keyframes:n,duration:r,type:i,ease:o,times:a,isGenerator:!0}),d=Mh(this.time);t.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;return Kp()&&n&&$d.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==a}}const Qp=Ff((()=>void 0!==window.ScrollTimeline));class Jp{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t){const e=this.animations.map((e=>{if(!Qp()||!e.attachTimeline)return e.pause(),function(t,e){let n;const r=()=>{const{currentTime:r}=e,i=(null===r?0:r.value)/100;n!==i&&t(i),n=i};return th.update(r,!0),()=>eh(r)}((t=>{e.time=e.duration*t}),t);e.attachTimeline(t)}));return()=>{e.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const tg=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return s=>{const l=Fh(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=Mh(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:t=>{e.set(t),l.onUpdate&&l.onUpdate(t)},onComplete:()=>{s(),l.onComplete&&l.onComplete(),a&&a()},onStop:a,name:t,motionValue:e,element:o?void 0:i};(function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}=t;return!!Object.keys(d).length})(l)||(d={...d,...Lh(t,d)}),d.duration&&(d.duration=Mh(d.duration)),d.repeatDelay&&(d.repeatDelay=Mh(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(h=!0)),(Bh||cu)&&(h=!0,d.duration=0,d.delay=0),h&&!o&&void 0!==e.get()){const t=zh(d.keyframes,l);if(void 0!==t)return th.update((()=>{d.onUpdate(t),d.onComplete()})),new Jp([])}return!o&&Zp.supports(d)?new Zp(d):new Up(d)}};class eg{constructor(){this.subscriptions=[]}add(t){return Xd(this.subscriptions,t),()=>qd(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ng={current:void 0};class rg{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.3.29",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=zf.now();e.updatedAt!==r&&e.setPrevFrameValue(),e.prev=e.current,e.setCurrent(t),e.current!==e.prev&&e.events.change&&e.events.change.notify(e.current),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){var e;this.current=t,this.updatedAt=zf.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new eg);const n=this.events[t].add(e);return"change"===t?()=>{n(),th.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ng.current&&ng.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=zf.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Uf(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ig(t,e){return new rg(t,e)}function og(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ig(n))}function ag(t){return t.getProps()[lu]}class sg extends rg{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(t){const e=Gd(t);if(!e)return;const n=this.counts.get(e)||0;this.counts.set(e,n+1),0===n&&(this.output.push(e),this.update());let r=!1;return()=>{if(r)return;r=!0;const t=this.counts.get(e)-1;this.counts.set(e,t),0===t&&(qd(this.output,e),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function lg(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");return r||(null===(n=t.props.style)||void 0===n?void 0:n.willChange)||(r=new sg("auto"),t.addValue("willChange",r)),i=r,Boolean(Uu(i)&&i.add)?r.add(e):void 0;var i}function cg(t,e){let{protectedKeys:n,needsAnimating:r}=t;const i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}function ug(t,e){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;r&&(a=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const e=t.getValue(d,null!==(o=t.latestValues[d])&&void 0!==o?o:null),r=l[d];if(void 0===r||u&&cg(u,d))continue;const i={delay:n,...Fh(a||{},d)};let s=!1;if(window.MotionHandoffAnimation){const e=ag(t);if(e){const t=window.MotionHandoffAnimation(e,d,th);null!==t&&(i.startTime=t,s=!0)}}e.start(tg(d,e,r,t.shouldReduceMotion&&Vu.has(d)?{type:!1}:i,t,s,lg(t,d)));const h=e.animation;h&&c.push(h)}return s&&Promise.all(c).then((()=>{th.update((()=>{s&&function(t,e){const n=Rh(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o)og(t,a,Ud(o[a]))}(t,s)}))})),c}function dg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Rh(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(ug(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(t.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(t.variantChildren).sort(hg).forEach(((t,r)=>{t.notify("AnimationStart",e),a.push(dg(t,e,{...o,delay:n+l(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(a)}(t,e,i+r,a,s,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[t,e]="beforeChildren"===l?[a,s]:[s,a];return t().then((()=>e()))}return Promise.all([a(),s(n.delay)])}function hg(t,e){return t.sortNodePosition(e)}const fg=[...Eu].reverse(),pg=Eu.length;function gg(t){return e=>Promise.all(e.map((e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>dg(t,e,r)));n=Promise.all(i)}else if("string"===typeof e)n=dg(t,e,r);else{const i="function"===typeof e?Rh(t,e,r.custom):e;n=Promise.all(ug(t,i,r))}return n.then((()=>{t.notify("AnimationComplete",e)}))}(t,n,r)})))}function mg(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!kh(e,t)}function vg(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yg(){return{animate:vg(!0),whileInView:vg(),whileHover:vg(),whileTap:vg(),whileDrag:vg(),whileFocus:vg(),exit:vg()}}let bg=0;const wg={animation:{Feature:class extends yh{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=gg(t),n=yg(),r=!0;const i=e=>(n,r)=>{var i;const o=Rh(t,r,"exit"===e?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:t,transitionEnd:e,...r}=o;n={...n,...r,...e}}return n};function o(o){const a=t.getProps(),s=t.getVariantContext(!0)||{},l=[],c=new Set;let u={},d=1/0;for(let e=0;e<pg;e++){const h=fg[e],f=n[h],p=void 0!==a[h]?a[h]:s[h],g=Au(p),m=h===o?f.isActive:null;!1===m&&(d=e);let v=p===s[h]&&p!==a[h]&&g;if(v&&r&&t.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===m||!p&&!f.prevProp||Su(p)||"boolean"===typeof p)continue;let y=mg(f.prevProp,p)||h===o&&f.isActive&&!v&&g||e>d&&g,b=!1;const w=Array.isArray(p)?p:[p];let _=w.reduce(i(h),{});!1===m&&(_={});const{prevResolvedValues:A={}}=f,S={...A,..._},E=e=>{y=!0,c.has(e)&&(b=!0,c.delete(e)),f.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in S){const e=_[t],n=A[t];if(u.hasOwnProperty(t))continue;let r=!1;r=Vd(e)&&Vd(n)?!kh(e,n):e!==n,r?void 0!==e&&null!==e?E(t):c.add(t):void 0!==e&&c.has(t)?E(t):f.protectedKeys[t]=!0}f.prevProp=p,f.prevResolvedValues=_,f.isActive&&(u={...u,..._}),r&&t.blockInitialAnimation&&(y=!1),!y||v&&!b||l.push(...w.map((t=>({animation:t,options:{type:h}}))))}if(c.size){const e={};c.forEach((n=>{const r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!==r&&void 0!==r?r:null})),l.push({animation:e})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(h=!1),r=!1,h?e(l):Promise.resolve()}return{animateChanges:o,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const a=o(e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=yg(),r=!0}}}(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Su(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends yh{constructor(){super(...arguments),this.id=bg++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},_g=(t,e)=>Math.abs(t-e);class Ag{constructor(t,e){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Cg(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=_g(t.x,e.x),r=_g(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=nh;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Sg(e,this.transformPagePoint),th.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=Cg("pointercancel"===t.type?this.lastMoveEventInfo:Sg(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!sh(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=Sg(lh(t),this.transformPagePoint),{point:a}=o,{timestamp:s}=nh;this.history=[{...a,timestamp:s}];const{onSessionStart:l}=e;l&&l(t,Cg(o,this.history)),this.removeListeners=hh(uh(this.contextWindow,"pointermove",this.handlePointerMove),uh(this.contextWindow,"pointerup",this.handlePointerUp),uh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),eh(this.updatePoint)}}function Sg(t,e){return e?{point:e(t.point)}:t}function Eg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cg(t,e){let{point:n}=t;return{point:n,delta:Eg(n,Tg(e)),offset:Eg(n,xg(e)),velocity:Ig(e,.1)}}function xg(t){return t[0]}function Tg(t){return t[t.length-1]}function Ig(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Tg(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Mh(e)));)n--;if(!r)return{x:0,y:0};const o=Ph(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const kg=.9999,Rg=1.0001,Mg=-.01,Pg=.01;function Og(t){return t.max-t.min}function Dg(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=Sp(e.min,e.max,t.origin),t.scale=Og(n)/Og(e),t.translate=Sp(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kg&&t.scale<=Rg||isNaN(t.scale))&&(t.scale=1),(t.translate>=Mg&&t.translate<=Pg||isNaN(t.translate))&&(t.translate=0)}function Ng(t,e,n,r){Dg(t.x,e.x,n.x,r?r.originX:void 0),Dg(t.y,e.y,n.y,r?r.originY:void 0)}function Lg(t,e,n){t.min=n.min+e.min,t.max=t.min+Og(e)}function Fg(t,e,n){t.min=e.min-n.min,t.max=t.min+Og(e)}function Bg(t,e,n){Fg(t.x,e.x,n.x),Fg(t.y,e.y,n.y)}function jg(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function zg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const Vg=.35;function Hg(t,e,n){return{min:Ug(t,e),max:Ug(t,n)}}function Ug(t,e){return"number"===typeof t?t:t[e]||0}const Wg=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),$g=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Gg(t){return[t("x"),t("y")]}function Xg(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function qg(t){return void 0===t||1===t}function Yg(t){let{scale:e,scaleX:n,scaleY:r}=t;return!qg(e)||!qg(n)||!qg(r)}function Kg(t){return Yg(t)||Zg(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Zg(t){return Qg(t.x)||Qg(t.y)}function Qg(t){return t&&"0%"!==t}function Jg(t,e,n){return n+e*(t-n)}function tm(t,e,n,r,i){return void 0!==i&&(t=Jg(t,i,r)),Jg(t,n,r)+e}function em(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=tm(t.min,e,n,r,i),t.max=tm(t.max,e,n,r,i)}function nm(t,e){let{x:n,y:r}=e;em(t.x,n.translate,n.scale,n.originPoint),em(t.y,r.translate,r.scale,r.originPoint)}const rm=.999999999999,im=1.0000000000001;function om(t,e){t.min=t.min+e,t.max=t.max+e}function am(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;em(t,e,n,Sp(t.min,t.max,i),r)}function sm(t,e){am(t.x,e.x,e.scaleX,e.scale,e.originX),am(t.y,e.y,e.scaleY,e.scale,e.originY)}function lm(t,e){return Xg(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const cm=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},um=new WeakMap;class dm{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$g(),this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Ag(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(lh(t,"page").point)},onStart:(t,e)=>{var n;const{drag:r,dragPropagation:i,onDragStart:o}=this.getProps();if(r&&!i&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mh(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gg((t=>{let e=this.getAxisMotionValue(t).get()||0;if(nd.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=Og(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),o&&th.postRender((()=>o(t,e))),null===(n=this.removeWillChange)||void 0===n||n.call(this),this.removeWillChange=lg(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>Gg((t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:cm(this.visualElement)})}stop(t,e){var n;null===(n=this.removeWillChange)||void 0===n||n.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=e;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&th.postRender((()=>o(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!hm(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?Sp(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?Sp(i,t,n.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&gu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(t,e){let{top:n,left:r,bottom:i,right:o}=e;return{x:jg(t.x,r,o),y:jg(t.y,n,i)}}(r.layoutBox,e),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vg;return!1===t?t=0:!0===t&&(t=Vg),{x:Hg(t,"left","right"),y:Hg(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gg((t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!gu(t))return!1;const n=t.current;Uh(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=lm(t,n),{scroll:i}=e;return i&&(om(r.x,i.offset.x),om(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(t,e){return{x:zg(t.x,e.x),y:zg(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=Xg(t))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=Gg((a=>{if(!hm(a,e,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?t[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(tg(t,n,0,e,this.visualElement,!1,lg(this.visualElement,t)))}stopAnimation(){Gg((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){Gg((t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()}))}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Gg((e=>{const{drag:n}=this.getProps();if(!hm(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-Sp(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!gu(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Gg((t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();r[t]=function(t,e){let n=.5;const r=Og(t),i=Og(e);return i>r?n=Ap(e.min,e.max-r,t.min):r>i&&(n=Ap(t.min,t.max-i,e.min)),$u(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gg((e=>{if(!hm(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(Sp(i,o,r[e]))}))}addListeners(){if(!this.visualElement.current)return;um.set(this.visualElement,this);const t=uh(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();gu(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),th.read(e);const i=ah(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(Gg((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Vg,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function hm(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const fm=t=>(e,n)=>{t&&th.postRender((()=>t(e,n)))};const pm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mm={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!rd.test(t))return t;t=parseFloat(t)}return`${gm(t,e.target.x)}% ${gm(t,e.target.y)}%`}},vm={correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e;const i=t,o=Tf.parse(t);if(o.length>5)return i;const a=Tf.createTransformer(t),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const u=Sp(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}};class ym extends t.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var o;o=wm,Object.assign(ju,o),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),pm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||th.postRender((()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fu.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bm(e){const[n,r]=tu(),i=(0,t.useContext)(Pu);return(0,Ot.jsx)(ym,{...e,layoutGroup:i,switchLayoutGroup:(0,t.useContext)(mu),isPresent:n,safeToRemove:r})}const wm={borderRadius:{...mm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mm,borderTopRightRadius:mm,borderBottomLeftRadius:mm,borderBottomRightRadius:mm,boxShadow:vm},_m=["TopLeft","TopRight","BottomLeft","BottomRight"],Am=_m.length,Sm=t=>"string"===typeof t?parseFloat(t):t,Em=t=>"number"===typeof t||rd.test(t);function Cm(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const xm=Im(0,.5,gp),Tm=Im(.5,.95,Jd);function Im(t,e,n){return r=>r<t?0:r>e?1:n(Ap(t,e,r))}function km(t,e){t.min=e.min,t.max=e.max}function Rm(t,e){km(t.x,e.x),km(t.y,e.y)}function Mm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Pm(t,e,n,r,i){return t=Jg(t-=e,1/n,r),void 0!==i&&(t=Jg(t,1/i,r)),t}function Om(t,e,n,r,i){let[o,a,s]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;nd.test(e)&&(e=parseFloat(e),e=Sp(a.min,a.max,e/100)-a.min);if("number"!==typeof e)return;let s=Sp(o.min,o.max,r);t===o&&(s-=e),t.min=Pm(t.min,e,n,s,i),t.max=Pm(t.max,e,n,s,i)}(t,e[o],e[a],e[s],e.scale,r,i)}const Dm=["x","scaleX","originX"],Nm=["y","scaleY","originY"];function Lm(t,e,n,r){Om(t.x,e,Dm,n?n.x:void 0,r?r.x:void 0),Om(t.y,e,Nm,n?n.y:void 0,r?r.y:void 0)}function Fm(t){return 0===t.translate&&1===t.scale}function Bm(t){return Fm(t.x)&&Fm(t.y)}function jm(t,e){return t.min===e.min&&t.max===e.max}function zm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Vm(t,e){return zm(t.x,e.x)&&zm(t.y,e.y)}function Hm(t){return Og(t.x)/Og(t.y)}function Um(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wm{constructor(){this.members=[]}add(t){Xd(this.members,t),t.scheduleRender()}remove(t){if(qd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $m=(t,e)=>t.depth-e.depth;class Gm{constructor(){this.children=[],this.isDirty=!1}add(t){Xd(this.children,t),this.isDirty=!0}remove(t){qd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($m),this.isDirty=!1,this.children.forEach(t)}}const Xm={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qm="undefined"!==typeof window&&void 0!==window.MotionDebug,Ym=["","X","Y","Z"],Km={visibility:"hidden"};let Zm=0;function Qm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Jm(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ag(e);window.MotionHasOptimisedTransformAnimation(n)&&window.MotionCancelOptimisedTransform(n);const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Jm(r)}function tv(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Zm++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qm&&(Xm.totalNodes=Xm.resolvedTargetDeltas=Xm.recalculatedProjection=0),this.nodes.forEach(rv),this.nodes.forEach(uv),this.nodes.forEach(dv),this.nodes.forEach(iv),qm&&window.MotionDebug.record(Xm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gm)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new eg),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&e.notify(...r)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=zf.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=e&&(eh(r),t(a-e))};return th.read(r,!0),()=>eh(r)}(r,250),pm.hasAnimatedSinceResize&&(pm.hasAnimatedSinceResize=!1,this.nodes.forEach(cv))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||vv,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Vm(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...Fh(o,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||cv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hv),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedTransform&&!this.hasCheckedOptimisedAppear&&Jm(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(av);this.isUpdating||this.nodes.forEach(sv),this.isUpdating=!1,this.nodes.forEach(lv),this.nodes.forEach(ev),this.nodes.forEach(nv),this.clearAllSnapshots();const t=zf.now();nh.delta=$u(0,1e3/60,t-nh.timestamp),nh.timestamp=t,nh.isProcessing=!0,rh.update.process(nh),rh.preRender.process(nh),rh.render.process(nh),nh.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ov),this.sharedNodes.forEach(fv)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,th.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){th.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$g(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){const e=i(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!o)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!Bm(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;t&&(e||Kg(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),wv((r=n).x),wv(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return $g();const n=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(Av))){const{scroll:t}=this.root;t&&(om(n.x,t.offset.x),om(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n=$g();if(Rm(n,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return n;for(let r=0;r<this.path.length;r++){const e=this.path[r],{scroll:i,options:o}=e;e!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&Rm(n,t),om(n.x,i.offset.x),om(n.y,i.offset.y))}return n}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$g();Rm(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&sm(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),Kg(t.latestValues)&&sm(n,t.latestValues)}return Kg(this.latestValues)&&sm(n,this.latestValues),n}removeTransform(t){const e=$g();Rm(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!Kg(t.latestValues))continue;Yg(t.latestValues)&&t.updateSnapshot();const r=$g();Rm(r,t.measurePageBox()),Lm(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return Kg(this.latestValues)&&Lm(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nh.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=nh.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$g(),this.relativeTargetOrigin=$g(),Bg(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Rm(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target=$g(),this.targetWithTransforms=$g()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Lg(a.x,s.x,l.x),Lg(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Rm(this.target,this.layout.layoutBox),nm(this.target,this.targetDelta)):Rm(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$g(),this.relativeTargetOrigin=$g(),Bg(this.relativeTargetOrigin,this.target,t.target),Rm(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qm&&Xm.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Yg(this.parent.latestValues)&&!Zg(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===nh.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Rm(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;e.x=e.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&sm(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,nm(t,a)),r&&Kg(o.latestValues)&&sm(t,o.latestValues))}e.x<im&&e.x>rm&&(e.x=1),e.y<im&&e.y>rm&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms=$g());const{target:l}=e;l?(this.projectionDelta&&this.prevProjectionDelta?(Mm(this.prevProjectionDelta.x,this.projectionDelta.x),Mm(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ng(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Um(this.projectionDelta.x,this.prevProjectionDelta.x)&&Um(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),qm&&Xm.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wg(),this.projectionDelta=Wg(),this.projectionDeltaWithTransform=Wg()}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=Wg();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a=$g(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(mv));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;pv(o.x,t.x,n),pv(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bg(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,r){gv(t.x,e.x,n.x,r),gv(t.y,e.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(t,e){return jm(t.x,e.x)&&jm(t.y,e.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=$g()),Rm(d,this.relativeTarget)),s&&(this.animationValues=i,function(t,e,n,r,i,o){i?(t.opacity=Sp(0,void 0!==n.opacity?n.opacity:1,xm(r)),t.opacityExit=Sp(void 0!==e.opacity?e.opacity:1,0,Tm(r))):o&&(t.opacity=Sp(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Am;a++){const i=`border${_m[a]}Radius`;let o=Cm(e,i),s=Cm(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||Em(o)===Em(s)?(t[i]=Math.max(Sp(Sm(o),Sm(s),r),0),(nd.test(s)||nd.test(o))&&(t[i]+="%")):t[i]=s)}(e.rotate||n.rotate)&&(t.rotate=Sp(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=th.update((()=>{pm.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=Uu(t)?t:ig(t);return r.start(tg("",r,e,n)),r.animation}(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&_v(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||$g();const e=Og(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=Og(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Rm(e,n),sm(e,i),Ng(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Wm);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};n.z&&Qm("z",t,r,this.animationValues);for(let i=0;i<Ym.length;i++)Qm(`rotate${Ym[i]}`,t,r,this.animationValues),Qm(`skew${Ym[i]}`,t,r,this.animationValues);t.render();for(const i in r)t.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Km;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Wd(null===t||void 0===t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Wd(null===t||void 0===t?void 0:t.pointerEvents)||""),this.hasProjected&&!Kg(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),1===e.x&&1===e.y||(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:a,skewY:s}=n;t&&(r=`perspective(${t}px) ${r}`),e&&(r+=`rotate(${e}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),a&&(r+=`skewX(${a}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in ju){if(void 0===a[c])continue;const{correct:t,applyTo:e}=ju[c],n="none"===r.transform?a[c]:t(a[c],o);if(e){const t=e.length;for(let i=0;i<t;i++)r[e[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Wd(null===t||void 0===t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(av),this.root.sharedNodes.clear()}}}function ev(t){t.updateLayout()}function nv(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?Gg((t=>{const r=o?n.measuredBox[t]:n.layoutBox[t],i=Og(r);r.min=e[t].min,r.max=r.min+i})):_v(i,n.layoutBox,e)&&Gg((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=Og(e[r]);i.max=i.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+a)}));const a=Wg();Ng(a,e,n.layoutBox);const s=Wg();o?Ng(s,t.applyTransform(r,!0),n.measuredBox):Ng(s,e,n.layoutBox);const l=!Bm(a);let c=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=$g();Bg(a,n.layoutBox,i.layoutBox);const s=$g();Bg(s,e,o.layoutBox),Vm(a,s)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=s,t.relativeTargetOrigin=a,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function rv(t){qm&&Xm.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iv(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ov(t){t.clearSnapshot()}function av(t){t.clearMeasurements()}function sv(t){t.isLayoutDirty=!1}function lv(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uv(t){t.resolveTargetDelta()}function dv(t){t.calcProjection()}function hv(t){t.resetSkewAndRotation()}function fv(t){t.removeLeadSnapshot()}function pv(t,e,n){t.translate=Sp(e.translate,0,n),t.scale=Sp(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gv(t,e,n,r){t.min=Sp(e.min,n.min,r),t.max=Sp(e.max,n.max,r)}function mv(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const vv={duration:.45,ease:[.4,0,.1,1]},yv=t=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bv=yv("applewebkit/")&&!yv("chrome/")?Math.round:Jd;function wv(t){t.min=bv(t.min),t.max=bv(t.max)}function _v(t,e,n){return"position"===t||"preserve-aspect"===t&&(r=Hm(e),i=Hm(n),o=.2,!(Math.abs(r-i)<=o));var r,i,o}function Av(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}const Sv=tv({attachResizeListener:(t,e)=>ah(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ev={current:void 0},Cv=tv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ev.current){const t=new Sv({});t.mount(window),t.setOptions({layoutScroll:!0}),Ev.current=t}return Ev.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),xv={pan:{Feature:class extends yh{constructor(){super(...arguments),this.removePointerDownListener=Jd}onPointerDown(t){this.session=new Ag(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cm(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:fm(t),onStart:fm(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&th.postRender((()=>r(t,e)))}}}mount(){this.removePointerDownListener=uh(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends yh{constructor(t){super(t),this.removeGroupControls=Jd,this.removeListeners=Jd,this.controls=new dm(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jd}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Cv,MeasureLayout:bm}},Tv={current:null},Iv={current:!1};const kv=new WeakMap,Rv=[...ef,mf,Tf],Mv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Pv=Cu.length;class Ov{scrapeMotionValuesFromProps(t,e,n){return{}}constructor(t){let{parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a}=t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,th.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=xu(n),this.isVariantNode=Tu(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const t=d[h];void 0!==l[h]&&Uu(t)&&t.set(l[h],!1)}}mount(t){this.current=t,kv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),Iv.current||function(){if(Iv.current=!0,iu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tv.current=t.matches;t.addListener(e),e()}else Tv.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Tv.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kv.delete(this.current),this.projection&&this.projection.unmount(),eh(this.notifyUpdate),eh(this.render),this.valueSubscriptions.forEach((t=>t())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){const n=Vu.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&th.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,(()=>{r(),i(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in Mu){const e=Mu[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$g()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Mv.length;n++){const e=Mv[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Uu(i))t.addValue(r,i);else if(Uu(o))t.addValue(r,ig(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,ig(void 0!==e?e:i,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const t={};for(let e=0;e<Pv;e++){const n=Cu[e],r=this.props[n];(Au(r)||!1===r)&&(t[n]=r)}return t}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=ig(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return void 0!==r&&null!==r&&("string"===typeof r&&(Wh(r)||Vh(r))?r=parseFloat(r):!(t=>Rv.find(tf(t)))(r)&&Tf.test(e)&&(r=Df(t,e)),this.setBaseTarget(t,Uu(r)?r.get():r)),Uu(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=jd(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);i&&(r=i[t])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||Uu(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new eg),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events[t].notify(...n)}}}class Dv extends Ov{constructor(){super(...arguments),this.KeyframeResolver=Lf}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}}class Nv extends Dv{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Od}readValueFromInstance(t,e){if(Vu.has(e)){const t=Of(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(hd(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return lm(t,n)}build(t,e,n){md(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Ld(t,e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Uu(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent=`${t}`)})))}}class Lv extends Dv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$g}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Vu.has(e)){const t=Of(e);return t&&t.default||0}return e=Dd.has(e)?e:su(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return Fd(t,e,n)}build(t,e,n){Id(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){Nd(t,e,0,r)}mount(t){this.isSVGTag=Rd(t.tagName),super.mount(t)}}const Fv=(e,n)=>Bu(e)?new Lv(n):new Nv(n,{allowProjection:e!==t.Fragment}),Bv={...wg,...Ih,...xv,...{layout:{ProjectionNode:Cv,MeasureLayout:bm}}},jv=Lu(((t,e)=>function(t,e,n,r){let{forwardMotionProps:i=!1}=e;return{...Bu(t)?ih:oh,preloadedFeatures:n,useRender:Pd(i),createVisualElement:r,Component:t}}(t,e,Bv,Fv)));var zv=new Set([...In,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Vv=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Hv(t){return Vv.has(t)||!zv.has(t)}var Uv,Wv=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$v=lt((function(t){return Wv.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),Gv=function(t){return"theme"!==t},Xv=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?$v:Gv},qv=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},Yv=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return kt(e,n,r),At((function(){return Rt(e,n,r)})),null},Kv=function e(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var l=qv(n,r,a),c=l||Xv(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,p=1;p<f;p++)h.push(d[p],d[0][p])}var g=Ct((function(e,n,r){var i=u&&e.as||s,a="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(xt)}"string"===typeof e.className?a=function(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}(n.registered,d,e.className):null!=e.className&&(a=e.className+" ");var g=wt(h.concat(d),n.registered,f);a+=n.key+"-"+g.name,void 0!==o&&(a+=" "+o);var m=u&&void 0===l?Xv(i):c,v={};for(var y in e)u&&"as"===y||m(y)&&(v[y]=e[y]);return v.className=a,r&&(v.ref=r),t.createElement(t.Fragment,null,t.createElement(Yv,{cache:n,serialized:g,isStringTag:"string"===typeof i}),t.createElement(i,v))}));return g.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=n.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,n){return e(t,ot({},r,n,{shouldForwardProp:qv(g,n,!0)})).apply(void 0,h)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){Kv[t]=Kv(t)}));var Zv=null!=(Uv=Kv.default)?Uv:Kv,Qv=t=>{let{baseStyle:e}=t;return t=>{const{theme:n,css:r,__css:i,sx:o,...a}=t,s=zn(a,((t,e)=>Rn(e))),l=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const e={...t};for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)if(null!=o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(t in e&&delete e[t],e[t]=o[t]);return e}({},i,Hn(e,t),Vn(s),o),c=Dn(l)(t.theme);return r?[c,r]:c}};function Jv(e,n){const{baseStyle:r,...i}=null!=n?n:{};i.shouldForwardProp||(i.shouldForwardProp=Hv);const o=Qv({baseStyle:r}),a=Zv(e,i)(o);return t.forwardRef((function(e,n){const{colorMode:r,forced:i}=Ut();return t.createElement(a,{ref:n,"data-theme":i?r:void 0,...e})}))}var ty=function(){const t=new Map;return new Proxy(Jv,{apply:(t,e,n)=>Jv(...n),get:(e,n)=>(t.has(n)||t.set(n,Jv(n)),t.get(n))})}(),ey={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return"bottom"===e&&(r=1),{opacity:0,[n]:24*r}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ny=(0,t.memo)((e=>{const{id:n,message:r,onCloseComplete:i,onRequestRemove:o,requestClose:a=!1,position:s="bottom",duration:l=5e3,containerStyle:c,motionVariants:u=ey,toastSpacing:d="0.5rem"}=e,[h,f]=(0,t.useState)(l),p=eu();Qc((()=>{p||null==i||i()}),[p]),Qc((()=>{f(l)}),[l]);const g=()=>{p&&o()};(0,t.useEffect)((()=>{p&&a&&o()}),[p,a,o]),Zc(g,h);const m=(0,t.useMemo)((()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...c})),[c,d]),v=(0,t.useMemo)((()=>function(t){let e="center";return t.includes("right")&&(e="flex-end"),t.includes("left")&&(e="flex-start"),{display:"flex",flexDirection:"column",alignItems:e}}(s)),[s]);return(0,Ot.jsx)(jv.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:()=>f(null),onHoverEnd:()=>f(l),custom:{position:s},style:v,children:(0,Ot.jsx)(ty.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:m,children:Gt(r,{id:n,onClose:g})})})}));function ry(e){return(0,t.forwardRef)(e)}function iy(){return{...Ut(),theme:function(){const e=(0,t.useContext)(xt);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}()}}ny.displayName="ToastComponent";var oy=__webpack_require__(6366);function ay(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{styleConfig:i,...o}=n,{theme:a,colorMode:s}=iy(),l=e?jn(a,`components.${e}`):void 0,c=i||l,u=Zt({theme:a,colorMode:s},null!=(r=null==c?void 0:c.defaultProps)?r:{},Vn(function(t,e){const n={};return Object.keys(t).forEach((r=>{e.includes(r)||(n[r]=t[r])})),n}(o,["children"]))),d=(0,t.useRef)({});if(c){const t=function(t){return e=>{var n;const{variant:r,size:i,theme:o}=e,a=Fn(o);return Zt({},Gt(null!=(n=t.baseStyle)?n:{},e),a(t,"sizes",i,e),a(t,"variants",r,e))}}(c),e=t(u);oy(d.current,e)||(d.current=e)}return d.current}function sy(t){return ay(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function ly(t){return ay(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}var cy={path:(0,Ot.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,Ot.jsx)("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),(0,Ot.jsx)("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),(0,Ot.jsx)("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},uy=ry(((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:o=!1,children:a,className:s,__css:l,...c}=t,u={ref:e,focusable:o,className:Wt("chakra-icon",s),__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...sy("Icon",t)}},d=null!=r?r:cy.viewBox;if(n&&"string"!==typeof n)return(0,Ot.jsx)(ty.svg,{as:n,...u,...c});const h=null!=a?a:cy.path;return(0,Ot.jsx)(ty.svg,{verticalAlign:"middle",viewBox:d,...u,...c,children:h})}));uy.displayName="Icon";function dy(t){return(0,Ot.jsx)(uy,{viewBox:"0 0 24 24",...t,children:(0,Ot.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var hy=function(){var t=Pt.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),fy=ry(((t,e)=>{const n=sy("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:o="0.45s",emptyColor:a="transparent",className:s,...l}=Bn(t),c=Wt("chakra-spinner",s),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:a,borderLeftColor:a,animation:`${hy} ${o} linear infinite`,...n};return(0,Ot.jsx)(ty.div,{ref:e,__css:u,className:c,...l,children:r&&(0,Ot.jsx)(ty.span,{srOnly:!0,children:r})})}));fy.displayName="Spinner";var[py,gy]=Bt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[my,vy]=Bt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),yy={info:{icon:function(t){return(0,Ot.jsx)(uy,{viewBox:"0 0 24 24",...t,children:(0,Ot.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})},colorScheme:"blue"},warning:{icon:dy,colorScheme:"orange"},success:{icon:function(t){return(0,Ot.jsx)(uy,{viewBox:"0 0 24 24",...t,children:(0,Ot.jsx)("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})},colorScheme:"green"},error:{icon:dy,colorScheme:"red"},loading:{icon:fy,colorScheme:"blue"}};var by=ry((function(t,e){var n;const{status:r="info",addRole:i=!0,...o}=Bn(t),a=null!=(n=t.colorScheme)?n:function(t){return yy[t].colorScheme}(r),s=ly("Alert",{...t,colorScheme:a}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...s.container};return(0,Ot.jsx)(py,{value:{status:r},children:(0,Ot.jsx)(my,{value:s,children:(0,Ot.jsx)(ty.div,{"data-status":r,role:i?"alert":void 0,ref:e,...o,className:Wt("chakra-alert",t.className),__css:l})})})}));function wy(t){const{status:e}=gy(),n=function(t){return yy[t].icon}(e),r=vy(),i="loading"===e?r.spinner:r.icon;return(0,Ot.jsx)(ty.span,{display:"inherit","data-status":e,...t,className:Wt("chakra-alert__icon",t.className),__css:i,children:t.children||(0,Ot.jsx)(n,{h:"100%",w:"100%"})})}by.displayName="Alert",wy.displayName="AlertIcon";var _y=ry((function(t,e){const n=vy(),{status:r}=gy();return(0,Ot.jsx)(ty.div,{ref:e,"data-status":r,...t,className:Wt("chakra-alert__title",t.className),__css:n.title})}));_y.displayName="AlertTitle";var Ay=ry((function(t,e){const n=vy(),{status:r}=gy(),i={display:"inline",...n.description};return(0,Ot.jsx)(ty.div,{ref:e,"data-status":r,...t,className:Wt("chakra-alert__desc",t.className),__css:i})}));function Sy(t){return(0,Ot.jsx)(uy,{focusable:"false","aria-hidden":!0,...t,children:(0,Ot.jsx)("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}Ay.displayName="AlertDescription";var Ey=ry((function(t,e){const n=sy("CloseButton",t),{children:r,isDisabled:i,__css:o,...a}=Bn(t);return(0,Ot.jsx)(ty.button,{type:"button","aria-label":"Close",ref:e,disabled:i,__css:{outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,...n,...o},...a,children:r||(0,Ot.jsx)(Sy,{width:"1em",height:"1em"})})}));Ey.displayName="CloseButton";var Cy=function(t){let e=t;const n=new Set,r=t=>{e=t(e),n.forEach((t=>t()))};return{getState:()=>e,subscribe:e=>(n.add(e),()=>{r((()=>t)),n.delete(e)}),removeToast:(t,e)=>{r((n=>({...n,[e]:n[e].filter((e=>e.id!=t))})))},notify:(t,e)=>{const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;xy+=1;const i=null!=(n=e.id)?n:xy,o=null!=(r=e.position)?r:"bottom";return{id:i,message:t,position:o,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Cy.removeToast(String(i),o),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}(t,e),{position:i,id:o}=n;return r((t=>{var e,r;const o=i.includes("top")?[n,...null!=(e=t[i])?e:[]]:[...null!=(r=t[i])?r:[],n];return{...t,[i]:o}})),o},update:(t,e)=>{t&&r((n=>{const r={...n},{position:i,index:o}=qc(r,t);return i&&-1!==o&&(r[i][o]={...r[i][o],...e,message:Iy(e)}),r}))},closeAll:function(){let{positions:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r((e=>(null!=t?t:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce(((t,n)=>(t[n]=e[n].map((t=>({...t,requestClose:!0}))),t)),{...e})))},close:t=>{r((e=>{const n=Yc(e,t);return n?{...e,[n]:e[n].map((e=>e.id==t?{...e,requestClose:!0}:e))}:e}))},isActive:t=>Boolean(qc(Cy.getState(),t).position)}}({top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]});var xy=0;var Ty=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:o,onClose:a,description:s,colorScheme:l,icon:c}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return(0,Ot.jsxs)(by,{addRole:!1,status:e,variant:n,id:null==u?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[(0,Ot.jsx)(wy,{children:c}),(0,Ot.jsxs)(ty.div,{flex:"1",maxWidth:"100%",children:[i&&(0,Ot.jsx)(_y,{id:null==u?void 0:u.title,children:i}),s&&(0,Ot.jsx)(Ay,{id:null==u?void 0:u.description,display:"block",children:s})]}),o&&(0,Ot.jsx)(Ey,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1})]})};function Iy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{render:e,toastComponent:n=Ty}=t;return r=>"function"===typeof e?e({...r,...t}):(0,Ot.jsx)(n,{...r,...t})}class ky extends t.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ry(e){let{children:n,isPresent:r}=e;const i=(0,t.useId)(),o=(0,t.useRef)(null),a=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:s}=(0,t.useContext)(nu);return(0,t.useInsertionEffect)((()=>{const{width:t,height:e,top:n,left:l}=a.current;if(r||!o.current||!t||!e)return;o.current.dataset.motionPopId=i;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            top: ${n}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[r]),(0,Ot.jsx)(ky,{isPresent:r,childRef:o,sizeRef:a,children:t.cloneElement(n,{ref:o})})}const My=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:l}=e;const c=zd(Py),u=(0,t.useId)(),d=(0,t.useMemo)((()=>({id:u,initial:r,isPresent:i,custom:a,onExitComplete:t=>{c.set(t,!0);for(const e of c.values())if(!e)return;o&&o()},register:t=>(c.set(t,!1),()=>c.delete(t))})),s?[Math.random()]:[i]);return(0,t.useMemo)((()=>{c.forEach(((t,e)=>c.set(e,!1)))}),[i]),t.useEffect((()=>{!i&&!c.size&&o&&o()}),[i]),"popLayout"===l&&(n=(0,Ot.jsx)(Ry,{isPresent:i,children:n})),(0,Ot.jsx)(Jc.Provider,{value:d,children:n})};function Py(){return new Map}const Oy=t=>t.key||"";function Dy(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const Ny=e=>{let{children:n,exitBeforeEnter:r,custom:i,initial:o=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:l="sync"}=e;Uh(!r,"Replace exitBeforeEnter with mode='wait'");const c=(0,t.useMemo)((()=>Dy(n)),[n]),u=c.map(Oy),d=(0,t.useRef)(!0),h=(0,t.useRef)(c),f=zd((()=>new Map)),[p,g]=(0,t.useState)(c),[m,v]=(0,t.useState)(c);ou((()=>{d.current=!1,h.current=c;for(let t=0;t<m.length;t++){const e=Oy(m[t]);u.includes(e)?f.delete(e):!0!==f.get(e)&&f.set(e,!1)}}),[m,u.length,u.join("-")]);const y=[];if(c!==p){let t=[...c];for(let e=0;e<m.length;e++){const n=m[e],r=Oy(n);u.includes(r)||(t.splice(e,0,n),y.push(n))}return"wait"===l&&y.length&&(t=y),v(Dy(t)),void g(c)}const{forceRender:b}=(0,t.useContext)(Pu);return(0,Ot.jsx)(Ot.Fragment,{children:m.map((t=>{const e=Oy(t),n=c===m||u.includes(e);return(0,Ot.jsx)(My,{isPresent:n,initial:!(d.current&&!o)&&void 0,custom:n?void 0:i,presenceAffectsLayout:s,mode:l,onExitComplete:n?void 0:()=>{if(!f.has(e))return;f.set(e,!0);let t=!0;f.forEach((e=>{e||(t=!1)})),t&&(null===b||void 0===b||b(),v(h.current),a&&a())},children:t},e)}))})};var Ly=__webpack_require__(7950),[Fy,By]=Bt({strict:!1,name:"PortalContext"}),jy="chakra-portal",zy=t=>(0,Ot.jsx)("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),Vy=e=>{const{appendToParentPortal:n,children:r}=e,[i,o]=(0,t.useState)(null),a=(0,t.useRef)(null),[,s]=(0,t.useState)({});(0,t.useEffect)((()=>s({})),[]);const l=By(),c=zt();er((()=>{if(!i)return;const t=i.ownerDocument,e=n&&null!=l?l:t.body;if(!e)return;a.current=t.createElement("div"),a.current.className=jy,e.appendChild(a.current),s({});const r=a.current;return()=>{e.contains(r)&&e.removeChild(r)}}),[i]);const u=(null==c?void 0:c.zIndex)?(0,Ot.jsx)(zy,{zIndex:null==c?void 0:c.zIndex,children:r}):r;return a.current?(0,Ly.createPortal)((0,Ot.jsx)(Fy,{value:a.current,children:u}),a.current):(0,Ot.jsx)("span",{ref:t=>{t&&o(t)}})},Hy=e=>{const{children:n,containerRef:r,appendToParentPortal:i}=e,o=r.current,a=null!=o?o:"undefined"!==typeof window?document.body:void 0,s=(0,t.useMemo)((()=>{const t=null==o?void 0:o.ownerDocument.createElement("div");return t&&(t.className=jy),t}),[o]),[,l]=(0,t.useState)({});return er((()=>l({})),[]),er((()=>{if(s&&a)return a.appendChild(s),()=>{a.removeChild(s)}}),[s,a]),a&&s?(0,Ly.createPortal)((0,Ot.jsx)(Fy,{value:i?s:null,children:n}),s):null};function Uy(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?(0,Ot.jsx)(Hy,{containerRef:n,...r}):(0,Ot.jsx)(Vy,{...r})}Uy.className=jy,Uy.selector=".chakra-portal",Uy.displayName="Portal";var[Wy,$y]=Bt({name:"ToastOptionsContext",strict:!1}),Gy=e=>{const n=(0,t.useSyncExternalStore)(Cy.subscribe,Cy.getState,Cy.getState),{motionVariants:r,component:i=ny,portalProps:o}=e,a=Object.keys(n).map((t=>{const e=n[t];return(0,Ot.jsx)("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${t}`,id:`chakra-toast-manager-${t}`,style:Kc(t),children:(0,Ot.jsx)(Ny,{initial:!1,children:e.map((t=>(0,Ot.jsx)(i,{motionVariants:r,...t},t.id)))})},t)}));return(0,Ot.jsx)(Uy,{...o,children:a})},Xy=t=>function(e){let{children:n,theme:r=t,toastOptions:i,...o}=e;return(0,Ot.jsxs)(sr,{theme:r,...o,children:[(0,Ot.jsx)(Wy,{value:null==i?void 0:i.defaultOptions,children:n}),(0,Ot.jsx)(Gy,{...i})]})},qy=Xy($c),Yy=(Xy(Gc),__webpack_require__(1099)),Ky=__webpack_require__.n(Yy);const Zy={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();return""!==t.nomenclature&&e.uint32(10).string(t.nomenclature),""!==t.value&&e.uint32(18).string(t.value),e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={nomenclature:"",value:""};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(10!==t)break;i.nomenclature=n.string();continue;case 2:if(18!==t)break;i.value=n.string();continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({nomenclature:Qy(t.nomenclature)?globalThis.String(t.nomenclature):"",value:Qy(t.value)?globalThis.String(t.value):""}),toJSON(t){const e={};return""!==t.nomenclature&&(e.nomenclature=t.nomenclature),""!==t.value&&(e.value=t.value),e},create:t=>Zy.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n;const r={nomenclature:"",value:""};return r.nomenclature=null!==(e=t.nomenclature)&&void 0!==e?e:"",r.value=null!==(n=t.value)&&void 0!==n?n:"",r}};function Qy(t){return null!==t&&void 0!==t}var Jy=null;try{Jy=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(AL){}function tb(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function eb(t){return!0===(t&&t.__isLong__)}function nb(t){var e=Math.clz32(t&-t);return t?31-e:e}tb.prototype.__isLong__,Object.defineProperty(tb.prototype,"__isLong__",{value:!0}),tb.isLong=eb;var rb={},ib={};function ob(t,e){var n,r,i;return e?(i=0<=(t>>>=0)&&t<256)&&(r=ib[t])?r:(n=sb(t,0,!0),i&&(ib[t]=n),n):(i=-128<=(t|=0)&&t<128)&&(r=rb[t])?r:(n=sb(t,t<0?-1:0,!1),i&&(rb[t]=n),n)}function ab(t,e){if(isNaN(t))return e?mb:gb;if(e){if(t<0)return mb;if(t>=hb)return _b}else{if(t<=-fb)return Ab;if(t+1>=fb)return wb}return t<0?ab(-t,e).neg():sb(t%db|0,t/db|0,e)}function sb(t,e,n){return new tb(t,e,n)}tb.fromInt=ob,tb.fromNumber=ab,tb.fromBits=sb;var lb=Math.pow;function cb(t,e,n){if(0===t.length)throw Error("empty string");if("number"===typeof e?(n=e,e=!1):e=!!e,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e?mb:gb;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return cb(t.substring(1),e,n).neg();for(var i=ab(lb(n,8)),o=gb,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+s),n);if(s<8){var c=ab(lb(n,s));o=o.mul(c).add(ab(l))}else o=(o=o.mul(i)).add(ab(l))}return o.unsigned=e,o}function ub(t,e){return"number"===typeof t?ab(t,e):"string"===typeof t?cb(t,e):sb(t.low,t.high,"boolean"===typeof e?e:t.unsigned)}tb.fromString=cb,tb.fromValue=ub;var db=4294967296,hb=db*db,fb=hb/2,pb=ob(1<<24),gb=ob(0);tb.ZERO=gb;var mb=ob(0,!0);tb.UZERO=mb;var vb=ob(1);tb.ONE=vb;var yb=ob(1,!0);tb.UONE=yb;var bb=ob(-1);tb.NEG_ONE=bb;var wb=sb(-1,2147483647,!1);tb.MAX_VALUE=wb;var _b=sb(-1,-1,!0);tb.MAX_UNSIGNED_VALUE=_b;var Ab=sb(0,-2147483648,!1);tb.MIN_VALUE=Ab;var Sb=tb.prototype;Sb.toInt=function(){return this.unsigned?this.low>>>0:this.low},Sb.toNumber=function(){return this.unsigned?(this.high>>>0)*db+(this.low>>>0):this.high*db+(this.low>>>0)},Sb.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ab)){var e=ab(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=ab(lb(t,6),this.unsigned),o=this,a="";;){var s=o.div(i),l=(o.sub(s.mul(i)).toInt()>>>0).toString(t);if((o=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},Sb.getHighBits=function(){return this.high},Sb.getHighBitsUnsigned=function(){return this.high>>>0},Sb.getLowBits=function(){return this.low},Sb.getLowBitsUnsigned=function(){return this.low>>>0},Sb.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ab)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},Sb.isZero=function(){return 0===this.high&&0===this.low},Sb.eqz=Sb.isZero,Sb.isNegative=function(){return!this.unsigned&&this.high<0},Sb.isPositive=function(){return this.unsigned||this.high>=0},Sb.isOdd=function(){return 1===(1&this.low)},Sb.isEven=function(){return 0===(1&this.low)},Sb.equals=function(t){return eb(t)||(t=ub(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&(this.high===t.high&&this.low===t.low)},Sb.eq=Sb.equals,Sb.notEquals=function(t){return!this.eq(t)},Sb.neq=Sb.notEquals,Sb.ne=Sb.notEquals,Sb.lessThan=function(t){return this.comp(t)<0},Sb.lt=Sb.lessThan,Sb.lessThanOrEqual=function(t){return this.comp(t)<=0},Sb.lte=Sb.lessThanOrEqual,Sb.le=Sb.lessThanOrEqual,Sb.greaterThan=function(t){return this.comp(t)>0},Sb.gt=Sb.greaterThan,Sb.greaterThanOrEqual=function(t){return this.comp(t)>=0},Sb.gte=Sb.greaterThanOrEqual,Sb.ge=Sb.greaterThanOrEqual,Sb.compare=function(t){if(eb(t)||(t=ub(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Sb.comp=Sb.compare,Sb.negate=function(){return!this.unsigned&&this.eq(Ab)?Ab:this.not().add(vb)},Sb.neg=Sb.negate,Sb.add=function(t){eb(t)||(t=ub(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=t.high>>>16,a=65535&t.high,s=t.low>>>16,l=0,c=0,u=0,d=0;return u+=(d+=i+(65535&t.low))>>>16,c+=(u+=r+s)>>>16,l+=(c+=n+a)>>>16,l+=e+o,sb((u&=65535)<<16|(d&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},Sb.subtract=function(t){return eb(t)||(t=ub(t)),this.add(t.neg())},Sb.sub=Sb.subtract,Sb.multiply=function(t){if(this.isZero())return this;if(eb(t)||(t=ub(t)),Jy)return sb(Jy.mul(this.low,this.high,t.low,t.high),Jy.get_high(),this.unsigned);if(t.isZero())return this.unsigned?mb:gb;if(this.eq(Ab))return t.isOdd()?Ab:gb;if(t.eq(Ab))return this.isOdd()?Ab:gb;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(pb)&&t.lt(pb))return ab(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=t.high>>>16,a=65535&t.high,s=t.low>>>16,l=65535&t.low,c=0,u=0,d=0,h=0;return d+=(h+=i*l)>>>16,u+=(d+=r*l)>>>16,d&=65535,u+=(d+=i*s)>>>16,c+=(u+=n*l)>>>16,u&=65535,c+=(u+=r*s)>>>16,u&=65535,c+=(u+=i*a)>>>16,c+=e*l+n*s+r*a+i*o,sb((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},Sb.mul=Sb.multiply,Sb.divide=function(t){if(eb(t)||(t=ub(t)),t.isZero())throw Error("division by zero");var e,n,r;if(Jy)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?sb((this.unsigned?Jy.div_u:Jy.div_s)(this.low,this.high,t.low,t.high),Jy.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?mb:gb;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return mb;if(t.gt(this.shru(1)))return yb;r=mb}else{if(this.eq(Ab))return t.eq(vb)||t.eq(bb)?Ab:t.eq(Ab)?vb:(e=this.shr(1).div(t).shl(1)).eq(gb)?t.isNegative()?vb:bb:(n=this.sub(t.mul(e)),r=e.add(n.div(t)));if(t.eq(Ab))return this.unsigned?mb:gb;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=gb}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var i=Math.ceil(Math.log(e)/Math.LN2),o=i<=48?1:lb(2,i-48),a=ab(e),s=a.mul(t);s.isNegative()||s.gt(n);)s=(a=ab(e-=o,this.unsigned)).mul(t);a.isZero()&&(a=vb),r=r.add(a),n=n.sub(s)}return r},Sb.div=Sb.divide,Sb.modulo=function(t){return eb(t)||(t=ub(t)),Jy?sb((this.unsigned?Jy.rem_u:Jy.rem_s)(this.low,this.high,t.low,t.high),Jy.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Sb.mod=Sb.modulo,Sb.rem=Sb.modulo,Sb.not=function(){return sb(~this.low,~this.high,this.unsigned)},Sb.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Sb.clz=Sb.countLeadingZeros,Sb.countTrailingZeros=function(){return this.low?nb(this.low):nb(this.high)+32},Sb.ctz=Sb.countTrailingZeros,Sb.and=function(t){return eb(t)||(t=ub(t)),sb(this.low&t.low,this.high&t.high,this.unsigned)},Sb.or=function(t){return eb(t)||(t=ub(t)),sb(this.low|t.low,this.high|t.high,this.unsigned)},Sb.xor=function(t){return eb(t)||(t=ub(t)),sb(this.low^t.low,this.high^t.high,this.unsigned)},Sb.shiftLeft=function(t){return eb(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?sb(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):sb(0,this.low<<t-32,this.unsigned)},Sb.shl=Sb.shiftLeft,Sb.shiftRight=function(t){return eb(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?sb(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):sb(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Sb.shr=Sb.shiftRight,Sb.shiftRightUnsigned=function(t){return eb(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?sb(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):sb(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Sb.shru=Sb.shiftRightUnsigned,Sb.shr_u=Sb.shiftRightUnsigned,Sb.rotateLeft=function(t){var e;return eb(t)&&(t=t.toInt()),0===(t&=63)?this:32===t?sb(this.high,this.low,this.unsigned):t<32?(e=32-t,sb(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(e=32-(t-=32),sb(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))},Sb.rotl=Sb.rotateLeft,Sb.rotateRight=function(t){var e;return eb(t)&&(t=t.toInt()),0===(t&=63)?this:32===t?sb(this.high,this.low,this.unsigned):t<32?(e=32-t,sb(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(e=32-(t-=32),sb(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))},Sb.rotr=Sb.rotateRight,Sb.toSigned=function(){return this.unsigned?sb(this.low,this.high,!1):this},Sb.toUnsigned=function(){return this.unsigned?this:sb(this.low,this.high,!0)},Sb.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Sb.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Sb.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},tb.fromBytes=function(t,e,n){return n?tb.fromBytesLE(t,e):tb.fromBytesBE(t,e)},tb.fromBytesLE=function(t,e){return new tb(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},tb.fromBytesBE=function(t,e){return new tb(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};const Eb=tb;const Cb={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();return 0!==t.seconds&&e.uint32(8).int64(t.seconds),0!==t.nanos&&e.uint32(16).int32(t.nanos),e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={seconds:0,nanos:0};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(8!==t)break;i.seconds=xb(n.int64());continue;case 2:if(16!==t)break;i.nanos=n.int32();continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({seconds:Tb(t.seconds)?globalThis.Number(t.seconds):0,nanos:Tb(t.nanos)?globalThis.Number(t.nanos):0}),toJSON(t){const e={};return 0!==t.seconds&&(e.seconds=Math.round(t.seconds)),0!==t.nanos&&(e.nanos=Math.round(t.nanos)),e},create:t=>Cb.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n;const r={seconds:0,nanos:0};return r.seconds=null!==(e=t.seconds)&&void 0!==e?e:0,r.nanos=null!==(n=t.nanos)&&void 0!==n?n:0,r}};function xb(t){if(t.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return t.toNumber()}function Tb(t){return null!==t&&void 0!==t}Ky().util.Long!==Eb&&(Ky().util.Long=Eb,Ky().configure());const Ib={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();""!==t.id&&e.uint32(10).string(t.id),""!==t.name&&e.uint32(18).string(t.name),0!==t.code&&e.uint32(24).uint32(t.code);for(const n of t.codes)Zy.encode(n,e.uint32(34).fork()).ldelim();!1!==t.vaccinable&&e.uint32(40).bool(t.vaccinable),!1!==t.screenable&&e.uint32(48).bool(t.screenable);for(const n of t.valenceIds)e.uint32(58).string(n);return void 0!==t.createdAt&&Cb.encode(kb(t.createdAt),e.uint32(130).fork()).ldelim(),void 0!==t.updatedAt&&Cb.encode(kb(t.updatedAt),e.uint32(138).fork()).ldelim(),e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={id:"",name:"",code:0,codes:[],vaccinable:!1,screenable:!1,valenceIds:[],createdAt:void 0,updatedAt:void 0};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(10!==t)break;i.id=n.string();continue;case 2:if(18!==t)break;i.name=n.string();continue;case 3:if(24!==t)break;i.code=n.uint32();continue;case 4:if(34!==t)break;i.codes.push(Zy.decode(n,n.uint32()));continue;case 5:if(40!==t)break;i.vaccinable=n.bool();continue;case 6:if(48!==t)break;i.screenable=n.bool();continue;case 7:if(58!==t)break;i.valenceIds.push(n.string());continue;case 16:if(130!==t)break;i.createdAt=Rb(Cb.decode(n,n.uint32()));continue;case 17:if(138!==t)break;i.updatedAt=Rb(Cb.decode(n,n.uint32()));continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({id:Pb(t.id)?globalThis.String(t.id):"",name:Pb(t.name)?globalThis.String(t.name):"",code:Pb(t.code)?globalThis.Number(t.code):0,codes:globalThis.Array.isArray(null===t||void 0===t?void 0:t.codes)?t.codes.map((t=>Zy.fromJSON(t))):[],vaccinable:!!Pb(t.vaccinable)&&globalThis.Boolean(t.vaccinable),screenable:!!Pb(t.screenable)&&globalThis.Boolean(t.screenable),valenceIds:globalThis.Array.isArray(null===t||void 0===t?void 0:t.valenceIds)?t.valenceIds.map((t=>globalThis.String(t))):[],createdAt:Pb(t.createdAt)?Mb(t.createdAt):void 0,updatedAt:Pb(t.updatedAt)?Mb(t.updatedAt):void 0}),toJSON(t){var e,n;const r={};return""!==t.id&&(r.id=t.id),""!==t.name&&(r.name=t.name),0!==t.code&&(r.code=Math.round(t.code)),(null===(e=t.codes)||void 0===e?void 0:e.length)&&(r.codes=t.codes.map((t=>Zy.toJSON(t)))),!1!==t.vaccinable&&(r.vaccinable=t.vaccinable),!1!==t.screenable&&(r.screenable=t.screenable),(null===(n=t.valenceIds)||void 0===n?void 0:n.length)&&(r.valenceIds=t.valenceIds),void 0!==t.createdAt&&(r.createdAt=t.createdAt.toISOString()),void 0!==t.updatedAt&&(r.updatedAt=t.updatedAt.toISOString()),r},create:t=>Ib.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n,r,i,o,a,s,l,c;const u={id:"",name:"",code:0,codes:[],vaccinable:!1,screenable:!1,valenceIds:[],createdAt:void 0,updatedAt:void 0};return u.id=null!==(e=t.id)&&void 0!==e?e:"",u.name=null!==(n=t.name)&&void 0!==n?n:"",u.code=null!==(r=t.code)&&void 0!==r?r:0,u.codes=(null===(i=t.codes)||void 0===i?void 0:i.map((t=>Zy.fromPartial(t))))||[],u.vaccinable=null!==(o=t.vaccinable)&&void 0!==o&&o,u.screenable=null!==(a=t.screenable)&&void 0!==a&&a,u.valenceIds=(null===(s=t.valenceIds)||void 0===s?void 0:s.map((t=>t)))||[],u.createdAt=null!==(l=t.createdAt)&&void 0!==l?l:void 0,u.updatedAt=null!==(c=t.updatedAt)&&void 0!==c?c:void 0,u}};function kb(t){return{seconds:Math.trunc(t.getTime()/1e3),nanos:t.getTime()%1e3*1e6}}function Rb(t){let e=1e3*(t.seconds||0);return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function Mb(t){return t instanceof globalThis.Date?t:"string"===typeof t?new globalThis.Date(t):Rb(Cb.fromJSON(t))}function Pb(t){return null!==t&&void 0!==t}var Ob;!function(t){t[t.UnspecifiedInjectionMethod=0]="UnspecifiedInjectionMethod",t[t.Intramuscular=1]="Intramuscular",t[t.Subcutaneous=2]="Subcutaneous",t[t.Oral=3]="Oral",t[t.Intranasal=4]="Intranasal",t[t.Intradermal=5]="Intradermal",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ob||(Ob={}));const Db={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();""!==t.id&&e.uint32(10).string(t.id),""!==t.name&&e.uint32(18).string(t.name),""!==t.shortDescription&&e.uint32(26).string(t.shortDescription),""!==t.description&&e.uint32(34).string(t.description),e.uint32(42).fork();for(const n of t.injectionMethods)e.int32(n);e.ldelim(),0!==t.code&&e.uint32(48).uint32(t.code);for(const n of t.codes)Zy.encode(n,e.uint32(58).fork()).ldelim();for(const n of t.valenceIds)e.uint32(66).string(n);for(const n of t.otherNames)e.uint32(74).string(n);return!1!==t.generic&&e.uint32(80).bool(t.generic),""!==t.replacedById&&e.uint32(90).string(t.replacedById),void 0!==t.createdAt&&Cb.encode(Nb(t.createdAt),e.uint32(130).fork()).ldelim(),void 0!==t.updatedAt&&Cb.encode(Nb(t.updatedAt),e.uint32(138).fork()).ldelim(),e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={id:"",name:"",shortDescription:"",description:"",injectionMethods:[],code:0,codes:[],valenceIds:[],otherNames:[],generic:!1,replacedById:"",createdAt:void 0,updatedAt:void 0};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(10!==t)break;i.id=n.string();continue;case 2:if(18!==t)break;i.name=n.string();continue;case 3:if(26!==t)break;i.shortDescription=n.string();continue;case 4:if(34!==t)break;i.description=n.string();continue;case 5:if(40===t){i.injectionMethods.push(n.int32());continue}if(42===t){const t=n.uint32()+n.pos;for(;n.pos<t;)i.injectionMethods.push(n.int32());continue}break;case 6:if(48!==t)break;i.code=n.uint32();continue;case 7:if(58!==t)break;i.codes.push(Zy.decode(n,n.uint32()));continue;case 8:if(66!==t)break;i.valenceIds.push(n.string());continue;case 9:if(74!==t)break;i.otherNames.push(n.string());continue;case 10:if(80!==t)break;i.generic=n.bool();continue;case 11:if(90!==t)break;i.replacedById=n.string();continue;case 16:if(130!==t)break;i.createdAt=Lb(Cb.decode(n,n.uint32()));continue;case 17:if(138!==t)break;i.updatedAt=Lb(Cb.decode(n,n.uint32()));continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({id:Bb(t.id)?globalThis.String(t.id):"",name:Bb(t.name)?globalThis.String(t.name):"",shortDescription:Bb(t.shortDescription)?globalThis.String(t.shortDescription):"",description:Bb(t.description)?globalThis.String(t.description):"",injectionMethods:globalThis.Array.isArray(null===t||void 0===t?void 0:t.injectionMethods)?t.injectionMethods.map((t=>function(t){switch(t){case 0:case"UnspecifiedInjectionMethod":return Ob.UnspecifiedInjectionMethod;case 1:case"Intramuscular":return Ob.Intramuscular;case 2:case"Subcutaneous":return Ob.Subcutaneous;case 3:case"Oral":return Ob.Oral;case 4:case"Intranasal":return Ob.Intranasal;case 5:case"Intradermal":return Ob.Intradermal;default:return Ob.UNRECOGNIZED}}(t))):[],code:Bb(t.code)?globalThis.Number(t.code):0,codes:globalThis.Array.isArray(null===t||void 0===t?void 0:t.codes)?t.codes.map((t=>Zy.fromJSON(t))):[],valenceIds:globalThis.Array.isArray(null===t||void 0===t?void 0:t.valenceIds)?t.valenceIds.map((t=>globalThis.String(t))):[],otherNames:globalThis.Array.isArray(null===t||void 0===t?void 0:t.otherNames)?t.otherNames.map((t=>globalThis.String(t))):[],generic:!!Bb(t.generic)&&globalThis.Boolean(t.generic),replacedById:Bb(t.replacedById)?globalThis.String(t.replacedById):"",createdAt:Bb(t.createdAt)?Fb(t.createdAt):void 0,updatedAt:Bb(t.updatedAt)?Fb(t.updatedAt):void 0}),toJSON(t){var e,n,r,i;const o={};return""!==t.id&&(o.id=t.id),""!==t.name&&(o.name=t.name),""!==t.shortDescription&&(o.shortDescription=t.shortDescription),""!==t.description&&(o.description=t.description),(null===(e=t.injectionMethods)||void 0===e?void 0:e.length)&&(o.injectionMethods=t.injectionMethods.map((t=>function(t){switch(t){case Ob.UnspecifiedInjectionMethod:return"UnspecifiedInjectionMethod";case Ob.Intramuscular:return"Intramuscular";case Ob.Subcutaneous:return"Subcutaneous";case Ob.Oral:return"Oral";case Ob.Intranasal:return"Intranasal";case Ob.Intradermal:return"Intradermal";case Ob.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(t)))),0!==t.code&&(o.code=Math.round(t.code)),(null===(n=t.codes)||void 0===n?void 0:n.length)&&(o.codes=t.codes.map((t=>Zy.toJSON(t)))),(null===(r=t.valenceIds)||void 0===r?void 0:r.length)&&(o.valenceIds=t.valenceIds),(null===(i=t.otherNames)||void 0===i?void 0:i.length)&&(o.otherNames=t.otherNames),!1!==t.generic&&(o.generic=t.generic),""!==t.replacedById&&(o.replacedById=t.replacedById),void 0!==t.createdAt&&(o.createdAt=t.createdAt.toISOString()),void 0!==t.updatedAt&&(o.updatedAt=t.updatedAt.toISOString()),o},create:t=>Db.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n,r,i,o,a,s,l,c,u,d,h,f;const p={id:"",name:"",shortDescription:"",description:"",injectionMethods:[],code:0,codes:[],valenceIds:[],otherNames:[],generic:!1,replacedById:"",createdAt:void 0,updatedAt:void 0};return p.id=null!==(e=t.id)&&void 0!==e?e:"",p.name=null!==(n=t.name)&&void 0!==n?n:"",p.shortDescription=null!==(r=t.shortDescription)&&void 0!==r?r:"",p.description=null!==(i=t.description)&&void 0!==i?i:"",p.injectionMethods=(null===(o=t.injectionMethods)||void 0===o?void 0:o.map((t=>t)))||[],p.code=null!==(a=t.code)&&void 0!==a?a:0,p.codes=(null===(s=t.codes)||void 0===s?void 0:s.map((t=>Zy.fromPartial(t))))||[],p.valenceIds=(null===(l=t.valenceIds)||void 0===l?void 0:l.map((t=>t)))||[],p.otherNames=(null===(c=t.otherNames)||void 0===c?void 0:c.map((t=>t)))||[],p.generic=null!==(u=t.generic)&&void 0!==u&&u,p.replacedById=null!==(d=t.replacedById)&&void 0!==d?d:"",p.createdAt=null!==(h=t.createdAt)&&void 0!==h?h:void 0,p.updatedAt=null!==(f=t.updatedAt)&&void 0!==f?f:void 0,p}};function Nb(t){return{seconds:Math.trunc(t.getTime()/1e3),nanos:t.getTime()%1e3*1e6}}function Lb(t){let e=1e3*(t.seconds||0);return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function Fb(t){return t instanceof globalThis.Date?t:"string"===typeof t?new globalThis.Date(t):Lb(Cb.fromJSON(t))}function Bb(t){return null!==t&&void 0!==t}const jb={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();""!==t.id&&e.uint32(10).string(t.id),""!==t.parentId&&e.uint32(18).string(t.parentId),0!==t.code&&e.uint32(24).uint32(t.code),""!==t.name&&e.uint32(34).string(t.name),""!==t.abbreviation&&e.uint32(42).string(t.abbreviation),""!==t.translatedAbbreviation&&e.uint32(50).string(t.translatedAbbreviation);for(const n of t.diseaseIds)e.uint32(58).string(n);for(const n of t.vaccineIds)e.uint32(66).string(n);return""!==t.antigeneType&&e.uint32(74).string(t.antigeneType),void 0!==t.createdAt&&Cb.encode(zb(t.createdAt),e.uint32(130).fork()).ldelim(),void 0!==t.updatedAt&&Cb.encode(zb(t.updatedAt),e.uint32(138).fork()).ldelim(),e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={id:"",parentId:"",code:0,name:"",abbreviation:"",translatedAbbreviation:"",diseaseIds:[],vaccineIds:[],antigeneType:"",createdAt:void 0,updatedAt:void 0};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(10!==t)break;i.id=n.string();continue;case 2:if(18!==t)break;i.parentId=n.string();continue;case 3:if(24!==t)break;i.code=n.uint32();continue;case 4:if(34!==t)break;i.name=n.string();continue;case 5:if(42!==t)break;i.abbreviation=n.string();continue;case 6:if(50!==t)break;i.translatedAbbreviation=n.string();continue;case 7:if(58!==t)break;i.diseaseIds.push(n.string());continue;case 8:if(66!==t)break;i.vaccineIds.push(n.string());continue;case 9:if(74!==t)break;i.antigeneType=n.string();continue;case 16:if(130!==t)break;i.createdAt=Vb(Cb.decode(n,n.uint32()));continue;case 17:if(138!==t)break;i.updatedAt=Vb(Cb.decode(n,n.uint32()));continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({id:Ub(t.id)?globalThis.String(t.id):"",parentId:Ub(t.parentId)?globalThis.String(t.parentId):"",code:Ub(t.code)?globalThis.Number(t.code):0,name:Ub(t.name)?globalThis.String(t.name):"",abbreviation:Ub(t.abbreviation)?globalThis.String(t.abbreviation):"",translatedAbbreviation:Ub(t.translatedAbbreviation)?globalThis.String(t.translatedAbbreviation):"",diseaseIds:globalThis.Array.isArray(null===t||void 0===t?void 0:t.diseaseIds)?t.diseaseIds.map((t=>globalThis.String(t))):[],vaccineIds:globalThis.Array.isArray(null===t||void 0===t?void 0:t.vaccineIds)?t.vaccineIds.map((t=>globalThis.String(t))):[],antigeneType:Ub(t.antigeneType)?globalThis.String(t.antigeneType):"",createdAt:Ub(t.createdAt)?Hb(t.createdAt):void 0,updatedAt:Ub(t.updatedAt)?Hb(t.updatedAt):void 0}),toJSON(t){var e,n;const r={};return""!==t.id&&(r.id=t.id),""!==t.parentId&&(r.parentId=t.parentId),0!==t.code&&(r.code=Math.round(t.code)),""!==t.name&&(r.name=t.name),""!==t.abbreviation&&(r.abbreviation=t.abbreviation),""!==t.translatedAbbreviation&&(r.translatedAbbreviation=t.translatedAbbreviation),(null===(e=t.diseaseIds)||void 0===e?void 0:e.length)&&(r.diseaseIds=t.diseaseIds),(null===(n=t.vaccineIds)||void 0===n?void 0:n.length)&&(r.vaccineIds=t.vaccineIds),""!==t.antigeneType&&(r.antigeneType=t.antigeneType),void 0!==t.createdAt&&(r.createdAt=t.createdAt.toISOString()),void 0!==t.updatedAt&&(r.updatedAt=t.updatedAt.toISOString()),r},create:t=>jb.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n,r,i,o,a,s,l,c,u,d;const h={id:"",parentId:"",code:0,name:"",abbreviation:"",translatedAbbreviation:"",diseaseIds:[],vaccineIds:[],antigeneType:"",createdAt:void 0,updatedAt:void 0};return h.id=null!==(e=t.id)&&void 0!==e?e:"",h.parentId=null!==(n=t.parentId)&&void 0!==n?n:"",h.code=null!==(r=t.code)&&void 0!==r?r:0,h.name=null!==(i=t.name)&&void 0!==i?i:"",h.abbreviation=null!==(o=t.abbreviation)&&void 0!==o?o:"",h.translatedAbbreviation=null!==(a=t.translatedAbbreviation)&&void 0!==a?a:"",h.diseaseIds=(null===(s=t.diseaseIds)||void 0===s?void 0:s.map((t=>t)))||[],h.vaccineIds=(null===(l=t.vaccineIds)||void 0===l?void 0:l.map((t=>t)))||[],h.antigeneType=null!==(c=t.antigeneType)&&void 0!==c?c:"",h.createdAt=null!==(u=t.createdAt)&&void 0!==u?u:void 0,h.updatedAt=null!==(d=t.updatedAt)&&void 0!==d?d:void 0,h}};function zb(t){return{seconds:Math.trunc(t.getTime()/1e3),nanos:t.getTime()%1e3*1e6}}function Vb(t){let e=1e3*(t.seconds||0);return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function Hb(t){return t instanceof globalThis.Date?t:"string"===typeof t?new globalThis.Date(t):Vb(Cb.fromJSON(t))}function Ub(t){return null!==t&&void 0!==t}const Wb={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();return 0!==t.major&&e.uint32(8).uint32(t.major),0!==t.minor&&e.uint32(16).uint32(t.minor),0!==t.patch&&e.uint32(24).uint32(t.patch),e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={major:0,minor:0,patch:0};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(8!==t)break;i.major=n.uint32();continue;case 2:if(16!==t)break;i.minor=n.uint32();continue;case 3:if(24!==t)break;i.patch=n.uint32();continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({major:$b(t.major)?globalThis.Number(t.major):0,minor:$b(t.minor)?globalThis.Number(t.minor):0,patch:$b(t.patch)?globalThis.Number(t.patch):0}),toJSON(t){const e={};return 0!==t.major&&(e.major=Math.round(t.major)),0!==t.minor&&(e.minor=Math.round(t.minor)),0!==t.patch&&(e.patch=Math.round(t.patch)),e},create:t=>Wb.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n,r;const i={major:0,minor:0,patch:0};return i.major=null!==(e=t.major)&&void 0!==e?e:0,i.minor=null!==(n=t.minor)&&void 0!==n?n:0,i.patch=null!==(r=t.patch)&&void 0!==r?r:0,i}};function $b(t){return null!==t&&void 0!==t}const Gb={encode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ky().Writer.create();void 0!==t.version&&Wb.encode(t.version,e.uint32(10).fork()).ldelim(),void 0!==t.generatedAt&&Cb.encode(function(t){const e=Math.trunc(t.getTime()/1e3),n=t.getTime()%1e3*1e6;return{seconds:e,nanos:n}}(t.generatedAt),e.uint32(18).fork()).ldelim(),""!==t.locale&&e.uint32(26).string(t.locale);for(const n of t.vaccines)Db.encode(n,e.uint32(34).fork()).ldelim();for(const n of t.diseases)Ib.encode(n,e.uint32(42).fork()).ldelim();for(const n of t.valences)jb.encode(n,e.uint32(50).fork()).ldelim();return e},decode(t,e){const n=t instanceof Ky().Reader?t:Ky().Reader.create(t);let r=void 0===e?n.len:n.pos+e;const i={version:void 0,generatedAt:void 0,locale:"",vaccines:[],diseases:[],valences:[]};for(;n.pos<r;){const t=n.uint32();switch(t>>>3){case 1:if(10!==t)break;i.version=Wb.decode(n,n.uint32());continue;case 2:if(18!==t)break;i.generatedAt=Xb(Cb.decode(n,n.uint32()));continue;case 3:if(26!==t)break;i.locale=n.string();continue;case 4:if(34!==t)break;i.vaccines.push(Db.decode(n,n.uint32()));continue;case 5:if(42!==t)break;i.diseases.push(Ib.decode(n,n.uint32()));continue;case 6:if(50!==t)break;i.valences.push(jb.decode(n,n.uint32()));continue}if(4===(7&t)||0===t)break;n.skipType(7&t)}return i},fromJSON:t=>({version:Yb(t.version)?Wb.fromJSON(t.version):void 0,generatedAt:Yb(t.generatedAt)?qb(t.generatedAt):void 0,locale:Yb(t.locale)?globalThis.String(t.locale):"",vaccines:globalThis.Array.isArray(null===t||void 0===t?void 0:t.vaccines)?t.vaccines.map((t=>Db.fromJSON(t))):[],diseases:globalThis.Array.isArray(null===t||void 0===t?void 0:t.diseases)?t.diseases.map((t=>Ib.fromJSON(t))):[],valences:globalThis.Array.isArray(null===t||void 0===t?void 0:t.valences)?t.valences.map((t=>jb.fromJSON(t))):[]}),toJSON(t){var e,n,r;const i={};return void 0!==t.version&&(i.version=Wb.toJSON(t.version)),void 0!==t.generatedAt&&(i.generatedAt=t.generatedAt.toISOString()),""!==t.locale&&(i.locale=t.locale),(null===(e=t.vaccines)||void 0===e?void 0:e.length)&&(i.vaccines=t.vaccines.map((t=>Db.toJSON(t)))),(null===(n=t.diseases)||void 0===n?void 0:n.length)&&(i.diseases=t.diseases.map((t=>Ib.toJSON(t)))),(null===(r=t.valences)||void 0===r?void 0:r.length)&&(i.valences=t.valences.map((t=>jb.toJSON(t)))),i},create:t=>Gb.fromPartial(null!==t&&void 0!==t?t:{}),fromPartial(t){var e,n,r,i,o;const a={version:void 0,generatedAt:void 0,locale:"",vaccines:[],diseases:[],valences:[]};return a.version=void 0!==t.version&&null!==t.version?Wb.fromPartial(t.version):void 0,a.generatedAt=null!==(e=t.generatedAt)&&void 0!==e?e:void 0,a.locale=null!==(n=t.locale)&&void 0!==n?n:"",a.vaccines=(null===(r=t.vaccines)||void 0===r?void 0:r.map((t=>Db.fromPartial(t))))||[],a.diseases=(null===(i=t.diseases)||void 0===i?void 0:i.map((t=>Ib.fromPartial(t))))||[],a.valences=(null===(o=t.valences)||void 0===o?void 0:o.map((t=>jb.fromPartial(t))))||[],a}};function Xb(t){let e=1e3*(t.seconds||0);return e+=(t.nanos||0)/1e6,new globalThis.Date(e)}function qb(t){return t instanceof globalThis.Date?t:"string"===typeof t?new globalThis.Date(t):Xb(Cb.fromJSON(t))}function Yb(t){return null!==t&&void 0!==t}class Kb{constructor(t){this.data=t.reduce(((t,e)=>(t[e.id]=e,t)),{})}all(){return Object.values(this.data)}find(t){return this.data[t]}}function Zb(t){return Array.isArray?Array.isArray(t):"[object Array]"===aw(t)}const Qb=1/0;function Jb(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-Qb?"-0":e}(t)}function tw(t){return"string"===typeof t}function ew(t){return"number"===typeof t}function nw(t){return!0===t||!1===t||function(t){return rw(t)&&null!==t}(t)&&"[object Boolean]"==aw(t)}function rw(t){return"object"===typeof t}function iw(t){return void 0!==t&&null!==t}function ow(t){return!t.trim().length}function aw(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const sw=t=>`Missing ${t} property in key`,lw=t=>`Property 'weight' in key '${t}' must be a positive integer`,cw=Object.prototype.hasOwnProperty;class uw{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=dw(t);this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function dw(t){let e=null,n=null,r=null,i=1,o=null;if(tw(t)||Zb(t))r=t,e=hw(t),n=fw(t);else{if(!cw.call(t,"name"))throw new Error(sw("name"));const a=t.name;if(r=a,cw.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(lw(a));e=hw(a),n=fw(a),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function hw(t){return Zb(t)?t:t.split(".")}function fw(t){return Zb(t)?t.join("."):t}const pw={useExtendedSearch:!1,getFn:function(t,e){let n=[],r=!1;const i=(t,e,o)=>{if(iw(t))if(e[o]){const a=t[e[o]];if(!iw(a))return;if(o===e.length-1&&(tw(a)||ew(a)||nw(a)))n.push(Jb(a));else if(Zb(a)){r=!0;for(let t=0,n=a.length;t<n;t+=1)i(a[t],e,o+1)}else e.length&&i(a,e,o+1)}else n.push(t)};return i(t,tw(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var gw={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...pw};const mw=/[^ ]+/g;class vw{constructor(){let{getFn:t=gw.getFn,fieldNormWeight:e=gw.fieldNormWeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.norm=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=new Map,r=Math.pow(10,e);return{get(e){const i=e.match(mw).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=t}setIndexRecords(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=t}setKeys(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,tw(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();tw(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!iw(t)||ow(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,r)=>{let i=e.getFn?e.getFn(t):this.getFn(t,e.path);if(iw(i))if(Zb(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(iw(r))if(tw(r)&&!ow(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else Zb(r)&&r.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[r]=t}else if(tw(i)&&!ow(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function yw(t,e){let{getFn:n=gw.getFn,fieldNormWeight:r=gw.fieldNormWeight}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new vw({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(dw)),i.setSources(e),i.create(),i}function bw(t){let{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=gw.distance,ignoreLocation:o=gw.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e/t.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const ww=32;function _w(t,e,n){let{location:r=gw.location,distance:i=gw.distance,threshold:o=gw.threshold,findAllMatches:a=gw.findAllMatches,minMatchCharLength:s=gw.minMatchCharLength,includeMatches:l=gw.includeMatches,ignoreLocation:c=gw.ignoreLocation}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.length>ww)throw new Error(`Pattern length exceeds max of ${ww}.`);const u=e.length,d=t.length,h=Math.max(0,Math.min(r,d));let f=o,p=h;const g=s>1||l,m=g?Array(d):[];let v;for(;(v=t.indexOf(e,p))>-1;){let t=bw(e,{currentLocation:v,expectedLocation:h,distance:i,ignoreLocation:c});if(f=Math.min(t,f),p=v+u,g){let t=0;for(;t<u;)m[v+t]=1,t+=1}}p=-1;let y=[],b=1,w=u+d;const _=1<<u-1;for(let S=0;S<u;S+=1){let r=0,o=w;for(;r<o;){bw(e,{errors:S,currentLocation:h+o,expectedLocation:h,distance:i,ignoreLocation:c})<=f?r=o:w=o,o=Math.floor((w-r)/2+r)}w=o;let s=Math.max(1,h-o+1),l=a?d:Math.min(h+o,d)+u,v=Array(l+2);v[l+1]=(1<<S)-1;for(let a=l;a>=s;a-=1){let r=a-1,o=n[t.charAt(r)];if(g&&(m[r]=+!!o),v[a]=(v[a+1]<<1|1)&o,S&&(v[a]|=(y[a+1]|y[a])<<1|1|y[a+1]),v[a]&_&&(b=bw(e,{errors:S,currentLocation:r,expectedLocation:h,distance:i,ignoreLocation:c}),b<=f)){if(f=b,p=r,p<=h)break;s=Math.max(1,2*h-p)}}if(bw(e,{errors:S+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:c})>f)break;y=v}const A={isMatch:p>=0,score:Math.max(.001,b)};if(g){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gw.minMatchCharLength,n=[],r=-1,i=-1,o=0;for(let a=t.length;o<a;o+=1){let a=t[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}(m,s);t.length?l&&(A.indices=t):A.isMatch=!1}return A}function Aw(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class Sw{constructor(t){let{location:e=gw.location,threshold:n=gw.threshold,distance:r=gw.distance,includeMatches:i=gw.includeMatches,findAllMatches:o=gw.findAllMatches,minMatchCharLength:a=gw.minMatchCharLength,isCaseSensitive:s=gw.isCaseSensitive,ignoreLocation:l=gw.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options={location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(t,e)=>{this.chunks.push({pattern:t,alphabet:Aw(t),startIndex:e})},u=this.pattern.length;if(u>ww){let t=0;const e=u%ww,n=u-e;for(;t<n;)c(this.pattern.substr(t,ww),t),t+=ww;if(e){const t=u-ww;c(this.pattern.substr(t),t)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((e=>{let{pattern:h,alphabet:f,startIndex:p}=e;const{isMatch:g,score:m,indices:v}=_w(t,h,f,{location:r+p,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});g&&(d=!0),u+=m,g&&v&&(c=[...c,...v])}));let h={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(h.indices=c),h}}class Ew{constructor(t){this.pattern=t}static isMultiMatch(t){return Cw(t,this.multiRegex)}static isSingleMatch(t){return Cw(t,this.singleRegex)}search(){}}function Cw(t,e){const n=t.match(e);return n?n[1]:null}class xw extends Ew{constructor(t){let{location:e=gw.location,threshold:n=gw.threshold,distance:r=gw.distance,includeMatches:i=gw.includeMatches,findAllMatches:o=gw.findAllMatches,minMatchCharLength:a=gw.minMatchCharLength,isCaseSensitive:s=gw.isCaseSensitive,ignoreLocation:l=gw.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._bitapSearch=new Sw(t,{location:e,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Tw extends Ew{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const r=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+i,r.push([e,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const Iw=[class extends Ew{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Tw,class extends Ew{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Ew{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Ew{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Ew{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends Ew{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},xw],kw=Iw.length,Rw=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const Mw=new Set([xw.type,Tw.type]);class Pw{constructor(t){let{isCaseSensitive:e=gw.isCaseSensitive,includeMatches:n=gw.includeMatches,minMatchCharLength:r=gw.minMatchCharLength,ignoreLocation:i=gw.ignoreLocation,findAllMatches:o=gw.findAllMatches,location:a=gw.location,threshold:s=gw.threshold,distance:l=gw.distance}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:l},this.pattern=e?t:t.toLowerCase(),this.query=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.split("|").map((t=>{let n=t.trim().split(Rw).filter((t=>t&&!!t.trim())),r=[];for(let i=0,o=n.length;i<o;i+=1){const t=n[i];let o=!1,a=-1;for(;!o&&++a<kw;){const n=Iw[a];let i=n.isMultiMatch(t);i&&(r.push(new n(i,e)),o=!0)}if(!o)for(a=-1;++a<kw;){const n=Iw[a];let i=n.isSingleMatch(t);if(i){r.push(new n(i,e));break}}}return r}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,o=[],a=0;for(let s=0,l=e.length;s<l;s+=1){const r=e[s];o.length=0,i=0;for(let e=0,s=r.length;e<s;e+=1){const s=r[e],{isMatch:l,indices:c,score:u}=s.search(t);if(!l){a=0,i=0,o.length=0;break}if(i+=1,a+=u,n){const t=s.constructor.type;Mw.has(t)?o=[...o,...c]:o.push(c)}}if(i){let t={isMatch:!0,score:a/i};return n&&(t.indices=o),t}}return{isMatch:!1,score:1}}}const Ow=[];function Dw(t,e){for(let n=0,r=Ow.length;n<r;n+=1){let r=Ow[n];if(r.condition(t,e))return new r(t,e)}return new Sw(t,e)}const Nw="$and",Lw="$or",Fw="$path",Bw="$val",jw=t=>!(!t[Nw]&&!t[Lw]),zw=t=>({[Nw]:Object.keys(t).map((e=>({[e]:t[e]})))});function Vw(t,e){let{auto:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t=>{let i=Object.keys(t);const o=(t=>!!t[Fw])(t);if(!o&&i.length>1&&!jw(t))return r(zw(t));if((t=>!Zb(t)&&rw(t)&&!jw(t))(t)){const r=o?t[Fw]:i[0],a=o?t[Bw]:t[r];if(!tw(a))throw new Error((t=>`Invalid value for key ${t}`)(r));const s={keyId:fw(r),pattern:a};return n&&(s.searcher=Dw(a,e)),s}let a={children:[],operator:i[0]};return i.forEach((e=>{const n=t[e];Zb(n)&&n.forEach((t=>{a.children.push(r(t))}))})),a};return jw(t)||(t=zw(t)),r(t)}function Hw(t,e){const n=t.matches;e.matches=[],iw(n)&&n.forEach((t=>{if(!iw(t.indices)||!t.indices.length)return;const{indices:n,value:r}=t;let i={indices:n,value:r};t.key&&(i.key=t.key.src),t.idx>-1&&(i.refIndex=t.idx),e.matches.push(i)}))}function Uw(t,e){e.score=t.score}class Ww{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.options={...gw,...e},this.options.useExtendedSearch,this._keyStore=new uw(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof vw))throw new Error("Incorrect 'index' type");this._myIndex=e||yw(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){iw(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1;const e=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t){let{limit:e=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=tw(t)?tw(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,e){let{ignoreFieldNorm:n=gw.ignoreFieldNorm}=e;t.forEach((t=>{let e=1;t.matches.forEach((t=>{let{key:r,norm:i,score:o}=t;const a=r?r.weight:null;e*=Math.pow(0===o&&a?Number.EPSILON:o,(a||1)*(n?1:i))})),t.score=e}))}(s,{ignoreFieldNorm:a}),i&&s.sort(o),ew(e)&&e>-1&&(s=s.slice(0,e)),function(t,e){let{includeMatches:n=gw.includeMatches,includeScore:r=gw.includeScore}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=[];return n&&i.push(Hw),r&&i.push(Uw),t.map((t=>{const{idx:n}=t,r={item:e[n],refIndex:n};return i.length&&i.forEach((e=>{e(t,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(t){const e=Dw(t,this.options),{records:n}=this._myIndex,r=[];return n.forEach((t=>{let{v:n,i:i,n:o}=t;if(!iw(n))return;const{isMatch:a,score:s,indices:l}=e.searchIn(n);a&&r.push({item:n,idx:i,matches:[{score:s,value:n,norm:o,indices:l}]})})),r}_searchLogical(t){const e=Vw(t,this.options),n=(t,e,r)=>{if(!t.children){const{keyId:n,searcher:i}=t,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:i});return o&&o.length?[{idx:r,item:e,matches:o}]:[]}const i=[];for(let o=0,a=t.children.length;o<a;o+=1){const a=t.children[o],s=n(a,e,r);if(s.length)i.push(...s);else if(t.operator===Nw)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((t=>{let{$:r,i:a}=t;if(iw(r)){let t=n(e,r,a);t.length&&(i[a]||(i[a]={idx:a,item:r,matches:[]},o.push(i[a])),t.forEach((t=>{let{matches:e}=t;i[a].matches.push(...e)})))}})),o}_searchObjectList(t){const e=Dw(t,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((t=>{let{$:r,i:o}=t;if(!iw(r))return;let a=[];n.forEach(((t,n)=>{a.push(...this._findMatches({key:t,value:r[n],searcher:e}))})),a.length&&i.push({idx:o,item:r,matches:a})})),i}_findMatches(t){let{key:e,value:n,searcher:r}=t;if(!iw(n))return[];let i=[];if(Zb(n))n.forEach((t=>{let{v:n,i:o,n:a}=t;if(!iw(n))return;const{isMatch:s,score:l,indices:c}=r.searchIn(n);s&&i.push({score:l,key:e,value:n,idx:o,norm:a,indices:c})}));else{const{v:t,n:o}=n,{isMatch:a,score:s,indices:l}=r.searchIn(t);a&&i.push({score:s,key:e,value:t,norm:o,indices:l})}return i}}Ww.version="7.0.0",Ww.createIndex=yw,Ww.parseIndex=function(t){let{getFn:e=gw.getFn,fieldNormWeight:n=gw.fieldNormWeight}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{keys:r,records:i}=t,o=new vw({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},Ww.config=gw,Ww.parseQuery=Vw,function(){Ow.push(...arguments)}(Pw);var $w=__webpack_require__(9835),Gw=__webpack_require__.n($w),Xw=__webpack_require__(9853),qw=__webpack_require__.n(Xw),Yw=__webpack_require__(7424),Kw=__webpack_require__.n(Yw),Zw=__webpack_require__(9376),Qw=__webpack_require__.n(Zw),Jw=__webpack_require__(977),t_=__webpack_require__.n(Jw);function e_(t){const e=function(t){return e=>e.valenceIds.map((e=>t.valences.find(e)))}(t),n=function(t){return e=>e.vaccineIds.map((e=>t.vaccines.find(e)))}(t),r=function(t,e){return n=>{const r=e(n);return Qw()(r.flatMap((e=>t(e))))}}(n,e),i=function(t){return e=>Array.from(e.valenceIds,(e=>t.valences.find(e)))}(t),o=function(t){return e=>e.diseaseIds.map((e=>t.diseases.find(e)))}(t);return{vaccinesByDisease:r,vaccinesByValence:n,valencesByVaccine:i,valencesByDisease:e,diseasesByValence:o,diseasesByVaccine:r_(o,i),searchVaccines:i_(t.vaccines),lookupVaccineByCode:(s=t.vaccines,t=>s.all().find((e=>e.codes.some((e=>e.value===t))))),lookupEquivalentVaccines:o_(t.vaccines),lookupSpecializedVaccines:s_(t.vaccines,t.valences,i),lookupGeneralizedVaccines:l_(t.vaccines,t.valences,i),allNomenclatures:(a=t.vaccines,()=>Qw()(a.all().flatMap((t=>t.codes.map((t=>t.nomenclature)))))),allCodeByNomenclature:n_(t.vaccines)};var a,s}function n_(t){return()=>{const e=t_()(t.all().flatMap((t=>t.codes)),(t=>t.nomenclature+t.value));return Gw()(e,(t=>t.nomenclature))}}function r_(t,e){return n=>{const r=e(n).flatMap((e=>t(e)));return t_()(r,(t=>t.id))}}function i_(t){const e=new Ww(t.all(),{keys:["name","shortDescription","otherNames"],threshold:.4});return t=>e.search(t).map((t=>t.item)).slice(0,10)}function o_(t){return e=>{const n=e.valenceIds.sort();return t.all().filter((t=>{let{id:r,valenceIds:i}=t;return i.length===e.valenceIds.length&&(r!==e.id&&qw()(n,i.sort()))}))}}function a_(t){return function e(n,r){return n===r||!!n.parentId&&e(t.find(n.parentId),r)}}function s_(t,e,n){const r=a_(e);return e=>{const i=n(e),o=t.all().filter((t=>t.id!==e.id&&i.every((e=>n(t).some((t=>r(t,e)))))));return Kw()(o,(t=>n(t).length))}}function l_(t,e,n){const r=a_(e);return e=>{const i=n(e),o=t.all().filter((t=>t.id!==e.id&&t.generic&&n(t).every((t=>i.some((e=>r(e,t)))))));return Kw()(o,(t=>-n(t).length))}}var c_=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(AL){o(AL)}}function s(t){try{l(r.throw(t))}catch(AL){o(AL)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const u_="https://cdnnuva.mesvaccins.net";class d_{constructor(t){this._db=t,this._repositories={diseases:new Kb(t.diseases),valences:new Kb(t.valences),vaccines:new Kb(t.vaccines)},this._queries=e_(this._repositories)}static loadFromBuffer(){return new d_(Gb.decode(...arguments))}static load(){return c_(this,arguments,void 0,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return function*(){return d_.loadFromRemote(t)}()}))}static loadFromRemote(){return c_(this,arguments,void 0,(function(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return function*(){const n=yield(yield fetch(`${u_}/versions/last.json`)).json(),r=yield fetch(`${u_}/proto/${n.dump_hash}_${e}.db`);return t.loadFromBuffer(new Uint8Array(yield r.arrayBuffer()))}()}))}get version(){return this._db.version}get repositories(){return this._repositories}get queries(){return this._queries}}function h_(e,n){const r=(0,t.useId)();return(0,t.useMemo)((()=>e||[n,r].filter(Boolean).join("-")),[e,n,r])}function f_(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var p_=f_()?t.useLayoutEffect:t.useEffect;function g_(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e);return p_((()=>{r.current=e})),(0,t.useCallback)((function(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return null==(t=r.current)?void 0:t.call(r,...n)}),n)}function m_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onClose:n,onOpen:r,isOpen:i,id:o}=e,a=g_(r),s=g_(n),[l,c]=(0,t.useState)(e.defaultIsOpen||!1),[u,d]=function(t,e){const n=void 0!==t;return[n,n&&"undefined"!==typeof t?t:e]}(i,l),h=h_(o,"disclosure"),f=(0,t.useCallback)((()=>{u||c(!1),null==s||s()}),[u,s]),p=(0,t.useCallback)((()=>{u||c(!0),null==a||a()}),[u,a]),g=(0,t.useCallback)((()=>{(d?f:p)()}),[d,p,f]);return{isOpen:!!d,onOpen:p,onClose:f,onToggle:g,isControlled:u,getButtonProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t,"aria-expanded":d,"aria-controls":h,onClick:Un(t.onClick,g)}},getDisclosureProps:function(){return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},hidden:!d,id:h}}}}var v_=ty("div");v_.displayName="Box";var y_=ry((function(t,e){const{size:n,centerContent:r=!0,...i}=t,o=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,Ot.jsx)(v_,{ref:e,boxSize:n,__css:{...o,flexShrink:0,flexGrow:0},...i})}));y_.displayName="Square";var b_=ry((function(t,e){const{size:n,...r}=t;return(0,Ot.jsx)(y_,{size:n,ref:e,borderRadius:"9999px",...r})}));b_.displayName="Circle";var w_=ry((function(t,e){const n=sy("Heading",t),{className:r,...i}=Bn(t);return(0,Ot.jsx)(ty.h2,{ref:e,className:Wt("chakra-heading",t.className),...i,__css:n})}));w_.displayName="Heading";var __=ry((function(t,e){const{borderLeftWidth:n,borderBottomWidth:r,borderTopWidth:i,borderRightWidth:o,borderWidth:a,borderStyle:s,borderColor:l,...c}=sy("Divider",t),{className:u,orientation:d="horizontal",__css:h,...f}=Bn(t),p={vertical:{borderLeftWidth:n||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:r||i||a||"1px",width:"100%"}};return(0,Ot.jsx)(ty.hr,{ref:e,"aria-orientation":d,...f,__css:{...c,border:"0",borderColor:l,borderStyle:s,...p[d],...h},className:Wt("chakra-divider",u)})}));__.displayName="Divider",ty("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}}).displayName="Center";var A_={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}},S_=ry((function(t,e){const{axis:n="both",...r}=t;return(0,Ot.jsx)(ty.div,{ref:e,__css:A_[n],...r,position:"absolute"})}));var[E_,C_]=Bt({strict:!1,name:"ButtonGroupContext"});function x_(e){const{children:n,className:r,...i}=e,o=(0,t.isValidElement)(n)?(0,t.cloneElement)(n,{"aria-hidden":!0,focusable:!1}):n,a=Wt("chakra-button__icon",r);return(0,Ot.jsx)(ty.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:a,children:o})}function T_(e){const{label:n,placement:r,spacing:i="0.5rem",children:o=(0,Ot.jsx)(fy,{color:"currentColor",width:"1em",height:"1em"}),className:a,__css:s,...l}=e,c=Wt("chakra-button__spinner",a),u="start"===r?"marginEnd":"marginStart",d=(0,t.useMemo)((()=>({display:"flex",alignItems:"center",position:n?"relative":"absolute",[u]:n?i:0,fontSize:"1em",lineHeight:"normal",...s})),[s,n,u,i]);return(0,Ot.jsx)(ty.div,{className:c,...l,__css:d,children:o})}function I_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach((e=>{!function(t,e){if(null!=t)if("function"!==typeof t)try{t.current=e}catch(n){throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}else t(e)}(e,t)}))}}function k_(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((()=>I_(...n)),n)}x_.displayName="ButtonIcon",T_.displayName="ButtonSpinner";var R_=ry(((e,n)=>{const r=C_(),i=sy("Button",{...r,...e}),{isDisabled:o=(null==r?void 0:r.isDisabled),isLoading:a,isActive:s,children:l,leftIcon:c,rightIcon:u,loadingText:d,iconSpacing:h="0.5rem",type:f,spinner:p,spinnerPlacement:g="start",className:m,as:v,...y}=Bn(e),b=(0,t.useMemo)((()=>{const t={...null==i?void 0:i._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!r&&{_focus:t}}}),[i,r]),{ref:w,type:_}=function(e){const[n,r]=(0,t.useState)(!e),i=(0,t.useCallback)((t=>{t&&r("BUTTON"===t.tagName)}),[]);return{ref:i,type:n?"button":void 0}}(v),A={rightIcon:u,leftIcon:c,iconSpacing:h,children:l};return(0,Ot.jsxs)(ty.button,{ref:k_(n,w),as:v,type:null!=f?f:_,"data-active":qt(s),"data-loading":qt(a),__css:b,className:Wt("chakra-button",m),...y,disabled:o||a,children:[a&&"start"===g&&(0,Ot.jsx)(T_,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:h,children:p}),a?d||(0,Ot.jsx)(ty.span,{opacity:0,children:(0,Ot.jsx)(M_,{...A})}):(0,Ot.jsx)(M_,{...A}),a&&"end"===g&&(0,Ot.jsx)(T_,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:h,children:p})]})}));function M_(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return(0,Ot.jsxs)(Ot.Fragment,{children:[e&&(0,Ot.jsx)(x_,{marginEnd:i,children:e}),r,n&&(0,Ot.jsx)(x_,{marginStart:i,children:n})]})}R_.displayName="Button";var[P_,O_]=Bt({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[D_,N_]=Bt({strict:!1,name:"FormControlContext"});var L_=ry((function(e,n){const r=ly("Form",e),i=Bn(e),{getRootProps:o,htmlProps:a,...s}=function(e){const{id:n,isRequired:r,isInvalid:i,isDisabled:o,isReadOnly:a,...s}=e,l=(0,t.useId)(),c=n||`field-${l}`,u=`${c}-label`,d=`${c}-feedback`,h=`${c}-helptext`,[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),b=(0,t.useCallback)((function(){return{id:h,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:I_(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(t=>{t&&m(!0)}))}}),[h]),w=(0,t.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,"data-focus":qt(v),"data-disabled":qt(o),"data-invalid":qt(i),"data-readonly":qt(a),id:void 0!==t.id?t.id:u,htmlFor:void 0!==t.htmlFor?t.htmlFor:c}}),[c,o,v,i,a,u]),_=(0,t.useCallback)((function(){return{id:d,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ref:I_(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(t=>{t&&p(!0)})),"aria-live":"polite"}}),[d]),A=(0,t.useCallback)((function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},...s,ref:t,role:"group","data-focus":qt(v),"data-disabled":qt(o),"data-invalid":qt(i),"data-readonly":qt(a)}}),[s,o,v,i,a]),S=(0,t.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:e,role:"presentation","aria-hidden":!0,children:t.children||"*"}}),[]);return{isRequired:!!r,isInvalid:!!i,isReadOnly:!!a,isDisabled:!!o,isFocused:!!v,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:g,setHasHelpText:m,id:c,labelId:u,feedbackId:d,helpTextId:h,htmlProps:s,getHelpTextProps:b,getErrorMessageProps:_,getRootProps:A,getLabelProps:w,getRequiredIndicatorProps:S}}(i),l=Wt("chakra-form-control",e.className);return(0,Ot.jsx)(D_,{value:s,children:(0,Ot.jsx)(P_,{value:r,children:(0,Ot.jsx)(ty.div,{...o({},n),className:l,__css:r.container})})})}));L_.displayName="FormControl";var F_=ry((function(t,e){const n=N_(),r=O_(),i=Wt("chakra-form__helper-text",t.className);return(0,Ot.jsx)(ty.div,{...null==n?void 0:n.getHelpTextProps(t,e),__css:r.helperText,className:i})}));function B_(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...o}=function(t){var e,n,r;const i=N_(),{id:o,disabled:a,readOnly:s,required:l,isRequired:c,isInvalid:u,isReadOnly:d,isDisabled:h,onFocus:f,onBlur:p,...g}=t,m=t["aria-describedby"]?[t["aria-describedby"]]:[];(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&m.push(i.feedbackId);(null==i?void 0:i.hasHelpText)&&m.push(i.helpTextId);return{...g,"aria-describedby":m.join(" ")||void 0,id:null!=o?o:null==i?void 0:i.id,isDisabled:null!=(e=null!=a?a:h)?e:null==i?void 0:i.isDisabled,isReadOnly:null!=(n=null!=s?s:d)?n:null==i?void 0:i.isReadOnly,isRequired:null!=(r=null!=l?l:c)?r:null==i?void 0:i.isRequired,isInvalid:null!=u?u:null==i?void 0:i.isInvalid,onFocus:Kt(null==i?void 0:i.onFocus,f),onBlur:Kt(null==i?void 0:i.onBlur,p)}}(t);return{...o,disabled:e,readOnly:r,required:i,"aria-invalid":Yt(n),"aria-required":Yt(i),"aria-readonly":Yt(r)}}F_.displayName="FormHelperText";var j_=ry((function(t,e){const{htmlSize:n,...r}=t,i=ly("Input",r),o=B_(Bn(r)),a=Wt("chakra-input",t.className);return(0,Ot.jsx)(ty.input,{size:n,...o,__css:i.field,ref:e,className:a})}));j_.displayName="Input",j_.id="Input";var z_=t=>(0,Ot.jsx)(ty.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});z_.displayName="StackItem";Object.freeze(["base","sm","md","lg","xl","2xl"]);var V_=ry(((e,n)=>{const{isInline:r,direction:i,align:o,justify:a,spacing:s="0.5rem",wrap:l,children:c,divider:u,className:d,shouldWrapChildren:h,...f}=e,p=r?"row":null!=i?i:"column",g=(0,t.useMemo)((()=>function(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(i=n,o=t=>r[t],Array.isArray(i)?i.map((t=>null===t?null:o(t))):$t(i)?Object.keys(i).reduce(((t,e)=>(t[e]=o(i[e]),t)),{}):null!=i?o(i):null)};var i,o}({spacing:s,direction:p})),[s,p]),m=!!u,v=!h&&!m,y=(0,t.useMemo)((()=>{const e=function(e){return t.Children.toArray(e).filter((e=>(0,t.isValidElement)(e)))}(c);return v?e:e.map(((n,r)=>{const i="undefined"!==typeof n.key?n.key:r,o=r+1===e.length,a=h?(0,Ot.jsx)(z_,{children:n},i):n;if(!m)return a;const s=(0,t.cloneElement)(u,{__css:g}),l=o?null:s;return(0,Ot.jsxs)(t.Fragment,{children:[a,l]},i)}))}),[u,g,m,v,h,c]),b=Wt("chakra-stack",d);return(0,Ot.jsx)(ty.div,{ref:n,display:"flex",alignItems:o,justifyContent:a,flexDirection:p,flexWrap:l,gap:m?void 0:s,className:b,...f,children:y})}));V_.displayName="Stack";var H_=ry((function(t,e){var n;const r=sy("FormLabel",t),i=Bn(t),{className:o,children:a,requiredIndicator:s=(0,Ot.jsx)(U_,{}),optionalIndicator:l=null,...c}=i,u=N_(),d=null!=(n=null==u?void 0:u.getLabelProps(c,e))?n:{ref:e,...c};return(0,Ot.jsxs)(ty.label,{...d,className:Wt("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r},children:[a,(null==u?void 0:u.isRequired)?s:l]})}));H_.displayName="FormLabel";var U_=ry((function(t,e){const n=N_(),r=O_();if(!(null==n?void 0:n.isRequired))return null;const i=Wt("chakra-form__required-indicator",t.className);return(0,Ot.jsx)(ty.span,{...null==n?void 0:n.getRequiredIndicatorProps(t,e),__css:r.requiredIndicator,className:i})}));U_.displayName="RequiredIndicator";var W_=Object.defineProperty,$_=(t,e,n)=>(((t,e,n)=>{e in t?W_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!==typeof e?e+"":e,n),n),G_=new class{constructor(){$_(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return!!t&&this.modals.get(t)===this.modals.size}};function X_(e,n){const[r,i]=(0,t.useState)(0);return(0,t.useEffect)((()=>{const t=e.current;if(t){if(n){const e=G_.add(t);i(e)}return()=>{G_.remove(t),i(0)}}}),[n,e]),r}var q_=function(t){return"undefined"===typeof document?null:(Array.isArray(t)?t[0]:t).ownerDocument.body},Y_=new WeakMap,K_=new WeakMap,Z_={},Q_=0,J_=function(t){return t&&(t.host||J_(t.parentNode))},tA=function(t,e,n,r){var i=function(t,e){return e.map((function(e){if(t.contains(e))return e;var n=J_(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)})).filter((function(t){return Boolean(t)}))}(e,Array.isArray(t)?t:[t]);Z_[n]||(Z_[n]=new WeakMap);var o=Z_[n],a=[],s=new Set,l=new Set(i),c=function(t){t&&!s.has(t)&&(s.add(t),c(t.parentNode))};i.forEach(c);var u=function(t){t&&!l.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(s.has(t))u(t);else try{var e=t.getAttribute(r),i=null!==e&&"false"!==e,l=(Y_.get(t)||0)+1,c=(o.get(t)||0)+1;Y_.set(t,l),o.set(t,c),a.push(t),1===l&&i&&K_.set(t,!0),1===c&&t.setAttribute(n,"true"),i||t.setAttribute(r,"true")}catch(AL){console.error("aria-hidden: cannot operate on ",t,AL)}}))};return u(e),s.clear(),Q_++,function(){a.forEach((function(t){var e=Y_.get(t)-1,i=o.get(t)-1;Y_.set(t,e),o.set(t,i),e||(K_.has(t)||t.removeAttribute(r),K_.delete(t)),i||t.removeAttribute(n)})),--Q_||(Y_=new WeakMap,Y_=new WeakMap,K_=new WeakMap,Z_={})}},eA=function(t,e,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||q_(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),tA(r,i,n,"aria-hidden")):function(){return null}};function nA(e){const{isOpen:n,onClose:r,id:i,closeOnOverlayClick:o=!0,closeOnEsc:a=!0,useInert:s=!0,onOverlayClick:l,onEsc:c}=e,u=(0,t.useRef)(null),d=(0,t.useRef)(null),[h,f,p]=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=(0,t.useId)(),a=e||o;return(0,t.useMemo)((()=>r.map((t=>`${t}-${a}`))),[a,r])}(i,"chakra-modal","chakra-modal--header","chakra-modal--body");!function(e,n){const r=e.current;(0,t.useEffect)((()=>{if(e.current&&n)return eA(e.current)}),[n,e,r])}(u,n&&s);const g=X_(u,n),m=(0,t.useRef)(null),v=(0,t.useCallback)((t=>{m.current=t.target}),[]),y=(0,t.useCallback)((t=>{"Escape"===t.key&&(t.stopPropagation(),a&&(null==r||r()),null==c||c())}),[a,r,c]),[b,w]=(0,t.useState)(!1),[_,A]=(0,t.useState)(!1),S=(0,t.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{role:"dialog",...t,ref:I_(e,u),id:h,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?f:void 0,"aria-describedby":_?p:void 0,onClick:Kt(t.onClick,(t=>t.stopPropagation()))}}),[p,_,h,f,b]),E=(0,t.useCallback)((t=>{t.stopPropagation(),m.current===t.target&&G_.isTopModal(u.current)&&(o&&(null==r||r()),null==l||l())}),[r,o,l]),C=(0,t.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{...t,ref:I_(e,d),onClick:Kt(t.onClick,E),onKeyDown:Kt(t.onKeyDown,y),onMouseDown:Kt(t.onMouseDown,v)}}),[y,v,E]);return{isOpen:n,onClose:r,headerId:f,bodyId:p,setBodyMounted:A,setHeaderMounted:w,dialogRef:u,overlayRef:d,getDialogProps:S,getDialogContainerProps:C,index:g}}var[rA,iA]=Bt({name:"ModalStylesContext",errorMessage:"useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" "}),[oA,aA]=Bt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),sA=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:i,trapFocus:o,initialFocusRef:a,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:h,lockFocusAcrossFrames:f,onCloseComplete:p}=e,g=ly("Modal",e),m={...nA(e),autoFocus:i,trapFocus:o,initialFocusRef:a,finalFocusRef:s,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:u,preserveScrollBarGap:d,motionPreset:h,lockFocusAcrossFrames:f};return(0,Ot.jsx)(oA,{value:m,children:(0,Ot.jsx)(rA,{value:g,children:(0,Ot.jsx)(Ny,{onExitComplete:p,children:m.isOpen&&(0,Ot.jsx)(Uy,{...n,children:r})})})})};sA.displayName="Modal";var lA={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]};var cA={enter:{duration:.2,ease:lA.easeOut},exit:{duration:.1,ease:lA.easeIn}},uA=(t,e)=>({...t,delay:"number"===typeof e?e:null==e?void 0:e.enter}),dA=(t,e)=>({...t,delay:"number"===typeof e?e:null==e?void 0:e.exit}),hA={enter:function(){let{transition:t,transitionEnd:e,delay:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;return{opacity:1,transition:null!=(r=null==t?void 0:t.enter)?r:uA(cA.enter,n),transitionEnd:null==e?void 0:e.enter}},exit:function(){let{transition:t,transitionEnd:e,delay:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;return{opacity:0,transition:null!=(r=null==t?void 0:t.exit)?r:dA(cA.exit,n),transitionEnd:null==e?void 0:e.exit}}},fA={initial:"exit",animate:"enter",exit:"exit",variants:hA},pA=(0,t.forwardRef)((function(t,e){const{unmountOnExit:n,in:r,className:i,transition:o,transitionEnd:a,delay:s,...l}=t,c=r||n?"enter":"exit",u=!n||r&&n,d={transition:o,transitionEnd:a,delay:s};return(0,Ot.jsx)(Ny,{custom:d,children:u&&(0,Ot.jsx)(jv.div,{ref:e,className:Wt("chakra-fade",i),custom:d,...fA,animate:c,...l})})}));pA.displayName="Fade";var gA=ty(jv.div),mA=ry(((t,e)=>{const{className:n,transition:r,motionProps:i,...o}=t,a=Wt("chakra-modal__overlay",n),s={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...iA().overlay},{motionPreset:l}=aA(),c=i||("none"===l?{}:fA);return(0,Ot.jsx)(gA,{...c,__css:s,ref:e,className:a,...o})}));mA.displayName="ModalOverlay";var vA={initial:t=>{let{offsetX:e,offsetY:n,transition:r,transitionEnd:i,delay:o}=t;var a;return{opacity:0,x:e,y:n,transition:null!=(a=null==r?void 0:r.exit)?a:dA(cA.exit,o),transitionEnd:null==i?void 0:i.exit}},enter:t=>{let{transition:e,transitionEnd:n,delay:r}=t;var i;return{opacity:1,x:0,y:0,transition:null!=(i=null==e?void 0:e.enter)?i:uA(cA.enter,r),transitionEnd:null==n?void 0:n.enter}},exit:t=>{let{offsetY:e,offsetX:n,transition:r,transitionEnd:i,reverse:o,delay:a}=t;var s;const l={x:n,y:e};return{opacity:0,transition:null!=(s=null==r?void 0:r.exit)?s:dA(cA.exit,a),...o?{...l,transitionEnd:null==i?void 0:i.exit}:{transitionEnd:{...l,...null==i?void 0:i.exit}}}}},yA={initial:"initial",animate:"enter",exit:"exit",variants:vA},bA=(0,t.forwardRef)((function(t,e){const{unmountOnExit:n,in:r,reverse:i=!0,className:o,offsetX:a=0,offsetY:s=8,transition:l,transitionEnd:c,delay:u,...d}=t,h=!n||r&&n,f=r||n?"enter":"exit",p={offsetX:a,offsetY:s,reverse:i,transition:l,transitionEnd:c,delay:u};return(0,Ot.jsx)(Ny,{custom:p,children:h&&(0,Ot.jsx)(jv.div,{ref:e,className:Wt("chakra-offset-slide",o),custom:p,...yA,animate:f,...d})})}));bA.displayName="SlideFade";var wA={exit:t=>{let{reverse:e,initialScale:n,transition:r,transitionEnd:i,delay:o}=t;var a;return{opacity:0,...e?{scale:n,transitionEnd:null==i?void 0:i.exit}:{transitionEnd:{scale:n,...null==i?void 0:i.exit}},transition:null!=(a=null==r?void 0:r.exit)?a:dA(cA.exit,o)}},enter:t=>{let{transitionEnd:e,transition:n,delay:r}=t;var i;return{opacity:1,scale:1,transition:null!=(i=null==n?void 0:n.enter)?i:uA(cA.enter,r),transitionEnd:null==e?void 0:e.enter}}},_A={initial:"exit",animate:"enter",exit:"exit",variants:wA},AA=(0,t.forwardRef)((function(t,e){const{unmountOnExit:n,in:r,reverse:i=!0,initialScale:o=.95,className:a,transition:s,transitionEnd:l,delay:c,...u}=t,d=!n||r&&n,h=r||n?"enter":"exit",f={initialScale:o,reverse:i,transition:s,transitionEnd:l,delay:c};return(0,Ot.jsx)(Ny,{custom:f,children:d&&(0,Ot.jsx)(jv.div,{ref:e,className:Wt("chakra-offset-slide",a),..._A,animate:h,custom:f,...u})})}));AA.displayName="ScaleFade";var SA={slideInBottom:{...yA,custom:{offsetY:16,reverse:!0}},slideInRight:{...yA,custom:{offsetX:16,reverse:!0}},slideInTop:{...yA,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...yA,custom:{offsetX:-16,reverse:!0}},scale:{..._A,custom:{initialScale:.95,reverse:!0}},none:{}},EA=ty(jv.section),CA=t=>SA[t||"none"],xA=(0,t.forwardRef)(((t,e)=>{const{preset:n,motionProps:r=CA(n),...i}=t;return(0,Ot.jsx)(EA,{ref:e,...r,...i})}));xA.displayName="ModalTransition";var TA="data-focus-lock",IA="data-focus-lock-disabled";function kA(t,e){return"function"===typeof t?t(e):t&&(t.current=e),t}var RA="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,MA=new WeakMap;function PA(e,n){var r=function(e,n){var r=(0,t.useState)((function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(t){var e=r.value;e!==t&&(r.value=t,r.callback(t,e))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(t){return e.forEach((function(e){return kA(e,t)}))}));return RA((function(){var t=MA.get(r);if(t){var n=new Set(t),i=new Set(e),o=r.current;n.forEach((function(t){i.has(t)||kA(t,null)})),i.forEach((function(t){n.has(t)||kA(t,o)}))}MA.set(r,e)}),[e]),r}var OA={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},DA=function(e){var n=e.children,r=void 0===n?null:n;return t.createElement(t.Fragment,null,t.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:OA}),r,r&&t.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:OA}))};DA.propTypes={};var NA=function(){return NA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},NA.apply(this,arguments)};function LA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function FA(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function BA(t){return t}function jA(t,e){void 0===e&&(e=BA);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(t){var i=e(t,r);return n.push(i),function(){n=n.filter((function(t){return t!==i}))}},assignSyncMedium:function(t){for(r=!0;n.length;){var e=n;n=[],e.forEach(t)}n={push:function(e){return t(e)},filter:function(){return n}}},assignMedium:function(t){r=!0;var e=[];if(n.length){var i=n;n=[],i.forEach(t),e=n}var o=function(){var n=e;e=[],n.forEach(t)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(t){e.push(t),a()},filter:function(t){return e=e.filter(t),n}}}};return i}function zA(t,e){return void 0===e&&(e=BA),jA(t,e)}function VA(t){void 0===t&&(t={});var e=jA(null);return e.options=NA({async:!0,ssr:!1},t),e}var HA=zA({},(function(t){return{target:t.target,currentTarget:t.currentTarget}})),UA=zA(),WA=zA(),$A=VA({async:!0,ssr:"undefined"!==typeof document}),GA=(0,t.createContext)(void 0),XA=[],qA=t.forwardRef((function(e,n){var r,i=t.useState(),o=i[0],a=i[1],s=t.useRef(),l=t.useRef(!1),c=t.useRef(null),u=t.useState({})[1],d=e.children,h=e.disabled,f=void 0!==h&&h,p=e.noFocusGuards,g=void 0!==p&&p,m=e.persistentFocus,v=void 0!==m&&m,y=e.crossFrame,b=void 0===y||y,w=e.autoFocus,_=void 0===w||w,A=(e.allowTextSelection,e.group),S=e.className,E=e.whiteList,C=e.hasPositiveIndices,x=e.shards,T=void 0===x?XA:x,I=e.as,k=void 0===I?"div":I,R=e.lockProps,M=void 0===R?{}:R,P=e.sideCar,O=e.returnFocus,D=void 0!==O&&O,N=e.focusOptions,L=e.onActivation,F=e.onDeactivation,B=t.useState({})[0],j=t.useCallback((function(t){var e=t.captureFocusRestore;if(!c.current){var n,r=null==(n=document)?void 0:n.activeElement;c.current=r,r!==document.body&&(c.current=e(r))}s.current&&L&&L(s.current),l.current=!0,u()}),[L]),z=t.useCallback((function(){l.current=!1,F&&F(s.current),u()}),[F]),V=t.useCallback((function(t){var e=c.current;if(e){var n=("function"===typeof e?e():e)||document.body,r="function"===typeof D?D(n):D;if(r){var i="object"===typeof r?r:void 0;c.current=null,t?Promise.resolve().then((function(){return n.focus(i)})):n.focus(i)}}}),[D]),H=t.useCallback((function(t){l.current&&HA.useMedium(t)}),[]),U=UA.useMedium,W=t.useCallback((function(t){s.current!==t&&(s.current=t,a(t))}),[]);var $=ot(((r={})[IA]=f&&"disabled",r[TA]=A,r),M),G=!0!==g,X=G&&"tail"!==g,q=PA([n,W]),Y=t.useMemo((function(){return{observed:s,shards:T,enabled:!f,active:l.current}}),[f,l.current,T,o]);return t.createElement(t.Fragment,null,G&&[t.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:OA}),C?t.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:OA}):null],!f&&t.createElement(P,{id:B,sideCar:$A,observed:o,disabled:f,persistentFocus:v,crossFrame:b,autoFocus:_,whiteList:E,shards:T,onActivation:j,onDeactivation:z,returnFocus:V,focusOptions:N}),t.createElement(k,ot({ref:q},$,{className:S,onBlur:U,onFocus:H}),t.createElement(GA.Provider,{value:Y},d)),X&&t.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:OA}))}));qA.propTypes={};const YA=qA;function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},KA(t,e)}function ZA(t){return ZA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZA(t)}function QA(t){var e=function(t,e){if("object"!=ZA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZA(e)?e:e+""}const JA=function(e,n){return function(r){var i,o=[];function a(){i=e(o.map((function(t){return t.props}))),n(i)}var s=function(e){function n(){return e.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,KA(t,e)}(n,e),n.peek=function(){return i};var s=n.prototype;return s.componentDidMount=function(){o.push(this),a()},s.componentDidUpdate=function(){a()},s.componentWillUnmount=function(){var t=o.indexOf(this);o.splice(t,1),a()},s.render=function(){return t.createElement(r,this.props)},n}(t.PureComponent);return function(t,e,n){(e=QA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(s,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(r)+")"),s}};var tS=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},eS=function(t){return Array.isArray(t)?t:[t]},nS=function(t){return Array.isArray(t)?t[0]:t},rS=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},iS=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},oS=function(t,e){return!t||iS(t)||!function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!(!e||!e.getPropertyValue)&&("none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility"))}(t)&&!function(t){return t.hasAttribute("inert")}(t)&&e(rS(t))},aS=function(t,e){var n=t.get(e);if(void 0!==n)return n;var r=oS(e,aS.bind(void 0,t));return t.set(e,r),r},sS=function(t,e){var n=t.get(e);if(void 0!==n)return n;var r=function(t,e){return!(t&&!iS(t))||!!dS(t)&&e(rS(t))}(e,sS.bind(void 0,t));return t.set(e,r),r},lS=function(t){return t.dataset},cS=function(t){return"INPUT"===t.tagName},uS=function(t){return cS(t)&&"radio"===t.type},dS=function(t){var e=t.getAttribute("data-no-autofocus");return![!0,"true",""].includes(e)},hS=function(t){var e;return Boolean(t&&(null===(e=lS(t))||void 0===e?void 0:e.focusGuard))},fS=function(t){return!hS(t)},pS=function(t){return Boolean(t)},gS=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),i=n-r,o=t.index-e.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},mS=function(t,e,n){return tS(t).map((function(t,e){var r=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex}(t);return{node:t,index:e,tabIndex:n&&-1===r?(t.dataset||{}).focusGuard?0:-1:r}})).filter((function(t){return!e||t.tabIndex>=0})).sort(gS)},vS=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),yS="".concat(vS,", [data-focus-guard]"),bS=function(t,e){return tS((t.shadowRoot||t).children).reduce((function(t,n){return t.concat(n.matches(e?yS:vS)?[n]:[],bS(n))}),[])},wS=function(t,e){return t.reduce((function(t,n){var r,i=bS(n,e),o=(r=[]).concat.apply(r,i.map((function(t){return function(t,e){var n;return t instanceof HTMLIFrameElement&&(null===(n=t.contentDocument)||void 0===n?void 0:n.body)?wS([t.contentDocument.body],e):[t]}(t,e)})));return t.concat(o,n.parentNode?tS(n.parentNode.querySelectorAll(vS)).filter((function(t){return t===n})):[])}),[])},_S=function(t,e){return tS(t).filter((function(t){return aS(e,t)})).filter((function(t){return function(t){return!((cS(t)||function(t){return"BUTTON"===t.tagName}(t))&&("hidden"===t.type||t.disabled))}(t)}))},AS=function(t,e){return void 0===e&&(e=new Map),tS(t).filter((function(t){return sS(e,t)}))},SS=function(t,e,n){return mS(_S(wS(t,n),e),!0,n)},ES=function(t,e){return mS(_S(wS(t),e),!1)},CS=function(t,e){return _S(function(t){var e=t.querySelectorAll("[".concat("data-autofocus-inside","]"));return tS(e).map((function(t){return wS([t])})).reduce((function(t,e){return t.concat(e)}),[])}(t),e)},xS=function(t,e){return t.shadowRoot?xS(t.shadowRoot,e):!(void 0===Object.getPrototypeOf(t).contains||!Object.getPrototypeOf(t).contains.call(t,e))||tS(t.children).some((function(t){var n;if(t instanceof HTMLIFrameElement){var r=null===(n=t.contentDocument)||void 0===n?void 0:n.body;return!!r&&xS(r,e)}return xS(t,e)}))},TS=function(t){if(void 0===t&&(t=document),t&&t.activeElement){var e=t.activeElement;return e.shadowRoot?TS(e.shadowRoot):e instanceof HTMLIFrameElement&&function(t){try{return t()}catch(AL){return}}((function(){return e.contentWindow.document}))?TS(e.contentWindow.document):e}},IS=function(t){return t.parentNode?IS(t.parentNode):t},kS=function(t){return eS(t).filter(Boolean).reduce((function(t,e){var n=e.getAttribute(TA);return t.push.apply(t,n?function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=t[r].compareDocumentPosition(t[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter((function(t,n){return!e.has(n)}))}(tS(IS(e).querySelectorAll("[".concat(TA,'="').concat(n,'"]:not([').concat(IA,'="disabled"])')))):[e]),t}),[])},RS=function(t,e){return void 0===e&&(e=TS(nS(t).ownerDocument)),!(!e||e.dataset&&e.dataset.focusGuard)&&kS(t).some((function(t){return xS(t,e)||function(t,e){return Boolean(tS(t.querySelectorAll("iframe")).some((function(t){return function(t,e){return t===e}(t,e)})))}(t,e)}))},MS=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},PS=function(t,e){return uS(t)&&t.name?function(t,e){return e.filter(uS).filter((function(e){return e.name===t.name})).filter((function(t){return t.checked}))[0]||t}(t,e):t},OS=function(t){return t[0]&&t.length>1?PS(t[0],t):t[0]},DS=function(t,e){return t.indexOf(PS(e,t))},NS="NEW_FOCUS",LS=function(t,e,n,r,i){var o=t.length,a=t[0],s=t[o-1],l=hS(r);if(!(r&&t.indexOf(r)>=0)){var c=void 0!==r?n.indexOf(r):-1,u=i?n.indexOf(i):c,d=i?t.indexOf(i):-1;if(-1===c)return-1!==d?d:NS;if(-1===d)return NS;var h=c-u,f=n.indexOf(a),p=n.indexOf(s),g=function(t){var e=new Set;return t.forEach((function(n){return e.add(PS(n,t))})),t.filter((function(t){return e.has(t)}))}(n),m=(void 0!==r?g.indexOf(r):-1)-(i?g.indexOf(i):c);if(!h&&d>=0)return d;if(0===e.length)return d;var v=DS(t,e[0]),y=DS(t,e[e.length-1]);return c<=f&&l&&Math.abs(h)>1?y:c>=p&&l&&Math.abs(h)>1?v:h&&Math.abs(m)>1?d:c<=f?y:c>p?v:h?Math.abs(h)>1?d:(o+d+h)%o:void 0}},FS=function(t,e,n){var r,i=t.map((function(t){return t.node})),o=AS(i.filter((r=n,function(t){var e,n=null===(e=lS(t))||void 0===e?void 0:e.autofocus;return t.autofocus||void 0!==n&&"false"!==n||r.indexOf(t)>=0})));return o&&o.length?OS(o):OS(AS(e))},BS=function(t,e){return void 0===e&&(e=[]),e.push(t),t.parentNode&&BS(t.parentNode.host||t.parentNode,e),e},jS=function(t,e){for(var n=BS(t),r=BS(e),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},zS=function(t,e,n){var r=eS(t),i=eS(e),o=r[0],a=!1;return i.filter(Boolean).forEach((function(t){a=jS(a||t,t)||a,n.filter(Boolean).forEach((function(t){var e=jS(o,t);e&&(a=!a||xS(e,a)?e:jS(e,a))}))})),a},VS=function(t,e){return t.reduce((function(t,n){return t.concat(CS(n,e))}),[])},HS=function(t,e){var n=TS(eS(t).length>0?document:nS(t).ownerDocument),r=kS(t).filter(fS),i=zS(n||t,t,r),o=new Map,a=ES(r,o),s=a.filter((function(t){var e=t.node;return fS(e)}));if(s[0]){var l=ES([i],o).map((function(t){return t.node})),c=function(t,e){var n=new Map;return e.forEach((function(t){return n.set(t.node,t)})),t.map((function(t){return n.get(t)})).filter(pS)}(l,s),u=c.map((function(t){return t.node})),d=c.filter((function(t){return t.tabIndex>=0})).map((function(t){return t.node})),h=LS(u,d,l,n,e);if(h===NS){var f=FS(a,d,VS(r,o))||FS(a,u,VS(r,o));return f?{node:f}:void console.warn("focus-lock: cannot find any node to move focus into")}return void 0===h?h:c[h]}},US=0,WS=!1,$S=function(t,e,n){void 0===n&&(n={});var r=HS(t,e);if(!WS&&r){if(US>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),WS=!0,void setTimeout((function(){WS=!1}),1);US++,MS(r.node,n.focusOptions),US--}},GS=function(t,e,n){void 0===e&&(e={});var r=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)}(e),i=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=eS(e);if(r.every((function(e){return!xS(e,t)})))return console.error("Active element is not contained in the scope"),{};var i=n?SS(r,new Map):ES(r,new Map),o=i.findIndex((function(e){return e.node===t}));return-1!==o?{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}:void 0}(t,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&MS(o.node,r.focusOptions)}},XS=function(t,e,n){var r,i=function(t,e){var n=e?SS(eS(t),new Map):ES(eS(t),new Map);return{first:n[0],last:n[n.length-1]}}(t,null===(r=e.onlyTabbable)||void 0===r||r)[n];i&&MS(i.node,e.focusOptions)};function qS(t){if(!t)return null;if("undefined"===typeof WeakRef)return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(null===e||void 0===e?void 0:e.deref())||null}}function YS(t){setTimeout(t,1)}var KS=function(t){return t&&"current"in t?t.current:t},ZS=function(){return document&&document.activeElement===document.body||function(t){void 0===t&&(t=document);var e=TS(t);return!!e&&tS(t.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(t){return xS(t,e)}))}()},QS=null,JS=null,tE=null,eE=!1,nE=function(){return!0};function rE(t,e,n,r){var i=null,o=t;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else{if(!a.lockItem)break;if(o!==t)return;i=null}}while((o+=n)!==e);i&&(i.node.tabIndex=0)}var iE=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},oE=function(){var t,e=!1;if(QS){var n=QS,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,s=n.crossFrame,l=n.focusOptions,c=r||tE&&tE.portaledElement,u=document&&document.activeElement;if(c){var d=[c].concat(a.map(KS).filter(Boolean));if(u&&!function(t){return(QS.whiteList||nE)(t)}(u)||(i||(s?Boolean(eE):"meanwhile"===eE)||!ZS()||!JS&&o)&&(c&&!(RS(d)||u&&function(t,e){return e.some((function(e){return iE(t,e,e)}))}(u,d)||(t=u,tE&&tE.portaledElement===t))&&(document&&!JS&&u&&!o?(u.blur&&u.blur(),document.body.focus()):(e=$S(d,JS,{focusOptions:l}),tE={})),eE=!1,JS=document&&document.activeElement),document&&u!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var h=document&&document.activeElement,f=function(t){var e=kS(t).filter(fS),n=zS(t,t,e),r=mS(wS([n],!0),!0,!0),i=wS(e,!1);return r.map((function(t){var e=t.node;return{node:e,index:t.index,lockItem:i.indexOf(e)>=0,guard:hS(e)}}))}(d),p=f.map((function(t){return t.node})).indexOf(h);p>-1&&(f.filter((function(t){var e=t.guard,n=t.node;return e&&n.dataset.focusAutoGuard})).forEach((function(t){return t.node.removeAttribute("tabIndex")})),rE(p,f.length,1,f),rE(p,-1,-1,f))}}}return e},aE=function(t){oE()&&t&&(t.stopPropagation(),t.preventDefault())},sE=function(){return YS(oE)},lE=function(t){var e=t.target,n=t.currentTarget;n.contains(e)||(tE={observerNode:n,portaledElement:e})},cE=function(){eE="just",YS((function(){eE="meanwhile"}))};var uE={moveFocusInside:$S,focusInside:RS,focusNextElement:function(t,e){void 0===e&&(e={}),GS(t,e,(function(t,e){var n=t.next,r=t.first;return n||e&&r}))},focusPrevElement:function(t,e){void 0===e&&(e={}),GS(t,e,(function(t,e){var n=t.prev,r=t.last;return n||e&&r}))},focusFirstElement:function(t,e){void 0===e&&(e={}),XS(t,e,"first")},focusLastElement:function(t,e){void 0===e&&(e={}),XS(t,e,"last")},captureFocusRestore:function(t){var e=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:qS(n),parent:qS(n.parentElement),left:qS(n.previousElementSibling),right:qS(n.nextElementSibling)}),n=n.parentElement;return{element:qS(t),stack:e,ownerDocument:t.ownerDocument}}(t);return function(){return function(t){var e,n,r,i,o;if(t)for(var a=t.stack,s=t.ownerDocument,l=new Map,c=0,u=a;c<u.length;c++){var d=u[c],h=null===(e=d.parent)||void 0===e?void 0:e.call(d);if(h&&s.contains(h)){for(var f=null===(n=d.left)||void 0===n?void 0:n.call(d),p=d.current(),g=h.contains(p)?p:void 0,m=null===(r=d.right)||void 0===r?void 0:r.call(d),v=SS([h],l),y=null!==(o=null!==(i=null!==g&&void 0!==g?g:null===f||void 0===f?void 0:f.nextElementSibling)&&void 0!==i?i:m)&&void 0!==o?o:f;y;){for(var b=0,w=v;b<w.length;b++){var _=w[b];if(null===y||void 0===y?void 0:y.contains(_.node))return _.node}y=y.nextElementSibling}if(v.length)return v[0].node}}}(e)}}};HA.assignSyncMedium(lE),UA.assignMedium(sE),WA.assignMedium((function(t){return t(uE)}));const dE=JA((function(t){return t.filter((function(t){return!t.disabled}))}),(function(t){var e=t.slice(-1)[0];e&&!QS&&(document.addEventListener("focusin",aE),document.addEventListener("focusout",sE),window.addEventListener("blur",cE));var n=QS,r=n&&e&&e.id===n.id;QS=e,n&&!r&&(n.onDeactivation(),t.filter((function(t){return t.id===n.id})).length||n.returnFocus(!e)),e?(JS=null,r&&n.observed===e.observed||e.onActivation(uE),oE(),YS(oE)):(document.removeEventListener("focusin",aE),document.removeEventListener("focusout",sE),window.removeEventListener("blur",cE),JS=null)}))((function(){return null}));var hE=t.forwardRef((function(e,n){return t.createElement(YA,ot({sideCar:dE,ref:n},e))})),fE=YA.propTypes||{};fE.sideCar,function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}}(fE,["sideCar"]);hE.propTypes={};const pE=hE;function gE(t){return null!=t&&"object"==typeof t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}var mE=t=>t.hasAttribute("tabindex");function vE(t){return!(!t.parentElement||!vE(t.parentElement))||t.hidden}function yE(t){if(!function(t){var e;return!!gE(t)&&t instanceof(null!=(e=t.ownerDocument.defaultView)?e:window).HTMLElement}(t)||vE(t)||function(t){return!0===Boolean(t.getAttribute("disabled"))||!0===Boolean(t.getAttribute("aria-disabled"))}(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const n={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in n?n[e]():!!function(t){const e=t.getAttribute("contenteditable");return"false"!==e&&null!=e}(t)||mE(t)}var bE,wE=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join(),_E=t=>t.offsetWidth>0&&t.offsetHeight>0;function AE(t){const e=Array.from(t.querySelectorAll(wE));return e.unshift(t),e.filter((t=>yE(t)&&_E(t)))}var SE=null!=(bE=pE.default)?bE:pE,EE=e=>{const{initialFocusRef:n,finalFocusRef:r,contentRef:i,restoreFocus:o,children:a,isDisabled:s,autoFocus:l,persistentFocus:c,lockFocusAcrossFrames:u}=e,d=(0,t.useCallback)((()=>{if(null==n?void 0:n.current)n.current.focus();else if(null==i?void 0:i.current){0===AE(i.current).length&&requestAnimationFrame((()=>{var t;null==(t=i.current)||t.focus()}))}}),[n,i]),h=(0,t.useCallback)((()=>{var t;null==(t=null==r?void 0:r.current)||t.focus()}),[r]),f=o&&!r;return(0,Ot.jsx)(SE,{crossFrame:u,persistentFocus:c,autoFocus:l,disabled:s,onActivation:d,onDeactivation:h,returnFocus:f,children:a})};EE.displayName="FocusLock";var CE="right-scroll-bar-position",xE="width-before-scroll-bar",TE=VA(),IE=function(){},kE=t.forwardRef((function(e,n){var r=t.useRef(null),i=t.useState({onScrollCapture:IE,onWheelCapture:IE,onTouchMoveCapture:IE}),o=i[0],a=i[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=e.gapMode,w=LA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,A=PA([r,n]),S=NA(NA({},w),o);return t.createElement(t.Fragment,null,d&&t.createElement(_,{sideCar:TE,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:b}),s?t.cloneElement(t.Children.only(l),NA(NA({},S),{ref:A})):t.createElement(y,NA({},S,{className:c,ref:A}),l))}));kE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},kE.classNames={fullWidth:xE,zeroRight:CE};var RE,ME=function(e){var n=e.sideCar,r=LA(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return t.createElement(i,NA({},r))};ME.isSideCarExport=!0;function PE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=RE||__webpack_require__.nc;return e&&t.setAttribute("nonce",e),t}var OE=function(){var t=0,e=null;return{add:function(n){var r;0==t&&(e=PE())&&(!function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}(e,n),r=e,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),t++},remove:function(){! --t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DE=function(){var e=function(){var e=OE();return function(n,r){t.useEffect((function(){return e.add(n),function(){e.remove()}}),[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},NE={left:0,top:0,right:0,gap:0},LE=function(t){return parseInt(t||"",10)||0},FE=function(t){if(void 0===t&&(t="margin"),"undefined"===typeof window)return NE;var e=function(t){var e=window.getComputedStyle(document.body),n=e["padding"===t?"paddingLeft":"marginLeft"],r=e["padding"===t?"paddingTop":"marginTop"],i=e["padding"===t?"paddingRight":"marginRight"];return[LE(n),LE(r),LE(i)]}(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},BE=DE(),jE="data-scroll-locked",zE=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(jE,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(CE," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(xE," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(CE," .").concat(CE," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(xE," .").concat(xE," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(jE,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},VE=function(){var t=parseInt(document.body.getAttribute(jE)||"0",10);return isFinite(t)?t:0},HE=function(e){var n=e.noRelative,r=e.noImportant,i=e.gapMode,o=void 0===i?"margin":i;t.useEffect((function(){return document.body.setAttribute(jE,(VE()+1).toString()),function(){var t=VE()-1;t<=0?document.body.removeAttribute(jE):document.body.setAttribute(jE,t.toString())}}),[]);var a=t.useMemo((function(){return FE(o)}),[o]);return t.createElement(BE,{styles:zE(a,!n,o,r?"":"!important")})},UE=!1;if("undefined"!==typeof window)try{var WE=Object.defineProperty({},"passive",{get:function(){return UE=!0,!0}});window.addEventListener("test",WE,WE),window.removeEventListener("test",WE,WE)}catch(SL){UE=!1}var $E=!!UE&&{passive:!1},GE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return"hidden"!==n[e]&&!(n.overflowY===n.overflowX&&!function(t){return"TEXTAREA"===t.tagName}(t)&&"visible"===n[e])},XE=function(t,e){var n=e.ownerDocument,r=e;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),qE(t,r)){var i=YE(t,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qE=function(t,e){return"v"===t?function(t){return GE(t,"overflowY")}(e):function(t){return GE(t,"overflowX")}(e)},YE=function(t,e){return"v"===t?function(t){return[t.scrollTop,t.scrollHeight,t.clientHeight]}(e):function(t){return[t.scrollLeft,t.scrollWidth,t.clientWidth]}(e)},KE=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ZE=function(t){return[t.deltaX,t.deltaY]},QE=function(t){return t&&"current"in t?t.current:t},JE=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},tC=0,eC=[];function nC(t){for(var e=null;null!==t;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rC=(iC=function(e){var n=t.useRef([]),r=t.useRef([0,0]),i=t.useRef(),o=t.useState(tC++)[0],a=t.useState(DE)[0],s=t.useRef(e);t.useEffect((function(){s.current=e}),[e]),t.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=FA([e.lockRef.current],(e.shards||[]).map(QE),!0).filter(Boolean);return t.forEach((function(t){return t.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(t){return t.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback((function(t,e){if("touches"in t&&2===t.touches.length)return!s.current.allowPinchZoom;var n,o=KE(t),a=r.current,l="deltaX"in t?t.deltaX:a[0]-o[0],c="deltaY"in t?t.deltaY:a[1]-o[1],u=t.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in t&&"h"===d&&"range"===u.type)return!1;var h=XE(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=XE(d,u)),!h)return!1;if(!i.current&&"changedTouches"in t&&(l||c)&&(i.current=n),!n)return!0;var f=i.current||n;return function(t,e,n,r,i){var o=function(t,e){return"h"===t&&"rtl"===e?-1:1}(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,d=0,h=0;do{var f=YE(t,s),p=f[0],g=f[1]-f[2]-o*p;(p||g)&&qE(t,s)&&(d+=g,h+=p),s=s instanceof ShadowRoot?s.host:s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&(i&&Math.abs(d)<1||!i&&a>d)||!u&&(i&&Math.abs(h)<1||!i&&-a>h))&&(c=!0),c}(f,e,t,"h"===f?l:c,!0)}),[]),c=t.useCallback((function(t){var e=t;if(eC.length&&eC[eC.length-1]===a){var r="deltaY"in e?ZE(e):KE(e),i=n.current.filter((function(t){return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.delta,r)}))[0];if(i&&i.should)e.cancelable&&e.preventDefault();else if(!i){var o=(s.current.shards||[]).map(QE).filter(Boolean).filter((function(t){return t.contains(e.target)}));(o.length>0?l(e,o[0]):!s.current.noIsolation)&&e.cancelable&&e.preventDefault()}}}),[]),u=t.useCallback((function(t,e,r,i){var o={name:t,delta:e,target:r,should:i,shadowParent:nC(r)};n.current.push(o),setTimeout((function(){n.current=n.current.filter((function(t){return t!==o}))}),1)}),[]),d=t.useCallback((function(t){r.current=KE(t),i.current=void 0}),[]),h=t.useCallback((function(t){u(t.type,ZE(t),t.target,l(t,e.lockRef.current))}),[]),f=t.useCallback((function(t){u(t.type,KE(t),t.target,l(t,e.lockRef.current))}),[]);t.useEffect((function(){return eC.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,$E),document.addEventListener("touchmove",c,$E),document.addEventListener("touchstart",d,$E),function(){eC=eC.filter((function(t){return t!==a})),document.removeEventListener("wheel",c,$E),document.removeEventListener("touchmove",c,$E),document.removeEventListener("touchstart",d,$E)}}),[]);var p=e.removeScrollBar,g=e.inert;return t.createElement(t.Fragment,null,g?t.createElement(a,{styles:JE(o)}):null,p?t.createElement(HE,{gapMode:e.gapMode}):null)},TE.useMedium(iC),ME);var iC,oC=t.forwardRef((function(e,n){return t.createElement(kE,NA({},e,{ref:n,sideCar:rC}))}));oC.classNames=kE.classNames;const aC=oC;function sC(e){const{autoFocus:n,trapFocus:r,dialogRef:i,initialFocusRef:o,blockScrollOnMount:a,allowPinchZoom:s,finalFocusRef:l,returnFocusOnClose:c,preserveScrollBarGap:u,lockFocusAcrossFrames:d,isOpen:h}=aA(),[f,p]=tu();(0,t.useEffect)((()=>{!f&&p&&setTimeout(p)}),[f,p]);const g=X_(i,h);return(0,Ot.jsx)(EE,{autoFocus:n,isDisabled:!r,initialFocusRef:o,finalFocusRef:l,restoreFocus:c,contentRef:i,lockFocusAcrossFrames:d,children:(0,Ot.jsx)(aC,{removeScrollBar:!u,allowPinchZoom:s,enabled:1===g&&a,forwardProps:!0,children:e.children})})}var lC=ry(((t,e)=>{const{className:n,children:r,containerProps:i,motionProps:o,...a}=t,{getDialogProps:s,getDialogContainerProps:l}=aA(),c=s(a,e),u=l(i),d=Wt("chakra-modal__content",n),h=iA(),f={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...h.dialog},p={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...h.dialogContainer},{motionPreset:g}=aA();return(0,Ot.jsx)(sC,{children:(0,Ot.jsx)(ty.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:p,children:(0,Ot.jsx)(xA,{preset:g,motionProps:o,className:d,...c,__css:f,children:r})})})}));lC.displayName="ModalContent";var cC=ry(((e,n)=>{const{className:r,...i}=e,{headerId:o,setHeaderMounted:a}=aA();(0,t.useEffect)((()=>(a(!0),()=>a(!1))),[a]);const s=Wt("chakra-modal__header",r),l={flex:0,...iA().header};return(0,Ot.jsx)(ty.header,{ref:n,className:s,id:o,...i,__css:l})}));cC.displayName="ModalHeader";var uC=ry(((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:o}=aA(),a=Wt("chakra-modal__close-btn",r),s=iA();return(0,Ot.jsx)(Ey,{ref:e,__css:s.closeButton,className:a,onClick:Kt(n,(t=>{t.stopPropagation(),o()})),...i})}));uC.displayName="ModalCloseButton";var dC=ry(((e,n)=>{const{className:r,...i}=e,{bodyId:o,setBodyMounted:a}=aA();(0,t.useEffect)((()=>(a(!0),()=>a(!1))),[a]);const s=Wt("chakra-modal__body",r),l=iA();return(0,Ot.jsx)(ty.div,{ref:n,className:s,id:o,...i,__css:l.body})}));dC.displayName="ModalBody";var hC=ry(((t,e)=>{const{className:n,...r}=t,i=Wt("chakra-modal__footer",n),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...iA().footer};return(0,Ot.jsx)(ty.footer,{ref:e,...r,__css:o,className:i})}));hC.displayName="ModalFooter";var fC=ry((function(t,e){const{children:n,placeholder:r,className:i,...o}=t;return(0,Ot.jsxs)(ty.select,{...o,ref:e,className:Wt("chakra-select",i),children:[r&&(0,Ot.jsx)("option",{value:"",children:r}),n]})}));fC.displayName="SelectField";var pC=ry(((t,e)=>{var n;const r=ly("Select",t),{rootProps:i,placeholder:o,icon:a,color:s,height:l,h:c,minH:u,minHeight:d,iconColor:h,iconSize:f,...p}=Bn(t),[g,m]=function(t,e){const n={},r={};for(const[i,o]of Object.entries(t))e.includes(i)?n[i]=o:r[i]=o;return[n,r]}(p,Tn),v=B_(m),y={width:"100%",height:"fit-content",position:"relative",color:s},b={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...null==(n=r.field)?void 0:n._focus}};return(0,Ot.jsxs)(ty.div,{className:"chakra-select__wrapper",__css:y,...g,...i,children:[(0,Ot.jsx)(fC,{ref:e,height:null!=c?c:l,minH:null!=u?u:d,placeholder:o,...v,__css:b,children:t.children}),(0,Ot.jsx)(vC,{"data-disabled":qt(v.disabled),...(h||s)&&{color:h||s},__css:r.icon,...f&&{fontSize:f},children:a})]})}));pC.displayName="Select";var gC=t=>(0,Ot.jsx)("svg",{viewBox:"0 0 24 24",...t,children:(0,Ot.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),mC=ty("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),vC=e=>{const{children:n=(0,Ot.jsx)(gC,{}),...r}=e,i=(0,t.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,Ot.jsx)(mC,{...r,className:"chakra-select__icon-wrapper",children:(0,t.isValidElement)(n)?i:null})};vC.displayName="SelectIcon";const yC=t=>{const{nuva:e,setNuvaId:n,setDate:r}=t;return null===e||void 0===e?(0,Ot.jsx)(Ot.Fragment,{}):(0,Ot.jsxs)(v_,{p:4,borderWidth:"1px",borderRadius:"lg",children:[(0,Ot.jsx)(pC,{variant:"outline",placeholder:"Vaccine",onChange:t=>n(t.target.value),children:e.repositories.vaccines.all().map((t=>(0,Ot.jsx)("option",{value:t.code,children:t.name})))}),(0,Ot.jsxs)(L_,{id:"vaccine-date",isRequired:!0,children:[(0,Ot.jsx)(H_,{children:"Vaccination act date"}),(0,Ot.jsx)(j_,{type:"date",onChange:t=>r(t.target.value)})]})]})},bC=t=>{let e;const n=new Set,r=(t,r)=>{const i="function"===typeof t?t(e):t;if(!Object.is(i,e)){const t=e;e=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},e,i),n.forEach((n=>n(e,t)))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>a,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=e=t(r,i,o);return o},wC=t=>t?bC(t):bC;var _C=__webpack_require__(8443);const{useDebugValue:AC}=t,{useSyncExternalStoreWithSelector:SC}=_C;let EC=!1;const CC=t=>t;const xC=t=>{"function"!==typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"===typeof t?wC(t):t,n=(t,n)=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CC,n=arguments.length>2?arguments[2]:void 0;n&&!EC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),EC=!0);const r=SC(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return AC(r),r}(e,t,n);return Object.assign(n,e),n};const TC=(t=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),(t=>t?xC(t):xC)(t)))((t=>({firstName:"",lastName:"",birthdate:"",vaccinationEntries:[],formStatus:{success:!1,error:!1},setFirstName:e=>t({firstName:e}),setLastName:e=>t({lastName:e}),setBirthdate:e=>t({birthdate:e}),addVaccinationEntry:(e,n)=>t((t=>({vaccinationEntries:[...t.vaccinationEntries,{id:Date.now(),nuvaId:e,date:n}]}))),setFormStatus:e=>t({formStatus:e}),resetForm:()=>t({firstName:"",lastName:"",birthdate:"",vaccinationEntries:[],formStatus:{success:!1,error:!1}})}))),IC=TC;var kC=ry(((t,e)=>{var n;const{overflow:r,overflowX:i,className:o,...a}=t;return(0,Ot.jsx)(ty.div,{ref:e,className:Wt("chakra-table__container",o),...a,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=r?r:i)?n:"auto",overflowY:"hidden",maxWidth:"100%"}})})),[RC,MC]=Bt({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),PC=ry(((t,e)=>{const n=ly("Table",t),{className:r,layout:i,...o}=Bn(t);return(0,Ot.jsx)(RC,{value:n,children:(0,Ot.jsx)(ty.table,{ref:e,__css:{tableLayout:i,...n.table},className:Wt("chakra-table",r),...o})})}));PC.displayName="Table";var OC=ry(((t,e)=>{const n=MC();return(0,Ot.jsx)(ty.thead,{...t,ref:e,__css:n.thead})})),DC=ry(((t,e)=>{const n=MC();return(0,Ot.jsx)(ty.tr,{...t,ref:e,__css:n.tr})})),NC=ry(((t,e)=>{let{isNumeric:n,...r}=t;const i=MC();return(0,Ot.jsx)(ty.th,{...r,ref:e,__css:i.th,"data-is-numeric":n})})),LC=ry(((t,e)=>{const n=MC();return(0,Ot.jsx)(ty.tbody,{...t,ref:e,__css:n.tbody})})),FC=ry(((t,e)=>{let{isNumeric:n,...r}=t;const i=MC();return(0,Ot.jsx)(ty.td,{...r,ref:e,__css:i.td,"data-is-numeric":n})}));const BC=t=>{const{entries:e,nuva:n}=t;return null===n||void 0===n?(0,Ot.jsx)(Ot.Fragment,{}):0===e.length?(0,Ot.jsx)(Ot.Fragment,{children:"Empty"}):(0,Ot.jsx)(kC,{children:(0,Ot.jsxs)(PC,{variant:"striped",colorScheme:"blue",size:"sm",children:[(0,Ot.jsx)(OC,{children:(0,Ot.jsxs)(DC,{children:[(0,Ot.jsx)(NC,{children:"Date"}),(0,Ot.jsx)(NC,{children:"Vaccine"})]})}),(0,Ot.jsx)(LC,{children:e.map((t=>(0,Ot.jsx)(jC,{...t,nuva:n},t.id)))})]})})},jC=t=>{const{date:e,nuvaId:n,nuva:r}=t,i=r.repositories.vaccines.all().find((t=>t.code===n));return(0,Ot.jsxs)(DC,{children:[(0,Ot.jsx)(FC,{children:e}),(0,Ot.jsx)(FC,{children:i.name})]})},zC=async(t,e)=>{const n={jsonrpc:"2.0",id:1,method:t,params:e};return(await fetch("https://signer.staging.mesvaccins.pro/jsonrpc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()};var VC={d:(t,e)=>{for(var n in e)VC.o(e,n)&&!VC.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},HC=globalThis.pdfjsLib={};VC.d(HC,{AbortException:()=>eT,AnnotationEditorLayer:()=>QR,AnnotationEditorParamsType:()=>rx,AnnotationEditorType:()=>nx,AnnotationEditorUIManager:()=>nI,AnnotationLayer:()=>zR,AnnotationMode:()=>ex,CMapCompressionType:()=>Lx,ColorPicker:()=>qR,DOMSVGFactory:()=>MT,DrawLayer:()=>JR,FeatureTest:()=>oT,GlobalWorkerOptions:()=>XI,ImageKind:()=>dx,InvalidPDFException:()=>Zx,MissingPDFException:()=>Qx,OPS:()=>Fx,PDFDataRangeTransport:()=>Xk,PDFDateString:()=>HT,PDFWorker:()=>Qk,PasswordResponses:()=>Bx,PermissionFlag:()=>ix,PixelsPerInch:()=>TT,RenderingCancelledException:()=>OT,TextLayer:()=>Fk,UnexpectedResponseException:()=>Jx,Util:()=>sT,VerbosityLevel:()=>Nx,XfaLayer:()=>cR,build:()=>oR,createValidAbsoluteUrl:()=>Gx,fetchData:()=>IT,getDocument:()=>Wk,getFilenameFromUrl:()=>LT,getPdfFilenameFromUrl:()=>FT,getXfaPageViewport:()=>UT,isDataScheme:()=>DT,isPdfFile:()=>NT,noContextMenu:()=>zT,normalizeUnicode:()=>uT,setLayerDimensions:()=>XT,shadow:()=>Xx,version:()=>iR});const UC="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),WC=[1,0,0,1,0,0],$C=[.001,0,0,.001,0,0],GC=1.35,XC=1,qC=2,YC=4,KC=16,ZC=32,QC=64,JC=128,tx=256,ex={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nx={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},rx={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},ix={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ox=0,ax=1,sx=2,lx=3,cx=3,ux=4,dx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},hx=1,fx=2,px=3,gx=4,mx=5,vx=6,yx=7,bx=8,wx=9,_x=10,Ax=11,Sx=12,Ex=13,Cx=14,xx=15,Tx=16,Ix=17,kx=20,Rx=1,Mx=2,Px=3,Ox=4,Dx=5,Nx={ERRORS:0,WARNINGS:1,INFOS:5},Lx={NONE:0,BINARY:1},Fx={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Bx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let jx=Nx.WARNINGS;function zx(t){Number.isInteger(t)&&(jx=t)}function Vx(){return jx}function Hx(t){jx>=Nx.INFOS&&console.log(`Info: ${t}`)}function Ux(t){jx>=Nx.WARNINGS&&console.log(`Warning: ${t}`)}function Wx(t){throw new Error(t)}function $x(t,e){t||Wx(e)}function Gx(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e?.length>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch{}}const r=e?new URL(t,e):new URL(t);if(function(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null}function Xx(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const qx=function(){function t(e,n){this.constructor===t&&Wx("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Yx extends qx{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Kx extends qx{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Zx extends qx{constructor(t){super(t,"InvalidPDFException")}}class Qx extends qx{constructor(t){super(t,"MissingPDFException")}}class Jx extends qx{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class tT extends qx{constructor(t){super(t,"FormatError")}}class eT extends qx{constructor(t){super(t,"AbortException")}}function nT(t){"object"===typeof t&&void 0!==t?.length||Wx("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function rT(t){"string"!==typeof t&&Wx("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function iT(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}class oT{static get isLittleEndian(){return Xx(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return Xx(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Xx(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?Xx(this,"platform",{isMac:navigator.platform.includes("Mac")}):Xx(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Xx(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const aT=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class sT{static makeHexColor(t,e,n){return`#${aT[t]}${aT[e]}${aT[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),i=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,s=Math.sqrt((n+o)**2-4*(n*o-i*r))/2,l=a+s||1,c=a-s||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>o?null:[n,i,r,o]}static#t(t,e,n,r,i,o,a,s,l,c){if(l<=0||l>=1)return;const u=1-l,d=l*l,h=d*l,f=u*(u*(u*t+3*l*e)+3*d*n)+h*r,p=u*(u*(u*i+3*l*o)+3*d*a)+h*s;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}static#e(t,e,n,r,i,o,a,s,l,c,u,d){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#t(t,e,n,r,i,o,a,s,-u/c,d));const h=c**2-4*u*l;if(h<0)return;const f=Math.sqrt(h),p=2*l;this.#t(t,e,n,r,i,o,a,s,(-c+f)/p,d),this.#t(t,e,n,r,i,o,a,s,(-c-f)/p,d)}static bezierBoundingBox(t,e,n,r,i,o,a,s,l){return l?(l[0]=Math.min(l[0],t,a),l[1]=Math.min(l[1],e,s),l[2]=Math.max(l[2],t,a),l[3]=Math.max(l[3],e,s)):l=[Math.min(t,a),Math.min(e,s),Math.max(t,a),Math.max(e,s)],this.#e(t,n,i,a,e,r,o,s,3*(3*(n-i)-t+a),6*(t-2*n+i),3*(n-t),l),this.#e(t,n,i,a,e,r,o,s,3*(3*(r-o)-e+s),6*(e-2*r+o),3*(r-e),l),l}}let lT=null,cT=null;function uT(t){return lT||(lT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,cT=new Map([["\ufb05","\u017ft"]])),t.replaceAll(lT,((t,e,n)=>e?e.normalize("NFKC"):cT.get(n)))}const dT="pdfjs_internal_id_",hT=0,fT=1,pT=2,gT=3,mT=4,vT=5,yT=6,bT=7,wT=8;class _T{constructor(){this.constructor===_T&&Wx("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,i){return"none"}destroy(){}}class AT{#n=!1;constructor(){let{enableHWA:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.constructor===AT&&Wx("Cannot initialize BaseCanvasFactory."),this.#n=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#n})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Wx("Abstract method `_createCanvas` called.")}}class ST{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.constructor===ST&&Wx("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?Lx.BINARY:Lx.NONE;return this._fetchData(n,r).catch((t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(t,e){Wx("Abstract method `_fetchData` called.")}}class ET{constructor(t){let{baseUrl:e=null}=t;this.constructor===ET&&Wx("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch((t=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(t){Wx("Abstract method `_fetchData` called.")}}class CT{constructor(){this.constructor===CT&&Wx("Cannot initialize BaseSVGFactory.")}create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wx("Abstract method `_createSVG` called.")}}const xT="http://www.w3.org/2000/svg";class TT{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function IT(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(jT(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)}))}class kT extends ST{_fetchData(t,e){return IT(t,this.isCompressed?"arraybuffer":"text").then((t=>({cMapData:t instanceof ArrayBuffer?new Uint8Array(t):rT(t),compressionType:e})))}}class RT extends ET{_fetchData(t){return IT(t,"arraybuffer").then((t=>new Uint8Array(t)))}}class MT extends CT{_createSVG(t){return document.createElementNS(xT,t)}}class PT{constructor(t){let{viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:a=!1}=t;this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const s=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,d,h,f,p,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,h=-h),0===c?(f=Math.abs(l-e[1])*n+i,p=Math.abs(s-e[0])*n+o,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(f=Math.abs(s-e[0])*n+i,p=Math.abs(l-e[1])*n+o,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[c*n,u*n,d*n,h*n,f-c*n*s-d*n*l,p-u*n*s-h*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:t}=this;return Xx(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new PT({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(t,e){return sT.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=sT.applyTransform([t[0],t[1]],this.transform),n=sT.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return sT.applyInverseTransform([t,e],this.transform)}}class OT extends qx{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function DT(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function NT(t){return"string"===typeof t&&/\.pdf$/i.test(t)}function LT(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function FT(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(DT(t))return Ux('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||e}class BT{started=(()=>Object.create(null))();times=[];time(t){t in this.started&&Ux(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ux(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:i}of this.times)t.push(`${n.padEnd(e)} ${i-r}ms\n`);return t.join("")}}function jT(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch{return!1}}function zT(t){t.preventDefault()}let VT;class HT{static toDateObject(t){if(!t||"string"!==typeof t)return null;VT||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=VT.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let s=parseInt(e[6],10);s=s>=0&&s<=59?s:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(o+=c,a+=u):"+"===l&&(o-=c,a-=u),new Date(Date.UTC(n,r,i,o,a,s))}}function UT(t,e){let{scale:n=1,rotation:r=0}=e;const{width:i,height:o}=t.attributes.style,a=[0,0,parseInt(i),parseInt(o)];return new PT({viewBox:a,scale:n,rotation:r})}function WT(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(Ux(`Not a valid color format: "${t}"`),[0,0,0])}function $T(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform();return[e,n,r,i,o,a]}function GT(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform().invertSelf();return[e,n,r,i,o,a]}function XT(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof PT){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:o}=t,a=oT.isCSSRoundSupported,s=`var(--scale-factor) * ${r}px`,l=`var(--scale-factor) * ${i}px`,c=a?`round(${s}, 1px)`:`calc(${s})`,u=a?`round(${l}, 1px)`:`calc(${l})`;n&&e.rotation%180!==0?(o.width=u,o.height=c):(o.width=c,o.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class qT{#r=null;#i=null;#o;#a=null;constructor(t){this.#o=t}render(){const t=this.#r=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#o._uiManager._signal;t.addEventListener("contextmenu",zT,{signal:e}),t.addEventListener("pointerdown",qT.#s,{signal:e});const n=this.#a=document.createElement("div");n.className="buttons",t.append(n);const r=this.#o.toolbarPosition;if(r){const{style:e}=t,n="ltr"===this.#o._uiManager.direction?1-r[0]:r[0];e.insetInlineEnd=100*n+"%",e.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#l(),t}static#s(t){t.stopPropagation()}#c(t){this.#o._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#u(t){this.#o._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#d(t){const e=this.#o._uiManager._signal;t.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",zT,{signal:e})}hide(){this.#r.classList.add("hidden"),this.#i?.hideDropdown()}show(){this.#r.classList.remove("hidden")}#l(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#o.editorType}-button`),this.#d(t),t.addEventListener("click",(t=>{this.#o._uiManager.delete()}),{signal:this.#o._uiManager._signal}),this.#a.append(t)}get#h(){const t=document.createElement("div");return t.className="divider",t}addAltTextButton(t){this.#d(t),this.#a.prepend(t,this.#h)}addColorPicker(t){this.#i=t;const e=t.renderButton();this.#d(e),this.#a.prepend(e,this.#h)}remove(){this.#r.remove(),this.#i?.destroy(),this.#i=null}}class YT{#a=null;#r=null;#f;constructor(t){this.#f=t}#p(){const t=this.#r=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",zT,{signal:this.#f._signal});const e=this.#a=document.createElement("div");return e.className="buttons",t.append(e),this.#g(),t}#m(t,e){let n=0,r=0;for(const i of t){const t=i.y+i.height;if(t<n)continue;const o=i.x+(e?i.width:0);t>n?(r=o,n=t):e?o>r&&(r=o):o<r&&(r=o)}return[e?1-r:r,n]}show(t,e,n){const[r,i]=this.#m(e,n),{style:o}=this.#r||=this.#p();t.append(this.#r),o.insetInlineEnd=100*r+"%",o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){this.#r.remove()}#g(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#f._signal;t.addEventListener("contextmenu",zT,{signal:n}),t.addEventListener("click",(()=>{this.#f.highlightSelection("floating_button")}),{signal:n}),this.#a.append(t)}}function KT(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class ZT{#v=0;get id(){return"pdfjs_internal_editor_"+this.#v++}}class QT{#y=(()=>function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(255*Math.random());return nT(t)}())();#v=0;#b=null;static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Xx(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async#w(t,e){this.#b||=new Map;let n=this.#b.get(t);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let t;if(n||={bitmap:null,id:`image_${this.#y}_${this.#v++}`,refCounter:0,isSvg:!1},"string"===typeof e?(n.url=e,t=await IT(e,"blob")):t=n.file=e,"image/svg+xml"===t.type){const e=QT._isSVGFittingCanvas,r=new FileReader,i=new Image,o=new Promise(((t,o)=>{i.onload=()=>{n.bitmap=i,n.isSvg=!0,t()},r.onload=async()=>{const t=n.svgUrl=r.result;i.src=await e?`${t}#svgView(preserveAspectRatio(none))`:t},i.onerror=r.onerror=o}));r.readAsDataURL(t),await o}else n.bitmap=await createImageBitmap(t);n.refCounter=1}catch(AL){console.error(AL),n=null}return this.#b.set(t,n),n&&this.#b.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:i}=t;return this.#w(`${e}_${n}_${r}_${i}`,t)}async getFromUrl(t){return this.#w(t,t)}async getFromId(t){this.#b||=new Map;const e=this.#b.get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=this.#b.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#b||=new Map;const e=this.#b.get(t);e&&(e.refCounter-=1,0===e.refCounter&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${this.#y}_`)}}class JT{#_=[];#A=!1;#S;#E=-1;constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#S=t}add(t){let{cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}=t;if(i&&e(),this.#A)return;const l={cmd:e,undo:n,post:r,type:o};if(-1===this.#E)return this.#_.length>0&&(this.#_.length=0),this.#E=0,void this.#_.push(l);if(a&&this.#_[this.#E].type===o)return s&&(l.undo=this.#_[this.#E].undo),void(this.#_[this.#E]=l);const c=this.#E+1;c===this.#S?this.#_.splice(0,1):(this.#E=c,c<this.#_.length&&this.#_.splice(c)),this.#_.push(l)}undo(){if(-1===this.#E)return;this.#A=!0;const{undo:t,post:e}=this.#_[this.#E];t(),e?.(),this.#A=!1,this.#E-=1}redo(){if(this.#E<this.#_.length-1){this.#E+=1,this.#A=!0;const{cmd:t,post:e}=this.#_[this.#E];t(),e?.(),this.#A=!1}}hasSomethingToUndo(){return-1!==this.#E}hasSomethingToRedo(){return this.#E<this.#_.length-1}destroy(){this.#_=null}}class tI{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=oT.platform;for(const[n,r,i={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:r,options:i}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:r,options:i}),this.allKeys.add(t.split("+").at(-1)))}}#C(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#C(e));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:a=null}}=n;a&&!a(t,e)||(r.bind(t,...o,e)(),i||(e.stopPropagation(),e.preventDefault()))}}class eI{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,WT(r))}e.remove()}(t),Xx(this,"_colors",t)}convert(t){const e=WT(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every(((t,n)=>t===e[n])))return eI._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?sT.makeHexColor(...e):t}}class nI{#x=(()=>new AbortController)();#T=null;#I=(()=>new Map)();#k=(()=>new Map)();#R=null;#M=null;#P=null;#O=(()=>new JT)();#D=0;#N=(()=>new Set)();#L=null;#F=null;#B=(()=>new Set)();#j=!1;#z=!1;#V=null;#H=null;#U=null;#W=!1;#$=null;#G=(()=>new ZT)();#X=!1;#q=!1;#Y=null;#K=null;#Z=null;#Q=(()=>nx.NONE)();#J=(()=>new Set)();#tt=null;#et=null;#nt=null;#rt=this.blur.bind(this);#it=this.focus.bind(this);#ot=this.copy.bind(this);#at=this.cut.bind(this);#st=this.paste.bind(this);#lt=this.keydown.bind(this);#ct=this.keyup.bind(this);#ut=this.onEditingAction.bind(this);#dt=this.onPageChanging.bind(this);#ht=this.onScaleChanging.bind(this);#ft=this.onRotationChanging.bind(this);#pt={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#gt=[0,0];#mt=null;#vt=null;#yt=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=nI.prototype,e=t=>t.#vt.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Xx(this,"_keyboardManager",new tI([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&t.#vt.contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&t.#vt.contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}]]))}constructor(t,e,n,r,i,o,a,s,l,c){this._signal=this.#x.signal,this.#vt=t,this.#yt=e,this.#R=n,this._eventBus=r,this._eventBus._on("editingaction",this.#ut),this._eventBus._on("pagechanging",this.#dt),this._eventBus._on("scalechanging",this.#ht),this._eventBus._on("rotationchanging",this.#ft),this.#bt(),this.#wt(),this.#_t(),this.#M=i.annotationStorage,this.#V=i.filterFactory,this.#et=o,this.#U=a||null,this.#j=s,this.#z=l,this.#Z=c||null,this.viewParameters={realScale:TT.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#x?.abort(),this.#x=null,this._signal=null,this._eventBus._off("editingaction",this.#ut),this._eventBus._off("pagechanging",this.#dt),this._eventBus._off("scalechanging",this.#ht),this._eventBus._off("rotationchanging",this.#ft);for(const t of this.#k.values())t.destroy();this.#k.clear(),this.#I.clear(),this.#B.clear(),this.#T=null,this.#J.clear(),this.#O.destroy(),this.#R?.destroy(),this.#$?.hide(),this.#$=null,this.#H&&(clearTimeout(this.#H),this.#H=null),this.#mt&&(clearTimeout(this.#mt),this.#mt=null)}async mlGuess(t){return this.#Z?.guess(t)||null}async isMLEnabledFor(t){return!!await(this.#Z?.isEnabledFor(t))}get useNewAltTextFlow(){return this.#z}get hcmFilter(){return Xx(this,"hcmFilter",this.#et?this.#V.addHCMFilter(this.#et.foreground,this.#et.background):"none")}get direction(){return Xx(this,"direction",getComputedStyle(this.#vt).direction)}get highlightColors(){return Xx(this,"highlightColors",this.#U?new Map(this.#U.split(",").map((t=>t.split("=").map((t=>t.trim()))))):null)}get highlightColorNames(){return Xx(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}setMainHighlightColorPicker(t){this.#K=t}editAltText(t){this.#R?.editAltText(this,t)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onPageChanging(t){let{pageNumber:e}=t;this.#D=e-1}focusMainContainer(){this.#vt.focus()}findParent(t,e){for(const n of this.#k.values()){const{x:r,y:i,width:o,height:a}=n.div.getBoundingClientRect();if(t>=r&&t<=r+o&&e>=i&&e<=i+a)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#yt.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#B.add(t)}removeShouldRescale(t){this.#B.delete(t)}onScaleChanging(t){let{scale:e}=t;this.commitOrRemove(),this.viewParameters.realScale=e*TT.PDF_TO_CSS_UNITS;for(const n of this.#B)n.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}#At(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#St(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#k.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=e,a=e.toString(),s=this.#At(e).closest(".textLayer"),l=this.getSelectionBoxes(s);if(!l)return;e.empty();const c=this.#St(s),u=this.#Q===nx.NONE,d=()=>{c?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:l,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o,text:a}),u&&this.showAllEditors("highlight",!0,!0)};u?this.switchToMode(nx.HIGHLIGHT,d):d()}#Et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=this.#At(t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(this.#$||=new YT(this),this.#$.show(e,n,"ltr"===this.direction))}addToAnnotationStorage(t){t.isEmpty()||!this.#M||this.#M.has(t.id)||this.#M.setValue(t.id,t)}#Ct(){const t=document.getSelection();if(!t||t.isCollapsed)return void(this.#tt&&(this.#$?.hide(),this.#tt=null,this.#xt({hasSelectedText:!1})));const{anchorNode:e}=t;if(e===this.#tt)return;const n=this.#At(t).closest(".textLayer");if(n){if(this.#$?.hide(),this.#tt=e,this.#xt({hasSelectedText:!0}),(this.#Q===nx.HIGHLIGHT||this.#Q===nx.NONE)&&(this.#Q===nx.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#W=this.isShiftKeyDown,!this.isShiftKeyDown)){const t=this.#Q===nx.HIGHLIGHT?this.#St(n):null;t?.toggleDrawing();const e=this._signal,r=e=>{"pointerup"===e.type&&0!==e.button||(t?.toggleDrawing(!0),window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),"pointerup"===e.type&&this.#Tt("main_toolbar"))};window.addEventListener("pointerup",r,{signal:e}),window.addEventListener("blur",r,{signal:e})}}else this.#tt&&(this.#$?.hide(),this.#tt=null,this.#xt({hasSelectedText:!1}))}#Tt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#Q===nx.HIGHLIGHT?this.highlightSelection(t):this.#j&&this.#Et()}#bt(){document.addEventListener("selectionchange",this.#Ct.bind(this),{signal:this._signal})}#It(){const t=this._signal;window.addEventListener("focus",this.#it,{signal:t}),window.addEventListener("blur",this.#rt,{signal:t})}#kt(){window.removeEventListener("focus",this.#it),window.removeEventListener("blur",this.#rt)}blur(){if(this.isShiftKeyDown=!1,this.#W&&(this.#W=!1,this.#Tt("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#J)if(e.div.contains(t)){this.#Y=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#Y)return;const[t,e]=this.#Y;this.#Y=null,e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),e.focus()}#_t(){const t=this._signal;window.addEventListener("keydown",this.#lt,{signal:t}),window.addEventListener("keyup",this.#ct,{signal:t})}#Rt(){window.removeEventListener("keydown",this.#lt),window.removeEventListener("keyup",this.#ct)}#Mt(){const t=this._signal;document.addEventListener("copy",this.#ot,{signal:t}),document.addEventListener("cut",this.#at,{signal:t}),document.addEventListener("paste",this.#st,{signal:t})}#Pt(){document.removeEventListener("copy",this.#ot),document.removeEventListener("cut",this.#at),document.removeEventListener("paste",this.#st)}#wt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#_t(),this.#Mt()}removeEditListeners(){this.#Rt(),this.#Pt()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#F)if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#F)if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){if(t.preventDefault(),this.#T?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#J){const t=n.serialize(!0);t&&e.push(t)}0!==e.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const t of this.#F)if(t.isHandlingMimeForPasting(o.type))return void t.paste(o,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void Ux(`paste: "${i.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const t=[];for(const o of n){const e=r.deserialize(o);if(!e)return;t.push(e)}const e=()=>{for(const e of t)this.#Ot(e);this.#Dt(t)},i=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:i,mustExec:!0})}catch(i){Ux(`paste: "${i.message}".`)}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),this.#Q===nx.NONE||this.isEditorHandlingKeyboard||nI._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,this.#W&&(this.#W=!1,this.#Tt("main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#xt(t){const e=Object.entries(t).some((t=>{let[e,n]=t;return this.#pt[e]!==n}));e&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#pt,t)}),this.#Q===nx.HIGHLIGHT&&!1===t.hasSelectedEditor&&this.#Nt([[rx.HIGHLIGHT_FREE,!0]]))}#Nt(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#It(),this.#Mt(),this.#xt({isEditing:this.#Q!==nx.NONE,isEmpty:this.#Lt(),hasSomethingToUndo:this.#O.hasSomethingToUndo(),hasSomethingToRedo:this.#O.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#kt(),this.#Pt(),this.#xt({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#F){this.#F=t;for(const t of this.#F)this.#Nt(t.defaultPropertiesToUpdate)}}getId(){return this.#G.id}get currentLayer(){return this.#k.get(this.#D)}getLayer(t){return this.#k.get(t)}get currentPageIndex(){return this.#D}addLayer(t){this.#k.set(t.pageIndex,t),this.#X?t.enable():t.disable()}removeLayer(t){this.#k.delete(t.pageIndex)}updateMode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#Q!==t){if(this.#Q=t,t===nx.NONE)return this.setEditingState(!1),void this.#Ft();this.setEditingState(!0),this.#Bt(),this.unselectAll();for(const e of this.#k.values())e.updateMode(t);if(e||!n){if(e)for(const t of this.#I.values())if(t.annotationElementId===e){this.setSelected(t),t.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#Q&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){if(this.#F){switch(t){case rx.CREATE:return void this.currentLayer.addNewEditor();case rx.HIGHLIGHT_DEFAULT_COLOR:this.#K?.updateColor(e);break;case rx.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#nt||=new Map).set(t,e),this.showAllEditors("highlight",e)}for(const n of this.#J)n.updateParams(t,e);for(const n of this.#F)n.updateDefaultParams(t,e)}}showAllEditors(t,e){for(const n of this.#I.values())n.editorType===t&&n.show(e);(this.#nt?.get(rx.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#Nt([[rx.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#q!==t){this.#q=t;for(const e of this.#k.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}#Bt(){if(!this.#X){this.#X=!0;for(const t of this.#k.values())t.enable();for(const t of this.#I.values())t.enable()}}#Ft(){if(this.unselectAll(),this.#X){this.#X=!1;for(const t of this.#k.values())t.disable();for(const t of this.#I.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#I.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#I.get(t)}addEditor(t){this.#I.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#H&&clearTimeout(this.#H),this.#H=setTimeout((()=>{this.focusMainContainer(),this.#H=null}),0)),this.#I.delete(t.id),this.unselect(t),t.annotationElementId&&this.#N.has(t.annotationElementId)||this.#M?.remove(t.id)}addDeletedAnnotationElement(t){this.#N.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#N.has(t)}removeDeletedAnnotationElement(t){this.#N.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#Ot(t){const e=this.#k.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#T!==t&&(this.#T=t,t&&this.#Nt(t.propertiesToUpdate))}get#jt(){let t=null;for(t of this.#J);return t}updateUI(t){this.#jt===t&&this.#Nt(t.propertiesToUpdate)}toggleSelected(t){if(this.#J.has(t))return this.#J.delete(t),t.unselect(),void this.#xt({hasSelectedEditor:this.hasSelection});this.#J.add(t),t.select(),this.#Nt(t.propertiesToUpdate),this.#xt({hasSelectedEditor:!0})}setSelected(t){for(const e of this.#J)e!==t&&e.unselect();this.#J.clear(),this.#J.add(t),t.select(),this.#Nt(t.propertiesToUpdate),this.#xt({hasSelectedEditor:!0})}isSelected(t){return this.#J.has(t)}get firstSelectedEditor(){return this.#J.values().next().value}unselect(t){t.unselect(),this.#J.delete(t),this.#xt({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#J.size}get isEnterHandled(){return 1===this.#J.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#O.undo(),this.#xt({hasSomethingToUndo:this.#O.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Lt()})}redo(){this.#O.redo(),this.#xt({hasSomethingToUndo:!0,hasSomethingToRedo:this.#O.hasSomethingToRedo(),isEmpty:this.#Lt()})}addCommands(t){this.#O.add(t),this.#xt({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Lt()})}#Lt(){if(0===this.#I.size)return!0;if(1===this.#I.size)for(const t of this.#I.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#J];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)this.#Ot(e)},mustExec:!0})}commitOrRemove(){this.#T?.commitOrRemove()}hasSomethingToControl(){return this.#T||this.hasSelection}#Dt(t){for(const e of this.#J)e.unselect();this.#J.clear();for(const e of t)e.isEmpty()||(this.#J.add(e),e.select());this.#xt({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#J)t.commit();this.#Dt(this.#I.values())}unselectAll(){if((!this.#T||(this.#T.commitOrRemove(),this.#Q===nx.NONE))&&this.hasSelection){for(const t of this.#J)t.unselect();this.#J.clear(),this.#xt({hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#gt[0]+=t,this.#gt[1]+=e;const[n,r]=this.#gt,i=[...this.#J];this.#mt&&clearTimeout(this.#mt),this.#mt=setTimeout((()=>{this.#mt=null,this.#gt[0]=this.#gt[1]=0,this.addCommands({cmd:()=>{for(const t of i)this.#I.has(t.id)&&t.translateInPage(n,r)},undo:()=>{for(const t of i)this.#I.has(t.id)&&t.translateInPage(-n,-r)},mustExec:!1})}),1e3);for(const o of i)o.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#L=new Map;for(const t of this.#J)this.#L.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#L)return!1;this.disableUserSelect(!1);const t=this.#L;this.#L=null;let e=!1;for(const[{x:r,y:i,pageIndex:o},a]of t)a.newX=r,a.newY=i,a.newPageIndex=o,e||=r!==a.savedX||i!==a.savedY||o!==a.savedPageIndex;if(!e)return!1;const n=(t,e,n,r)=>{if(this.#I.has(t.id)){const i=this.#k.get(r);i?t._setParentAndPosition(i,e,n):(t.pageIndex=r,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:r,newY:i,newPageIndex:o}]of t)n(e,r,i,o)},undo:()=>{for(const[e,{savedX:r,savedY:i,savedPageIndex:o}]of t)n(e,r,i,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#L)for(const n of this.#L.keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#J.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#T===t}getActive(){return this.#T}getMode(){return this.#Q}get imageManager(){return Xx(this,"imageManager",new QT)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(t,e,a,s)=>({x:(e-r)/o,y:1-(t+a-n)/i,width:s/o,height:a/i});break;case"180":a=(t,e,a,s)=>({x:1-(t+a-n)/i,y:1-(e+s-r)/o,width:a/i,height:s/o});break;case"270":a=(t,e,a,s)=>({x:1-(e+s-r)/o,y:(t-n)/i,width:s/o,height:a/i});break;default:a=(t,e,a,s)=>({x:(t-n)/i,y:(e-r)/o,width:a/i,height:s/o})}const s=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:r,height:i}of t.getClientRects())0!==r&&0!==i&&s.push(a(e,n,r,i))}return 0===s.length?null:s}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(this.#P||=new Map).set(e,n)}removeChangedExistingAnnotation(t){let{annotationElementId:e}=t;this.#P?.delete(e)}renderAnnotationElement(t){const e=this.#P?.get(t.data.id);if(!e)return;const n=this.#M.getRawValue(e);n&&(this.#Q!==nx.NONE||n.hasBeenModified)&&n.renderAnnotationElement(t)}}class rI{#zt="";#Vt=!1;#Ht=null;#Ut=null;#Wt=null;#$t=!1;#o=null;static _l10nPromise=null;constructor(t){this.#o=t}static initialize(t){rI._l10nPromise||=t}async render(){const t=this.#Ht=document.createElement("button");t.className="altText";const e=await rI._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0";const n=this.#o._uiManager._signal;t.addEventListener("contextmenu",zT,{signal:n}),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const r=t=>{t.preventDefault(),this.#o._uiManager.editAltText(this.#o)};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(this.#$t=!0,r(e))}),{signal:n}),await this.#Gt(),t}finish(){this.#Ht&&(this.#Ht.focus({focusVisible:this.#$t}),this.#$t=!1)}isEmpty(){return!this.#zt&&!this.#Vt}get data(){return{altText:this.#zt,decorative:this.#Vt}}set data(t){let{altText:e,decorative:n}=t;this.#zt===e&&this.#Vt===n||(this.#zt=e,this.#Vt=n,this.#Gt())}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ht&&(!t&&this.#Wt&&(clearTimeout(this.#Wt),this.#Wt=null),this.#Ht.disabled=!t)}destroy(){this.#Ht?.remove(),this.#Ht=null,this.#Ut=null}async#Gt(){const t=this.#Ht;if(!t)return;if(!this.#zt&&!this.#Vt)return t.classList.remove("done"),void this.#Ut?.remove();t.classList.add("done"),rI._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((e=>{t.setAttribute("aria-label",e)}));let e=this.#Ut;if(!e){this.#Ut=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");const n=e.id=`alt-text-tooltip-${this.#o.id}`;t.setAttribute("aria-describedby",n);const r=100,i=this.#o._uiManager._signal;i.addEventListener("abort",(()=>{clearTimeout(this.#Wt),this.#Wt=null}),{once:!0}),t.addEventListener("mouseenter",(()=>{this.#Wt=setTimeout((()=>{this.#Wt=null,this.#Ut.classList.add("show"),this.#o._reportTelemetry({action:"alt_text_tooltip"})}),r)}),{signal:i}),t.addEventListener("mouseleave",(()=>{this.#Wt&&(clearTimeout(this.#Wt),this.#Wt=null),this.#Ut?.classList.remove("show")}),{signal:i})}e.innerText=this.#Vt?await rI._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#zt,e.parentNode||t.append(e);const n=this.#o.getImageForAltText();n?.setAttribute("aria-describedby",e.id)}}class iI{#Xt=null;#qt=null;#zt=null;#Yt=!1;#Kt=!1;#Zt=null;#Qt=null;#Jt=this.focusin.bind(this);#te=this.focusout.bind(this);#ee=null;#ne="";#re=!1;#ie=null;#oe=!1;#ae=!1;#se=!1;#le=null;#ce=0;#ue=0;#de=null;_initialOptions=(()=>Object.create(null))();_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#he=!1;#fe=(()=>iI._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new eI)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=iI.prototype._resizeWithKeyboard,e=nI.TRANSLATE_SMALL,n=nI.TRANSLATE_BIG;return Xx(this,"_resizerKeyboardManager",new tI([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],iI.prototype._stopResizingWithKeyboard]]))}constructor(t){this.constructor===iI&&Wx("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,o];const[a,s]=this.parentDimensions;this.x=t.x/a,this.y=t.y/s,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Xx(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new oI({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if(iI._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((e=>[e,t.get(e.replaceAll(/([A-Z])/g,(t=>`-${t.toLowerCase()}`)))]))),n?.strings)for(const i of n.strings)iI._l10nPromise.set(i,t.get(i));if(-1!==iI._borderLineWidth)return;const r=getComputedStyle(document.documentElement);iI._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Wx("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#he}set _isDraggable(t){this.#he=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#fe}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#pe(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#re?this.#re=!1:this.parent.setSelected(this))}focusout(t){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const e=t.relatedTarget;e?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[i,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/i,this.y=(e+r)/o,this.fixAndSetPosition()}#ge(t,e,n){let[r,i]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/r,this.y+=n/i,this.fixAndSetPosition()}translate(t,e){this.#ge(this.parentDimensions,t,e)}translateInPage(t,e){this.#ie||=[this.x,this.y],this.#ge(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){this.#ie||=[this.x,this.y];const[n,r]=this.parentDimensions;if(this.x+=t/n,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;const[a,s]=this.getBaseTranslation();i+=a,o+=s,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#ie&&(this.#ie[0]!==this.x||this.#ie[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=iI,r=n/t,i=n/e;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[e,n]=this.pageDimensions;let{x:r,y:i,width:o,height:a}=this;if(o*=e,a*=n,r*=e,i*=n,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-o,r)),i=Math.max(0,Math.min(n-a,i));break;case 90:r=Math.max(0,Math.min(e-a,r)),i=Math.min(n,Math.max(o,i));break;case 180:r=Math.min(e,Math.max(o,r)),i=Math.min(n,Math.max(a,i));break;case 270:r=Math.min(e,Math.max(a,r)),i=Math.max(0,Math.min(n-o,i))}this.x=r/=e,this.y=i/=n;const[s,l]=this.getBaseTranslation();r+=s,i+=l;const{style:c}=this.div;c.left=`${(100*r).toFixed(2)}%`,c.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#me(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return iI.#me(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return iI.#me(t,e,360-this.parentRotation)}#ve(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,r=e*t,i=n*t;return oT.isCSSRoundSupported?[Math.round(r),Math.round(i)]:[r,i]}setDims(t,e){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,this.#Kt||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),i=!this.#Kt&&e.endsWith("%");if(r&&i)return;const[o,a]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),this.#Kt||i||(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#ye(){if(this.#Zt)return;this.#Zt=document.createElement("div"),this.#Zt.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");this.#Zt.append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",this.#be.bind(this,n),{signal:e}),t.addEventListener("contextmenu",zT,{signal:e}),t.tabIndex=-1}this.div.prepend(this.#Zt)}#be(t,e){e.preventDefault();const{isMac:n}=oT.platform;if(0!==e.button||e.ctrlKey&&n)return;this.#zt?.toggle(!1);const r=this.#we.bind(this,t),i=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a),window.addEventListener("contextmenu",zT,{signal:o});const s=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{this.parent.togglePointerEvents(!0),this.#zt?.toggle(!0),this._isDraggable=i,window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),window.removeEventListener("pointermove",r,a),window.removeEventListener("contextmenu",zT),this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#_e(s,l,c,u)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})}#_e(t,e,n,r){const i=this.x,o=this.y,a=this.width,s=this.height;i===t&&o===e&&a===n&&s===r||this.addCommands({cmd:()=>{this.width=a,this.height=s,this.x=i,this.y=o;const[t,e]=this.parentDimensions;this.setDims(t*a,e*s),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=t,this.y=e;const[i,o]=this.parentDimensions;this.setDims(i*n,o*r),this.fixAndSetPosition()},mustExec:!0})}#we(t,e){const[n,r]=this.parentDimensions,i=this.x,o=this.y,a=this.width,s=this.height,l=iI.MIN_SIZE/n,c=iI.MIN_SIZE/r,u=t=>Math.round(1e4*t)/1e4,d=this.#ve(this.rotation),h=(t,e)=>[d[0]*t+d[2]*e,d[1]*t+d[3]*e],f=this.#ve(360-this.rotation);let p,g,m=!1,v=!1;switch(t){case"topLeft":m=!0,p=(t,e)=>[0,0],g=(t,e)=>[t,e];break;case"topMiddle":p=(t,e)=>[t/2,0],g=(t,e)=>[t/2,e];break;case"topRight":m=!0,p=(t,e)=>[t,0],g=(t,e)=>[0,e];break;case"middleRight":v=!0,p=(t,e)=>[t,e/2],g=(t,e)=>[0,e/2];break;case"bottomRight":m=!0,p=(t,e)=>[t,e],g=(t,e)=>[0,0];break;case"bottomMiddle":p=(t,e)=>[t/2,e],g=(t,e)=>[t/2,0];break;case"bottomLeft":m=!0,p=(t,e)=>[0,e],g=(t,e)=>[t,0];break;case"middleLeft":v=!0,p=(t,e)=>[0,e/2],g=(t,e)=>[t,e/2]}const y=p(a,s),b=g(a,s);let w=h(...b);const _=u(i+w[0]),A=u(o+w[1]);let S=1,E=1,[C,x]=this.screenToPageTranslation(e.movementX,e.movementY);if([C,x]=((t,e)=>[f[0]*t+f[2]*e,f[1]*t+f[3]*e])(C/n,x/r),m){const t=Math.hypot(a,s);S=E=Math.max(Math.min(Math.hypot(b[0]-y[0]-C,b[1]-y[1]-x)/t,1/a,1/s),l/a,c/s)}else v?S=Math.max(l,Math.min(1,Math.abs(b[0]-y[0]-C)))/a:E=Math.max(c,Math.min(1,Math.abs(b[1]-y[1]-x)))/s;const T=u(a*S),I=u(s*E);w=h(...g(T,I));const k=_-w[0],R=A-w[1];this.width=T,this.height=I,this.x=k,this.y=R,this.setDims(n*T,r*I),this.fixAndSetPosition()}altTextFinish(){this.#zt?.finish()}async addEditToolbar(){return this.#ee||this.#ae||(this.#ee=new qT(this),this.div.append(this.#ee.render()),this.#zt&&this.#ee.addAltTextButton(await this.#zt.render())),this.#ee}removeEditToolbar(){this.#ee&&(this.#ee.remove(),this.#ee=null,this.#zt?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#zt||(rI.initialize(iI._l10nPromise),this.#zt=new rI(this),this.#Xt&&(this.#zt.data=this.#Xt,this.#Xt=null),await this.addEditToolbar())}get altTextData(){return this.#zt?.data}set altTextData(t){this.#zt&&(this.#zt.data=t)}hasAltText(){return!this.#zt?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#Yt?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",this.#Jt,{signal:t}),this.div.addEventListener("focusout",this.#te,{signal:t});const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),KT(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=oT.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(this.#re=!0,this._isDraggable?this.#Ae(t):this.#Se(t))}#Se(t){const{isMac:e}=oT.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#Ae(t){const e=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession();const i=this._uiManager._signal;e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:i},this.#ce=t.clientX,this.#ue=t.clientY,r=t=>{const{clientX:e,clientY:n}=t,[r,i]=this.screenToPageTranslation(e-this.#ce,n-this.#ue);this.#ce=e,this.#ue=n,this._uiManager.dragSelectedEditors(r,i)},window.addEventListener("pointermove",r,n));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,n)),this.#re=!1,this._uiManager.endDragSession()||this.#Se(t)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}moveInDOM(){this.#le&&clearTimeout(this.#le),this.#le=setTimeout((()=>{this.#le=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,o]=this.pageDimensions,[a,s]=this.pageTranslation,l=t/r,c=e/r,u=this.x*i,d=this.y*o,h=this.width*i,f=this.height*o;switch(n){case 0:return[u+l+a,o-d-c-f+s,u+l+h+a,o-d-c+s];case 90:return[u+c+a,o-d+l+s,u+c+f+a,o-d+l+h+s];case 180:return[u-l-h+a,o-d+c+s,u-l+a,o-d+c+f+s];case 270:return[u-c-f+a,o-d-l-h+s,u-c+a,o-d-l+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,i,o]=t,a=i-n,s=o-r;switch(this.rotation){case 0:return[n,e-o,a,s];case 90:return[n,e-r,s,a];case 180:return[i,e-r,a,s];case 270:return[i,e-o,s,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#ae=!0}disableEditMode(){this.#ae=!1}isInEditMode(){return this.#ae}shouldGetKeyboardEvents(){return this.#se}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const t=this._uiManager._signal;this.div?.addEventListener("focusin",this.#Jt,{signal:t}),this.div?.addEventListener("focusout",this.#te,{signal:t})}rotate(t){}serialize(){Wx("An editor must be serializable")}static deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,r.#Xt=t.accessibilityData;const[i,o]=r.pageDimensions,[a,s,l,c]=r.getRectInCurrentCoords(t.rect,o);return r.x=a/i,r.y=s/o,r.width=l/i,r.height=c/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#Jt),this.div.removeEventListener("focusout",this.#te),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#le&&(clearTimeout(this.#le),this.#le=null),this.#pe(),this.removeEditToolbar(),this.#de){for(const t of this.#de.values())clearTimeout(t);this.#de=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#ye(),this.#Zt.classList.remove("hidden"),KT(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),this.#Qt={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#Zt.children;if(!this.#qt){this.#qt=Array.from(e);const t=this.#Ee.bind(this),n=this.#Ce.bind(this),r=this._uiManager._signal;for(const e of this.#qt){const i=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:r}),e.addEventListener("blur",n,{signal:r}),e.addEventListener("focus",this.#xe.bind(this,i),{signal:r}),iI._l10nPromise.get(`pdfjs-editor-resizer-label-${i}`).then((t=>e.setAttribute("aria-label",t)))}}const n=this.#qt[0];let r=0;for(const o of e){if(o===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(this.#qt.length/4);if(i!==r){if(i<r)for(let e=0;e<r-i;e++)this.#Zt.append(this.#Zt.firstChild);else if(i>r)for(let e=0;e<i-r;e++)this.#Zt.firstChild.before(this.#Zt.lastChild);let t=0;for(const n of e){const e=this.#qt[t++].getAttribute("data-resizer-name");iI._l10nPromise.get(`pdfjs-editor-resizer-label-${e}`).then((t=>n.setAttribute("aria-label",t)))}}this.#Te(0),this.#se=!0,this.#Zt.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Ee(t){iI._resizerKeyboardManager.exec(this,t)}#Ce(t){this.#se&&t.relatedTarget?.parentNode!==this.#Zt&&this.#pe()}#xe(t){this.#ne=this.#se?t:""}#Te(t){if(this.#qt)for(const e of this.#qt)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#se&&this.#we(this.#ne,{movementX:t,movementY:e})}#pe(){if(this.#se=!1,this.#Te(-1),this.#Qt){const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#Qt;this.#_e(t,e,n,r),this.#Qt=null}}_stopResizingWithKeyboard(){this.#pe(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#ee?this.#ee?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#ee?.show()}))}unselect(){this.#Zt?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#ee?.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#oe}set isEditing(t){this.#oe=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#Kt=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#de||=new Map;const{action:e}=t;let n=this.#de.get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),this.#de.delete(e),0===this.#de.size&&(this.#de=null)}),iI._telemetryTimeout),void this.#de.set(e,n)}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#Yt=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Yt=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class oI extends iI{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const aI=3285377520,sI=4294901760,lI=65535;class cI{constructor(t){this.h1=t?4294967295&t:aI,this.h2=t?4294967295&t:aI}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let r=0,i=t.length;r<i;r++){const i=t.charCodeAt(r);i<=255?e[n++]=i:(e[n++]=i>>>8,e[n++]=255&i)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const r=n>>2,i=n-4*r,o=new Uint32Array(e.buffer,0,r);let a=0,s=0,l=this.h1,c=this.h2;const u=3432918353,d=461845907,h=11601,f=13715;for(let p=0;p<r;p++)1&p?(a=o[p],a=a*u&sI|a*h&lI,a=a<<15|a>>>17,a=a*d&sI|a*f&lI,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(s=o[p],s=s*u&sI|s*h&lI,s=s<<15|s>>>17,s=s*d&sI|s*f&lI,c^=s,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,i){case 3:a^=e[4*r+2]<<16;case 2:a^=e[4*r+1]<<8;case 1:a^=e[4*r],a=a*u&sI|a*h&lI,a=a<<15|a>>>17,a=a*d&sI|a*f&lI,1&r?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&sI|36045*t&lI,e=4283543511*e&sI|(2950163797*(e<<16|t>>>16)&sI)>>>16,t^=e>>>1,t=444984403*t&sI|60499*t&lI,e=3301882366*e&sI|(3120437893*(e<<16|t>>>16)&sI)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const uI=Object.freeze({map:null,hash:"",transfer:void 0});class dI{#Ie=!1;#ke=null;#Re=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#Re.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this.#Re.get(t)}remove(t){if(this.#Re.delete(t),0===this.#Re.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of this.#Re.values())if(t instanceof iI)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#Re.get(t);let r=!1;if(void 0!==n)for(const[i,o]of Object.entries(e))n[i]!==o&&(r=!0,n[i]=o);else r=!0,this.#Re.set(t,e);r&&this.#Me(),e instanceof iI&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#Re.has(t)}getAll(){return this.#Re.size>0?iT(this.#Re):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return this.#Re.size}#Me(){this.#Ie||(this.#Ie=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#Ie&&(this.#Ie=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new hI(this)}get serializable(){if(0===this.#Re.size)return uI;const t=new Map,e=new cI,n=[],r=Object.create(null);let i=!1;for(const[o,a]of this.#Re){const n=a instanceof iI?a.serialize(!1,r):a;n&&(t.set(o,n),e.update(`${o}:${JSON.stringify(n)}`),i||=!!n.bitmap)}if(i)for(const o of t.values())o.bitmap&&n.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:uI}get editorStats(){let t=null;const e=new Map;for(const n of this.#Re.values()){if(!(n instanceof iI))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:i}=r;e.has(i)||e.set(i,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const o=t[i]||=new Map;for(const[t,e]of Object.entries(r)){if("type"===t)continue;let n=o.get(t);n||(n=new Map,o.set(t,n));const r=n.get(e)??0;n.set(e,r+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#ke=null}get modifiedIds(){if(this.#ke)return this.#ke;const t=[];for(const e of this.#Re.values())e instanceof iI&&e.annotationElementId&&e.serialize()&&t.push(e.annotationElementId);return this.#ke={ids:new Set(t),hash:t.join(",")}}}class hI extends dI{#Pe;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,i=structuredClone(e,r?{transfer:r}:null);this.#Pe={map:i,hash:n,transfer:r}}get print(){Wx("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Pe}get modifiedIds(){return Xx(this,"modifiedIds",{ids:new Set,hash:""})}}class fI{#Oe=(()=>new Set)();constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#Oe.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,_inspectFont:n}=t;if(e&&!this.#Oe.has(e.loadedName))if($x(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:r,style:i}=e,o=new FontFace(t,r,i);this.addNativeFontFace(o);try{await o.load(),this.#Oe.add(t),n?.(e)}catch{Ux(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}}else Wx("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Ux(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){return Xx(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let t=!1;return(UC||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Xx(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for($x(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return Xx(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function r(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const s=a.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=r(u,976,c.length,c);const d=1482184792;let h=n(u,16);for(i=0,o=c.length-3;i<o;i+=4)h=h-d+n(c,i)|0;var f;i<c.length&&(h=h-d+n(c+"XXX",i)|0),u=r(u,16,4,(f=h,String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f)));const p=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(u)});`}}`;this.insertRule(p);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=m,g.append(t)}this._document.body.append(g),function t(e,n){if(++l>30)return Ux("Load test font never loaded."),void n();s.font="30px "+e,s.fillText(".",0,20),s.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{g.remove(),e.complete()}))}}class pI{constructor(t,e){let{disableFontFace:n=!1,inspectFont:r=null}=e;this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=!0===n,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=nT(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this._inspectFont?.(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(i){Ux(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[e]=function(t,e){};const r=[];for(let o=0,a=n.length;o<a;)switch(n[o++]){case hT:{const[t,e,i,a,s,l]=n.slice(o,o+6);r.push((n=>n.bezierCurveTo(t,e,i,a,s,l))),o+=6}break;case fT:{const[t,e]=n.slice(o,o+2);r.push((n=>n.moveTo(t,e))),o+=2}break;case pT:{const[t,e]=n.slice(o,o+2);r.push((n=>n.lineTo(t,e))),o+=2}break;case gT:{const[t,e,i,a]=n.slice(o,o+4);r.push((n=>n.quadraticCurveTo(t,e,i,a))),o+=4}break;case mT:r.push((t=>t.restore()));break;case vT:r.push((t=>t.save()));break;case yT:$x(2===r.length,"Scale command is only valid at the third position.");break;case bT:{const[t,e,i,a,s,l]=n.slice(o,o+6);r.push((n=>n.transform(t,e,i,a,s,l))),o+=6}break;case wT:{const[t,e]=n.slice(o,o+2);r.push((n=>n.translate(t,e))),o+=2}}return this.compiledGlyphs[e]=function(t,e){r[0](t),r[1](t),t.scale(e,-e);for(let n=2,i=r.length;n<i;n++)r[n](t)}}}if(UC){var gI=Promise.withResolvers(),mI=null;(async()=>{const t=await import("fs"),e=await import("http"),n=await import("https"),r=await import("url");return new Map(Object.entries({fs:t,http:e,https:n,url:r,canvas:undefined,path2d:undefined}))})().then((t=>{mI=t,gI.resolve()}),(t=>{Ux(`loadPackages: ${t}`),mI=new Map,gI.resolve()}))}class vI{static get promise(){return gI.promise}static get(t){return mI?.get(t)}}const yI=function(t){return vI.get("fs").promises.readFile(t).then((t=>new Uint8Array(t)))};const bI="Fill",wI="Stroke",_I="Shading";function AI(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class SI{constructor(){this.constructor===SI&&Wx("Cannot initialize BaseShadingPattern.")}getPattern(){Wx("Abstract method `getPattern` called.")}}class EI extends SI{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let i;if(r===wI||r===bI){const o=e.current.getClippedPathBoundingBox(r,$T(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,s=Math.ceil(o[3]-o[1])||1,l=e.cachedCanvases.getCanvas("pattern",a,s,!0),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-o[0],-o[1]),n=sT.transform(n,[1,0,0,1,o[0],o[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),AI(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=t.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);i.setTransform(u)}else AI(t,this._bbox),i=this._createGradient(t);return i}}function CI(t,e,n,r,i,o,a,s){const l=e.coords,c=e.colors,u=t.data,d=4*t.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=a,a=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=a,a=s,s=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=a,a=h);const f=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,m=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(p>=y)return;const b=c[o],w=c[o+1],_=c[o+2],A=c[a],S=c[a+1],E=c[a+2],C=c[s],x=c[s+1],T=c[s+2],I=Math.round(p),k=Math.round(y);let R,M,P,O,D,N,L,F;for(let B=I;B<=k;B++){if(B<m){const t=B<p?0:(p-B)/(p-m);R=f-(f-g)*t,M=b-(b-A)*t,P=w-(w-S)*t,O=_-(_-E)*t}else{let t;t=B>y?1:m===y?0:(m-B)/(m-y),R=g-(g-v)*t,M=A-(A-C)*t,P=S-(S-x)*t,O=E-(E-T)*t}let t;t=B<p?0:B>y?1:(p-B)/(p-y),D=f-(f-v)*t,N=b-(b-C)*t,L=w-(w-x)*t,F=_-(_-T)*t;const e=Math.round(Math.min(R,D)),n=Math.round(Math.max(R,D));let r=d*B+4*e;for(let i=e;i<=n;i++)t=(R-i)/(R-D),t<0?t=0:t>1&&(t=1),u[r++]=M-(M-N)*t|0,u[r++]=P-(P-L)*t|0,u[r++]=O-(O-F)*t|0,u[r++]=255}}function xI(t,e,n){const r=e.coords,i=e.colors;let o,a;switch(e.type){case"lattice":const s=e.verticesPerRow,l=Math.floor(r.length/s)-1,c=s-1;for(o=0;o<l;o++){let e=o*s;for(let o=0;o<c;o++,e++)CI(t,n,r[e],r[e+1],r[e+s],i[e],i[e+1],i[e+s]),CI(t,n,r[e+s+1],r[e+1],r[e+s],i[e+s+1],i[e+1],i[e+s])}break;case"triangles":for(o=0,a=r.length;o<a;o+=3)CI(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class TI extends SI{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,s=Math.min(Math.ceil(Math.abs(o*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),c=o/s,u=a/l,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},h=s+4,f=l+4,p=n.getCanvas("mesh",h,f,!1),g=p.context,m=g.createImageData(s,l);if(e){const t=m.data;for(let n=0,r=t.length;n<r;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)xI(m,v,d);g.putImageData(m,2,2);return{canvas:p.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(t,e,n,r){let i;if(AI(t,this._bbox),r===_I)i=sT.singularValueDecompose2dScale($T(t));else if(i=sT.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=sT.singularValueDecompose2dScale(this.matrix);i=[i[0]*t[0],i[1]*t[1]]}const o=this._createMeshCanvas(i,r===_I?null:this._background,e.cachedCanvases);return r!==_I&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class II extends SI{getPattern(){return"hotpink"}}const kI=1,RI=2;class MI{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r,i){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,r=this.xstep,i=this.ystep,o=this.paintType,a=this.tilingType,s=this.color,l=this.canvasGraphicsFactory;Hx("TilingType: "+a);const c=n[0],u=n[1],d=n[2],h=n[3],f=sT.singularValueDecompose2dScale(this.matrix),p=sT.singularValueDecompose2dScale(this.baseTransform),g=[f[0]*p[0],f[1]*p[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(i,this.ctx.canvas.height,g[1]),y=t.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),b=y.context,w=l.createCanvasGraphics(b);w.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(w,o,s);let _=c,A=u,S=d,E=h;return c<0&&(_=0,S+=Math.abs(c)),u<0&&(A=0,E+=Math.abs(u)),b.translate(-m.scale*_,-v.scale*A),w.transform(m.scale,0,0,v.scale,0,0),b.save(),this.clipBbox(w,_,A,S,E),w.baseTransform=$T(w.ctx),w.executeOperatorList(e),w.endDrawing(),{canvas:y.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:_,offsetY:A}}getSizeAndScale(t,e,n){t=Math.abs(t);const r=Math.max(MI.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*n);return i>=r?i=r:n=i/t,{scale:n,size:i}}clipBbox(t,e,n,r,i){const o=r-e,a=i-n;t.ctx.rect(e,n,o,a),t.current.updateRectMinMax($T(t.ctx),[e,n,r,i]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,i=t.current;switch(e){case kI:const t=this.ctx;r.fillStyle=t.fillStyle,r.strokeStyle=t.strokeStyle,i.fillColor=t.fillStyle,i.strokeColor=t.strokeStyle;break;case RI:const o=sT.makeHexColor(n[0],n[1],n[2]);r.fillStyle=o,r.strokeStyle=o,i.fillColor=o,i.strokeColor=o;break;default:throw new tT(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,r){let i=n;r!==_I&&(i=sT.transform(i,e.baseTransform),this.matrix&&(i=sT.transform(i,this.matrix)));const o=this.createPatternCanvas(e);let a=new DOMMatrix(i);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const s=t.createPattern(o.canvas,"repeat");return s.setTransform(a),s}}function PI(t){let{src:e,srcPos:n=0,dest:r,width:i,height:o,nonBlackColor:a=4294967295,inverseDecode:s=!1}=t;const l=oT.isLittleEndian?4278190080:255,[c,u]=s?[a,l]:[l,a],d=i>>3,h=7&i,f=e.length;r=new Uint32Array(r.buffer);let p=0;for(let g=0;g<o;g++){for(const i=n+d;n<i;n++){const t=n<f?e[n]:255;r[p++]=128&t?u:c,r[p++]=64&t?u:c,r[p++]=32&t?u:c,r[p++]=16&t?u:c,r[p++]=8&t?u:c,r[p++]=4&t?u:c,r[p++]=2&t?u:c,r[p++]=1&t?u:c}if(0===h)continue;const t=n<f?e[n++]:255;for(let e=0;e<h;e++)r[p++]=t&1<<7-e?u:c}return{srcPos:n,destPos:p}}const OI=16;class DI{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return void 0!==this.cache[t]?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function NI(t,e,n,r,i,o,a,s,l,c){const[u,d,h,f,p,g]=$T(t);if(0===d&&0===h){const m=a*u+p,v=Math.round(m),y=s*f+g,b=Math.round(y),w=(a+l)*u+p,_=Math.abs(Math.round(w)-v)||1,A=(s+c)*f+g,S=Math.abs(Math.round(A)-b)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),v,b),t.drawImage(e,n,r,i,o,0,0,_,S),t.setTransform(u,d,h,f,p,g),[_,S]}if(0===u&&0===f){const m=s*h+p,v=Math.round(m),y=a*d+g,b=Math.round(y),w=(s+c)*h+p,_=Math.abs(Math.round(w)-v)||1,A=(a+l)*d+g,S=Math.abs(Math.round(A)-b)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,v,b),t.drawImage(e,n,r,i,o,0,0,S,_),t.setTransform(u,d,h,f,p,g),[S,_]}t.drawImage(e,n,r,i,o,a,s,l,c);return[Math.hypot(u,d)*l,Math.hypot(h,f)*c]}class LI{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=WC,this.textMatrixScale=1,this.fontMatrix=$C,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ox,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=sT.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=sT.applyTransform(e,t),r=sT.applyTransform(e.slice(2),t),i=sT.applyTransform([e[0],e[3]],t),o=sT.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],i[0],o[0]),this.minY=Math.min(this.minY,n[1],r[1],i[1],o[1]),this.maxX=Math.max(this.maxX,n[0],r[0],i[0],o[0]),this.maxY=Math.max(this.maxY,n[1],r[1],i[1],o[1])}updateScalingPathMinMax(t,e){sT.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,i,o,a,s,l,c){const u=sT.bezierBoundingBox(e,n,r,i,o,a,s,l,c);c||this.updateRectMinMax(t,u)}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bI,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===wI){e||Wx("Stroke bounding box must include transform.");const t=sT.singularValueDecompose2dScale(e),r=t[0]*this.lineWidth/2,i=t[1]*this.lineWidth/2;n[0]-=r,n[1]-=i,n[2]+=r,n[3]+=i}return n}updateClipFromPath(){const t=sT.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bI,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return sT.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function FI(t,e){if("undefined"!==typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,r=e.width,i=n%OI,o=(n-i)/OI,a=0===i?o:o+1,s=t.createImageData(r,OI);let l,c=0;const u=e.data,d=s.data;let h,f,p,g;if(e.kind===dx.GRAYSCALE_1BPP){const e=u.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,m=r+7>>3,v=4294967295,y=oT.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(p=h<o?OI:i,l=0,f=0;f<p;f++){const t=e-c;let i=0;const o=t>m?r:8*t-7,a=-8&o;let s=0,d=0;for(;i<a;i+=8)d=u[c++],n[l++]=128&d?v:y,n[l++]=64&d?v:y,n[l++]=32&d?v:y,n[l++]=16&d?v:y,n[l++]=8&d?v:y,n[l++]=4&d?v:y,n[l++]=2&d?v:y,n[l++]=1&d?v:y;for(;i<o;i++)0===s&&(d=u[c++],s=128),n[l++]=d&s?v:y,s>>=1}for(;l<g;)n[l++]=0;t.putImageData(s,0,h*OI)}}else if(e.kind===dx.RGBA_32BPP){for(f=0,g=r*OI*4,h=0;h<o;h++)d.set(u.subarray(c,c+g)),c+=g,t.putImageData(s,0,f),f+=OI;h<a&&(g=r*i*4,d.set(u.subarray(c,c+g)),t.putImageData(s,0,f))}else{if(e.kind!==dx.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(p=OI,g=r*p,h=0;h<a;h++){for(h>=o&&(p=i,g=r*p),l=0,f=g;f--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;t.putImageData(s,0,h*OI)}}}function BI(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,r=e.width,i=n%OI,o=(n-i)/OI,a=0===i?o:o+1,s=t.createImageData(r,OI);let l=0;const c=e.data,u=s.data;for(let d=0;d<a;d++){const e=d<o?OI:i;({srcPos:l}=PI({src:c,srcPos:l,dest:u,width:r,height:e,nonBlackColor:0})),t.putImageData(s,0,d*OI)}}function jI(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==t[r]&&(e[r]=t[r]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function zI(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!UC){const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}}function VI(t,e){if(e)return!0;const n=sT.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*TT.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const HI=["butt","round","square"],UI=["miter","round","bevel"],WI={},$I={};class GI{constructor(t,e,n,r,i,o,a,s){let{optionalContentConfig:l,markedContentStack:c=null}=o;this.ctx=t,this.current=new LI(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new DI(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=s,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing(t){let{transform:e,viewport:n,transparency:r=!1,background:i=null}=t;const o=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,a),this.ctx.fillStyle=s,r){const t=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...$T(this.compositeCtx))}this.ctx.save(),zI(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=$T(this.ctx)}executeOperatorList(t,e,n,r){const i=t.argsArray,o=t.fnArray;let a=e||0;const s=i.length;if(s===a)return a;const l=s-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const d=this.commonObjs,h=this.objs;let f;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(f=o[a],f!==Fx.dependency)this[f].apply(this,i[a]);else for(const t of i[a]){const e=t.startsWith("g_")?d:h;if(!e.has(t))return e.get(t,n),a}if(a++,a===s)return a;if(l&&++u>10){if(Date.now()>c)return n(),a;u=0}}}#De(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#De(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#Ne()}#Ne(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width,r=t.height;let i,o,a=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),l=n,c=r,u="prescale1";for(;a>2&&l>1||s>2&&c>1;){let e=l,n=c;a>2&&l>1&&(e=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/e),s>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/n),i=this.cachedCanvases.getCanvas(u,e,n),o=i.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,l,c,0,0,e,n),t=i.canvas,l=e,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,i=this.current.fillColor,o=this.current.patternFill,a=$T(e);let s,l,c,u;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer;l=JSON.stringify(o?a:[a.slice(0,4),i]),s=this._cachedBitmapsMap.get(e),s||(s=new Map,this._cachedBitmapsMap.set(e,s));const n=s.get(l);if(n&&!o){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,r),BI(u.context,t));let d=sT.transform(a,[1/n,0,0,-1/r,0,0]);d=sT.transform(d,[1,0,0,1,0,-r]);const[h,f,p,g]=sT.getAxialAlignedBoundingBox([0,0,n,r],d),m=Math.round(p-h)||1,v=Math.round(g-f)||1,y=this.cachedCanvases.getCanvas("fillCanvas",m,v),b=y.context,w=h,_=f;b.translate(-w,-_),b.transform(...d),c||(c=this._scaleImage(u.canvas,GT(b)),c=c.img,s&&o&&s.set(l,c)),b.imageSmoothingEnabled=VI($T(b),t.interpolate),NI(b,c,0,0,c.width,c.height,0,0,n,r),b.globalCompositeOperation="source-in";const A=sT.transform(GT(b),[1,0,0,1,-w,-_]);return b.fillStyle=o?i.getPattern(e,this,A,bI):i,b.fillRect(0,0,n,r),s&&!o&&(this.cachedCanvases.delete("fillCanvas"),s.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(w),offsetY:Math.round(_)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=HI[t]}setLineJoin(t){this.ctx.lineJoin=UI[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...$T(this.suspendedCtx)),jI(this.suspendedCtx,i),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,r,i,o,a){e.transform(t,n,r,i,o,a),this.__originalTransform(t,n,r,i,o,a)},t.setTransform=function(t,n,r,i,o,a){e.setTransform(t,n,r,i,o,a),this.__originalSetTransform(t,n,r,i,o,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,r,i,o,a){e.bezierCurveTo(t,n,r,i,o,a),this.__originalBezierCurveTo(t,n,r,i,o,a)},t.rect=function(t,n,r,i){e.rect(t,n,r,i),this.__originalRect(t,n,r,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),jI(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const i=r[0],o=r[1],a=r[2]-i,s=r[3]-o;0!==a&&0!==s&&(this.genericComposeSMask(e.context,n,a,s,e.subtype,e.backdrop,e.transferMap,i,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,i,o,a,s,l,c,u){let d=t.canvas,h=s-c,f=l-u;if(o)if(h<0||f<0||h+n>d.width||f+r>d.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,r),e=t.context;e.drawImage(d,-h,-f),o.some((t=>0!==t))&&(e.globalCompositeOperation="destination-atop",e.fillStyle=sT.makeHexColor(...o),e.fillRect(0,0,n,r),e.globalCompositeOperation="source-over"),d=t.canvas,h=f=0}else if(o.some((t=>0!==t))){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(h,f,n,r),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=sT.makeHexColor(...o),t.fillRect(h,f,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(e.filter=this.filterFactory.addLuminosityFilter(a));const p=new Path2D;p.rect(s,l,n,r),e.clip(p),e.globalCompositeOperation="destination-in",e.drawImage(d,h,f,n,r,s,l,n,r),e.restore()}save(){this.inSMaskMode?(jI(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),jI(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,i,o){this.ctx.transform(t,e,n,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const r=this.ctx,i=this.current;let o,a,s=i.x,l=i.y;const c=$T(r),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],d=u?n.slice(0):null;for(let h=0,f=0,p=t.length;h<p;h++)switch(0|t[h]){case Fx.rectangle:s=e[f++],l=e[f++];const t=e[f++],n=e[f++],h=s+t,p=l+n;r.moveTo(s,l),0===t||0===n?r.lineTo(h,p):(r.lineTo(h,l),r.lineTo(h,p),r.lineTo(s,p)),u||i.updateRectMinMax(c,[s,l,h,p]),r.closePath();break;case Fx.moveTo:s=e[f++],l=e[f++],r.moveTo(s,l),u||i.updatePathMinMax(c,s,l);break;case Fx.lineTo:s=e[f++],l=e[f++],r.lineTo(s,l),u||i.updatePathMinMax(c,s,l);break;case Fx.curveTo:o=s,a=l,s=e[f+4],l=e[f+5],r.bezierCurveTo(e[f],e[f+1],e[f+2],e[f+3],s,l),i.updateCurvePathMinMax(c,o,a,e[f],e[f+1],e[f+2],e[f+3],s,l,d),f+=6;break;case Fx.curveTo2:o=s,a=l,r.bezierCurveTo(s,l,e[f],e[f+1],e[f+2],e[f+3]),i.updateCurvePathMinMax(c,o,a,s,l,e[f],e[f+1],e[f+2],e[f+3],d),s=e[f+2],l=e[f+3],f+=4;break;case Fx.curveTo3:o=s,a=l,s=e[f+2],l=e[f+3],r.bezierCurveTo(e[f],e[f+1],s,l,s,l),i.updateCurvePathMinMax(c,o,a,e[f],e[f+1],s,l,s,l,d),f+=4;break;case Fx.closePath:r.closePath()}u&&i.updateScalingPathMinMax(c,d),i.setCurrentPoint(s,l)}closePath(){this.ctx.closePath()}stroke(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,GT(e),wI),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,GT(e),bI),r=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=WI}eoClip(){this.pendingClip=$I}beginText(){this.current.textMatrix=WC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||$C,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||Ux("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const i=n.loadedName||"sans-serif",o=n.systemFontInfo?.css||`"${i}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const s=n.italic?"italic":"normal";let l=e;e<16?l=16:e>100&&(l=100),this.current.fontSizeScale=e/l,this.ctx.font=`${s} ${a} ${l}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,i,o){this.current.textMatrix=[t,e,n,r,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r){const i=this.ctx,o=this.current,a=o.font,s=o.textRenderingMode,l=o.fontSize/o.fontSizeScale,c=s&cx,u=!!(s&ux),d=o.patternFill&&!a.missingFile;let h;if((a.disableFontFace||u||d)&&(h=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||d?(i.save(),i.translate(e,n),i.beginPath(),h(i,l),r&&i.setTransform(...r),c!==ox&&c!==sx||i.fill(),c!==ax&&c!==sx||i.stroke(),i.restore()):(c!==ox&&c!==sx||i.fillText(t,e,n),c!==ax&&c!==sx||i.strokeText(t,e,n)),u){(this.pendingTextPaths||=[]).push({transform:$T(i),x:e,y:n,fontSize:l,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Xx(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(0===r)return;const i=this.ctx,o=e.fontSizeScale,a=e.charSpacing,s=e.wordSpacing,l=e.fontDirection,c=e.textHScale*l,u=t.length,d=n.vertical,h=d?1:-1,f=n.defaultVMetrics,p=r*e.fontMatrix[0],g=e.textRenderingMode===ox&&!n.disableFontFace&&!e.patternFill;let m;if(i.save(),i.transform(...e.textMatrix),i.translate(e.x,e.y+e.textRise),l>0?i.scale(c,-1):i.scale(c,1),e.patternFill){i.save();const t=e.fillColor.getPattern(i,this,GT(i),bI);m=$T(i),i.restore(),i.fillStyle=t}let v=e.lineWidth;const y=e.textMatrixScale;if(0===y||0===v){const t=e.textRenderingMode&cx;t!==ax&&t!==sx||(v=this.getSinglePixelWidth())}else v/=y;if(1!==o&&(i.scale(o,o),v/=o),i.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let r=0;for(const e of t)n.push(e.unicode),r+=e.width;return i.fillText(n.join(""),0,0),e.x+=r*p*c,i.restore(),void this.compose()}let b,w=0;for(b=0;b<u;++b){const e=t[b];if("number"===typeof e){w+=h*e*r/1e3;continue}let c=!1;const u=(e.isSpace?s:0)+a,v=e.fontChar,y=e.accent;let _,A,S=e.width;if(d){const t=e.vmetric||f,n=-(e.vmetric?t[1]:.5*S)*p,r=t[2]*p;S=t?-t[0]:S,_=n/o,A=(w+r)/o}else _=w/o,A=0;if(n.remeasure&&S>0){const t=1e3*i.measureText(v).width/r*o;if(S<t&&this.isFontSubpixelAAEnabled){const e=S/t;c=!0,i.save(),i.scale(e,1),_/=e}else S!==t&&(_+=(S-t)/2e3*r/o)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(g&&!y)i.fillText(v,_,A);else if(this.paintChar(v,_,A,m),y){const t=_+r*y.offset.x/o,e=A-r*y.offset.y/o;this.paintChar(y.fontChar,t,e,m)}w+=d?S*p-u*l:S*p+u*l,c&&i.restore()}d?e.y-=w:e.x+=w*c,i.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,i=n.fontSize,o=n.fontDirection,a=r.vertical?1:-1,s=n.charSpacing,l=n.wordSpacing,c=n.textHScale*o,u=n.fontMatrix||$C,d=t.length;let h,f,p,g;if(!(n.textRenderingMode===lx)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(c,o),h=0;h<d;++h){if(f=t[h],"number"===typeof f){g=a*f*i/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const o=(f.isSpace?l:0)+s,d=r.charProcOperatorList[f.operatorListId];if(!d){Ux(`Type3 character "${f.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=f,this.save(),e.scale(i,i),e.transform(...u),this.executeOperatorList(d),this.restore());p=sT.applyTransform([f.width,0],u)[0]*i+o,e.translate(p,0),n.x+=p*c}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],r=this.baseTransform||$T(this.ctx),i={createCanvasGraphics:t=>new GI(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new MI(t,n,this.ctx,i,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=sT.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=sT.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=function(t){switch(t[0]){case"RadialAxial":return new EI(t);case"Mesh":return new TI(t);case"Dummy":return new II}throw new Error(`Unknown IR type: ${t[0]}`)}(this.getObject(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,GT(e),_I);const r=GT(e);if(r){const{width:t,height:n}=e.canvas,[i,o,a,s]=sT.getAxialAlignedBoundingBox([0,0,t,n],r);this.ctx.fillRect(i,o,a-i,s-o)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Wx("Should not call beginInlineImage")}beginImageData(){Wx("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=$T(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax($T(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Hx("TODO: Support non-isolated groups."),t.knockout&&Ux("Knockout groups not supported.");const n=$T(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=sT.getAxialAlignedBoundingBox(t.bbox,$T(e));const i=[0,0,e.canvas.width,e.canvas.height];r=sT.intersect(r,i)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),s=Math.max(Math.ceil(r[2])-o,1),l=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,s,l]);let c="groupAt"+this.groupLevel;t.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,s,l),d=u.context;d.translate(-o,-a),d.transform(...n),t.smask?this.smaskStack.push({canvas:u.canvas,context:d,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),jI(e,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=$T(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=sT.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,r,i){if(this.#De(),zI(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const r=e[2]-e[0],o=e[3]-e[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=r,e[3]=o;const[i,a]=sT.singularValueDecompose2dScale($T(this.ctx)),{viewportScale:s}=this,l=Math.ceil(r*this.outputScaleX*s),c=Math.ceil(o*this.outputScaleY*s);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(t,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(i,0,0,-a,0,o*a),zI(this.ctx)}else zI(this.ctx),this.ctx.rect(e[0],e[1],r,o),this.ctx.clip(),this.endPath()}this.current=new LI(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Ne(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(t){const{width:e,height:n}=t;if(e>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o,a,s,l=new Uint8Array(i*(n+1));const c=e+7&-8;let u=new Uint8Array(c*n),d=0;for(const g of t.data){let t=128;for(;t>0;)u[d++]=g&t?0:255,t>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),a=1;a<e;a++)u[d]!==u[d+1]&&(l[a]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[a]=2,++h),o=1;o<n;o++){d=o*c,s=o*i,u[d-c]!==u[d]&&(l[s]=u[d]?1:8,++h);let t=(u[d]?4:0)+(u[d-c]?8:0);for(a=1;a<e;a++)t=(t>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),r[t]&&(l[s+a]=r[t],++h),d++;if(u[d-c]!==u[d]&&(l[s+a]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),s=o*i,0!==u[d]&&(l[s]=8,++h),a=1;a<e;a++)u[d]!==u[d+1]&&(l[s+a]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[s+a]=4,++h),h>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(o=0;h&&o<=n;o++){let t=o*i;const n=t+e;for(;t<n&&!l[t];)t++;if(t===n)continue;p.moveTo(t%i,o);const r=t;let a=l[t];do{const e=f[a];do{t+=e}while(!l[t]);const n=l[t];5!==n&&10!==n?(a=n,l[t]=0):(a=n&51*a>>4,l[t]&=a>>2|a<<2),p.lineTo(t%i,t/i|0),l[t]||--h}while(r!==t);--o}return u=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(p),t.beginPath(),t.restore()}}(t)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(t),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const s=$T(a);a.transform(e,n,r,i,0,0);const l=this._createMaskCanvas(t);a.setTransform(1,0,0,1,l.offsetX-s[4],l.offsetY-s[5]);for(let c=0,u=o.length;c<u;c+=2){const t=sT.transform(s,[e,n,r,i,o[c],o[c+1]]),[u,d]=sT.applyTransform([0,0],t);a.drawImage(l.canvas,u,d)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const i of t){const{data:t,width:o,height:a,transform:s}=i,l=this.cachedCanvases.getCanvas("maskCanvas",o,a),c=l.context;c.save();BI(c,this.getObject(t,i)),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this,GT(e),bI):n,c.fillRect(0,0,o,a),c.restore(),e.save(),e.transform(...s),e.scale(1,-1),NI(e,l.canvas,0,0,o,a,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):Ux("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const i=this.getObject(t);if(!i)return void Ux("Dependent image isn't ready yet");const o=i.width,a=i.height,s=[];for(let l=0,c=r.length;l<c;l+=2)s.push({transform:[e,0,0,n,r[l],r[l+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,s)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:r}=t,i=this.cachedCanvases.getCanvas("inlineImage",n,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",i.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;if(this.save(),!UC){const{filter:t}=r;"none"!==t&&""!==t&&(r.filter="none")}let i;if(r.scale(1/e,-1/n),t.bitmap)i=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)i=t;else{const r=this.cachedCanvases.getCanvas("inlineImage",e,n).context;FI(r,t),i=this.applyTransferMapsToCanvas(r)}const o=this._scaleImage(i,GT(r));r.imageSmoothingEnabled=VI($T(r),t.interpolate),NI(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const e=t.width,n=t.height,i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;FI(i,t),r=this.applyTransferMapsToCanvas(i)}for(const i of e)n.save(),n.transform(...i.transform),n.scale(1,-1),NI(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===$I?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=$T(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:i}=this.ctx.getTransform();let o,a;if(0===n&&0===r){const n=Math.abs(e),r=Math.abs(i);if(n===r)if(0===t)o=a=1/n;else{const e=n*t;o=a=e<1?1/e:1}else if(0===t)o=1/n,a=1/r;else{const e=n*t,i=r*t;o=e<1?1/e:1,a=i<1?1/i:1}}else{const s=Math.abs(e*i-n*r),l=Math.hypot(e,n),c=Math.hypot(r,i);if(0===t)o=c/s,a=l/s;else{const e=t*s;o=c>e?c/e:1,a=l>e?l/e:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(e.lineWidth=n||1,1===r&&1===i)return void e.stroke();const o=e.getLineDash();if(t&&e.save(),e.scale(r,i),o.length>0){const t=Math.max(r,i);e.setLineDash(o.map((e=>e/t))),e.lineDashOffset/=t}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const EL in Fx)void 0!==GI.prototype[EL]&&(GI.prototype[Fx[EL]]=GI.prototype[EL]);class XI{static#Le=null;static#Fe="";static get workerPort(){return this.#Le}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");this.#Le=t}static get workerSrc(){return this.#Fe}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");this.#Fe=t}}const qI=1,YI=2,KI=1,ZI=2,QI=3,JI=4,tk=5,ek=6,nk=7,rk=8;function ik(t){switch(t instanceof Error||"object"===typeof t&&null!==t||Wx('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new eT(t.message);case"MissingPDFException":return new Qx(t.message);case"PasswordException":return new Yx(t.message,t.code);case"UnexpectedResponseException":return new Jx(t.message,t.status);case"UnknownErrorException":return new Kx(t.message,t.details);default:return new Kx(t.message,t.toString())}}class ok{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this.#Be(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===qI)n.resolve(e.data);else{if(e.callback!==YI)throw new Error("Unexpected callback case");n.reject(ik(e.reason))}return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,i=e.sourceName;new Promise((function(t){t(r(e.data))})).then((function(r){n.postMessage({sourceName:t,targetName:i,callback:qI,callbackId:e.callbackId,data:r})}),(function(r){n.postMessage({sourceName:t,targetName:i,callback:YI,callbackId:e.callbackId,reason:ik(r)})}))}else e.streamId?this.#je(e):r(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(o){i.reject(o)}return i.promise}sendWithStream(t,e,n,r){const i=this.streamId++,o=this.sourceName,a=this.targetName,s=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},s.postMessage({sourceName:o,targetName:a,action:t,streamId:i,data:e,desiredSize:n.desiredSize},r),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[i].pullCall=e,s.postMessage({sourceName:o,targetName:a,stream:ek,streamId:i,desiredSize:t.desiredSize}),e.promise},cancel:t=>{$x(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[i].cancelCall=e,this.streamControllers[i].isClosed=!0,s.postMessage({sourceName:o,targetName:a,stream:KI,streamId:i,reason:ik(t)}),e.promise}},n)}#je(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj,o=this,a=this.actionHandler[t.action],s={enqueue(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const s=this.desiredSize;this.desiredSize-=o,s>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:JI,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:QI,streamId:e}),delete o.streamSinks[e])},error(t){$x(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:tk,streamId:e,reason:ik(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[e]=s,new Promise((function(e){e(a(t.data,s))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:rk,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:rk,streamId:e,reason:ik(t)})}))}#Be(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case rk:t.success?o.startCall.resolve():o.startCall.reject(ik(t.reason));break;case nk:t.success?o.pullCall.resolve():o.pullCall.reject(ik(t.reason));break;case ek:if(!a){i.postMessage({sourceName:n,targetName:r,stream:nk,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise((function(t){t(a.onPull?.())})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:nk,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:nk,streamId:e,reason:ik(t)})}));break;case JI:if($x(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case QI:if($x(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#ze(o,e);break;case tk:$x(o,"error should have stream controller"),o.controller.error(ik(t.reason)),this.#ze(o,e);break;case ZI:t.success?o.cancelCall.resolve():o.cancelCall.reject(ik(t.reason)),this.#ze(o,e);break;case KI:if(!a)break;new Promise((function(e){e(a.onCancel?.(ik(t.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:ZI,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:ZI,streamId:e,reason:ik(t)})})),a.sinkCapability.reject(ik(t.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#ze(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class ak{#Ve;#He;constructor(t){let{parsedData:e,rawData:n}=t;this.#Ve=e,this.#He=n}getRaw(){return this.#He}get(t){return this.#Ve.get(t)??null}getAll(){return iT(this.#Ve)}has(t){return this.#Ve.has(t)}}const sk=Symbol("INTERNAL");class lk{#Ue=!1;#We=!1;#$e=!1;#Ge=!0;constructor(t,e){let{name:n,intent:r,usage:i}=e;this.#Ue=!!(t&qC),this.#We=!!(t&YC),this.name=n,this.intent=r,this.usage=i}get visible(){if(this.#$e)return this.#Ge;if(!this.#Ge)return!1;const{print:t,view:e}=this.usage;return this.#Ue?"OFF"!==e?.viewState:!this.#We||"OFF"!==t?.printState}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==sk&&Wx("Internal method `_setVisible` called."),this.#$e=n,this.#Ge=e}}class ck{#Xe=null;#qe=(()=>new Map)();#Ye=null;#Ke=null;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qC;if(this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#Ke=t.order;for(const n of t.groups)this.#qe.set(n.id,new lk(e,n));if("OFF"===t.baseState)for(const t of this.#qe.values())t._setVisible(sk,!1);for(const e of t.on)this.#qe.get(e)._setVisible(sk,!0);for(const e of t.off)this.#qe.get(e)._setVisible(sk,!1);this.#Ye=this.getHash()}}#Ze(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const e=t[r];let i;if(Array.isArray(e))i=this.#Ze(e);else{if(!this.#qe.has(e))return Ux(`Optional content group not found: ${e}`),!0;i=this.#qe.get(e).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}isVisible(t){if(0===this.#qe.size)return!0;if(!t)return Hx("Optional content group not defined."),!0;if("OCG"===t.type)return this.#qe.has(t.id)?this.#qe.get(t.id).visible:(Ux(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#Ze(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#qe.has(e))return Ux(`Optional content group not found: ${e}`),!0;if(this.#qe.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#qe.has(e))return Ux(`Optional content group not found: ${e}`),!0;if(!this.#qe.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#qe.has(e))return Ux(`Optional content group not found: ${e}`),!0;if(!this.#qe.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#qe.has(e))return Ux(`Optional content group not found: ${e}`),!0;if(this.#qe.get(e).visible)return!1}return!0}return Ux(`Unknown optional content policy ${t.policy}.`),!0}return Ux(`Unknown group type ${t.type}.`),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.#qe.get(t);n?(n._setVisible(sk,!!e,!0),this.#Xe=null):Ux(`Optional content group not found: ${t}`)}setOCGState(t){let e,{state:n,preserveRB:r}=t;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":e=i;continue}const t=this.#qe.get(i);if(t)switch(e){case"ON":t._setVisible(sk,!0);break;case"OFF":t._setVisible(sk,!1);break;case"Toggle":t._setVisible(sk,!t.visible)}}this.#Xe=null}get hasInitialVisibility(){return null===this.#Ye||this.getHash()===this.#Ye}getOrder(){return this.#qe.size?this.#Ke?this.#Ke.slice():[...this.#qe.keys()]:null}getGroups(){return this.#qe.size>0?iT(this.#qe):null}getGroup(t){return this.#qe.get(t)||null}getHash(){if(null!==this.#Xe)return this.#Xe;const t=new cI;for(const[e,n]of this.#qe)t.update(`${e}:${n.visible}`);return this.#Xe=t.hexdigest()}}class uk{constructor(t,e){let{disableRange:n=!1,disableStream:r=!1}=e;$x(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:a,contentDispositionFilename:s}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,o?.length>0){const t=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{$x(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){void 0===t.total?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){$x(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new dk(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new hk(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class dk{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=NT(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class hk{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function fk(t){let{getResponseHeader:e,isHttp:n,rangeChunkSize:r,disableRange:i}=t;const o={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);if(!Number.isInteger(a))return o;if(o.suggestedLength=a,a<=2*r)return o;if(i||!n)return o;if("bytes"!==e("Accept-Ranges"))return o;return"identity"!==(e("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o}function pk(t){const e=t("Content-Disposition");if(e){let t=function(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let t=a(n);return t=unescape(t),t=s(t),t=l(t),o(t)}if(n=function(t){const e=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(t));){let[,t,r,i]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[r,i]}const o=[];for(let r=0;r<e.length&&r in e;++r){let[t,n]=e[r];n=a(n),t&&(n=unescape(n),0===r&&(n=s(n))),o.push(n)}return o.join("")}(t),n)return o(l(n));if(n=r("filename","i").exec(t),n){n=n[1];let t=a(n);return t=l(t),o(t)}function r(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function i(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(t,{fatal:!0}),i=rT(n);n=r.decode(i),e=!1}catch{}}return n}function o(t){return e&&/[\x80-\xff]/.test(t)&&(t=i("utf-8",t),e&&(t=i("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function s(t){const e=t.indexOf("'");return-1===e?t:i(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,r){if("q"===n||"Q"===n)return r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})),i(e,r);try{r=atob(r)}catch{}return i(e,r)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(NT(t))return t}return null}function gk(t,e){return 404===t||0===t&&e.startsWith("file:")?new Qx('Missing PDF "'+e+'".'):new Jx(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function mk(t){return 200===t||206===t}function vk(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function yk(t){const e=new Headers;for(const n in t){const r=t[n];void 0!==r&&e.append(n,r)}return e}function bk(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ux(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class wk{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return $x(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _k(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Ak(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class _k{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=yk(this._stream.httpHeaders);const n=e.url;fetch(n,vk(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!mk(t.status))throw gk(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:r,suggestedLength:i}=fk({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=pk(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new eT("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:bk(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Ak{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=yk(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const i=r.url;fetch(i,vk(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!mk(t.status))throw gk(t.status,i);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:bk(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Sk{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const t=this.httpHeaders[i];void 0!==t&&e.setRequestHeader(i,t)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===r.status&&this.isHttp)return void n.onError?.(r.status);const i=r.status||200;if(!(200===i&&206===n.expectedStatus)&&i!==n.expectedStatus)return void n.onError?.(r.status);const o=function(t){const e=t.response;return"string"!==typeof e?e:rT(e).buffer}(r);if(206===i){const t=r.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError?.(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Ek{constructor(t){this._source=t,this._manager=new Sk(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return $x(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ck(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new xk(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Ck{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:r,suggestedLength:i}=fk({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=pk(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=gk(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class xk{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=gk(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Tk=/^file:\/\/\/[a-zA-Z]:\//;class Ik{constructor(t){this.source=t,this.url=function(t){const e=vI.get("url"),n=e.parse(t);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return $x(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Dk(this):new Pk(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Nk(this,t,e):new Ok(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class kk{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new eT("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Rk{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function Mk(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class Pk extends kk{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new Qx(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:r,suggestedLength:i}=fk({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=pk(n)};if(this._request=null,"http:"===this._url.protocol){const n=vI.get("http");this._request=n.request(Mk(this._url,t.httpHeaders),e)}else{const n=vI.get("https");this._request=n.request(Mk(this._url,t.httpHeaders),e)}this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class Ok extends Rk{constructor(t,e,n){super(t),this._httpHeaders={};for(const i in t.httpHeaders){const e=t.httpHeaders[i];void 0!==e&&(this._httpHeaders[i]=e)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const r=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new Qx(`Missing PDF "${this._url}".`);this._storedError=t}};if(this._request=null,"http:"===this._url.protocol){const t=vI.get("http");this._request=t.request(Mk(this._url,this._httpHeaders),r)}else{const t=vI.get("https");this._request=t.request(Mk(this._url,this._httpHeaders),r)}this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class Dk extends kk{constructor(t){super(t);let e=decodeURIComponent(this._url.path);Tk.test(this._url.href)&&(e=e.replace(/^\//,""));const n=vI.get("fs");n.promises.lstat(e).then((t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=new Qx(`Missing PDF "${e}".`)),this._storedError=t,this._headersCapability.reject(t)}))}}class Nk extends Rk{constructor(t,e,n){super(t);let r=decodeURIComponent(this._url.path);Tk.test(this._url.href)&&(r=r.replace(/^\//,""));const i=vI.get("fs");this._setReadableStream(i.createReadStream(r,{start:e,end:n-1}))}}const Lk=30;class Fk{#Qe=(()=>Promise.withResolvers())();#vt=null;#Je=!1;#tn=(()=>!!globalThis.FontInspector?.enabled)();#en=null;#nn=null;#rn=0;#in=0;#on=null;#an=null;#sn=0;#ln=0;#cn=(()=>Object.create(null))();#un=[];#dn=null;#hn=[];#fn=(()=>new WeakMap)();#pn=null;static#gn=(()=>new Map)();static#mn=(()=>new Map)();static#vn=null;static#yn=(()=>new Set)();constructor(t){let{textContentSource:e,container:n,viewport:r}=t;if(e instanceof ReadableStream)this.#dn=e;else{if("object"!==typeof e)throw new Error('No "textContentSource" parameter specified.');this.#dn=new ReadableStream({start(t){t.enqueue(e),t.close()}})}this.#vt=this.#an=n,this.#ln=r.scale*(globalThis.devicePixelRatio||1),this.#sn=r.rotation,this.#nn={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:o,pageX:a,pageY:s}=r.rawDims;this.#pn=[1,0,0,-1,-a,s+o],this.#in=i,this.#rn=o,Fk.#bn(),XT(n,r),this.#Qe.promise.catch((()=>{})).then((()=>{Fk.#yn.delete(this),this.#nn=null,this.#cn=null}))}render(){const t=()=>{this.#on.read().then((e=>{let{value:n,done:r}=e;r?this.#Qe.resolve():(this.#en??=n.lang,Object.assign(this.#cn,n.styles),this.#wn(n.items),t())}),this.#Qe.reject)};return this.#on=this.#dn.getReader(),Fk.#yn.add(this),t(),this.#Qe.promise}update(t){let{viewport:e,onBefore:n=null}=t;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==this.#sn&&(n?.(),this.#sn=i,XT(this.#an,{rotation:i})),r!==this.#ln){n?.(),this.#ln=r;const t={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Fk.#_n(this.#en)};for(const e of this.#hn)t.properties=this.#fn.get(e),t.div=e,this.#An(t)}}cancel(){const t=new eT("TextLayer task cancelled.");this.#on?.cancel(t).catch((()=>{})),this.#on=null,this.#Qe.reject(t)}get textDivs(){return this.#hn}get textContentItemsStr(){return this.#un}#wn(t){if(this.#Je)return;this.#nn.ctx??=Fk.#_n(this.#en);const e=this.#hn,n=this.#un;for(const r of t){if(e.length>1e5)return Ux("Ignoring additional textDivs for performance reasons."),void(this.#Je=!0);if(void 0!==r.str)n.push(r.str),this.#Sn(r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const t=this.#vt;this.#vt=document.createElement("span"),this.#vt.classList.add("markedContent"),null!==r.id&&this.#vt.setAttribute("id",`${r.id}`),t.append(this.#vt)}else"endMarkedContent"===r.type&&(this.#vt=this.#vt.parentNode)}}#Sn(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};this.#hn.push(e);const r=sT.transform(this.#pn,t.transform);let i=Math.atan2(r[1],r[0]);const o=this.#cn[t.fontName];o.vertical&&(i+=Math.PI/2);const a=this.#tn&&o.fontSubstitution||o.fontFamily,s=Math.hypot(r[2],r[3]),l=s*Fk.#En(a,this.#en);let c,u;0===i?(c=r[4],u=r[5]-l):(c=r[4]+l*Math.sin(i),u=r[5]-l*Math.cos(i));const d="calc(var(--scale-factor)*",h=e.style;this.#vt===this.#an?(h.left=`${(100*c/this.#in).toFixed(2)}%`,h.top=`${(100*u/this.#rn).toFixed(2)}%`):(h.left=`${d}${c.toFixed(2)}px)`,h.top=`${d}${u.toFixed(2)}px)`),h.fontSize=`${d}${(Fk.#vn*s).toFixed(2)}px)`,h.fontFamily=a,n.fontSize=s,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#tn&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),0!==i&&(n.angle=i*(180/Math.PI));let f=!1;if(t.str.length>1)f=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=o.vertical?t.height:t.width),this.#fn.set(e,n),this.#nn.div=e,this.#nn.properties=n,this.#An(this.#nn),n.hasText&&this.#vt.append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this.#vt.append(t)}}#An(t){const{div:e,properties:n,ctx:r,prevFontSize:i,prevFontFamily:o}=t,{style:a}=e;let s="";if(Fk.#vn>1&&(s=`scale(${1/Fk.#vn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=n;i===u&&o===l||(r.font=`${u*this.#ln}px ${l}`,t.prevFontSize=u,t.prevFontFamily=l);const{width:d}=r.measureText(e.textContent);d>0&&(s=`scaleX(${c*this.#ln/d}) ${s}`)}0!==n.angle&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(a.transform=s)}static cleanup(){if(!(this.#yn.size>0)){this.#gn.clear();for(const{canvas:t}of this.#mn.values())t.remove();this.#mn.clear()}}static#_n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.#mn.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#mn.set(t,e)}return e}static#bn(){if(null!==this.#vn)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#vn=t.getBoundingClientRect().height,t.remove()}static#En(t,e){const n=this.#gn.get(t);if(n)return n;const r=this.#_n(e),i=r.font;r.canvas.width=r.canvas.height=Lk,r.font=`30px ${t}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,s=Math.abs(o.fontBoundingBoxDescent);if(a){const e=a/(a+s);return this.#gn.set(t,e),r.canvas.width=r.canvas.height=0,r.font=i,e}r.strokeStyle="red",r.clearRect(0,0,Lk,Lk),r.strokeText("g",0,0);let l=r.getImageData(0,0,Lk,Lk).data;s=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){s=Math.ceil(u/4/Lk);break}r.clearRect(0,0,Lk,Lk),r.strokeText("A",0,Lk),l=r.getImageData(0,0,Lk,Lk).data,a=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){a=Lk-Math.floor(u/4/Lk);break}r.canvas.width=r.canvas.height=0,r.font=i;const c=a?a/(a+s):.8;return this.#gn.set(t,c),c}}class Bk{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){if(!n)return;let r=null;const i=n.name;if("#text"===i)r=n.value;else{if(!Bk.shouldBuildText(i))return;n?.attributes?.textContent?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&e.push({str:r}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}const jk=65536,zk=UC?class extends AT{_createCanvas(t,e){return vI.get("canvas").createCanvas(t,e)}}:class extends AT{constructor(){let{ownerDocument:t=globalThis.document,enableHWA:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}},Vk=UC?class extends ST{_fetchData(t,e){return yI(t).then((t=>({cMapData:t,compressionType:e})))}}:kT,Hk=UC?class extends _T{}:class extends _T{#Cn;#xn;#Tn;#In;#kn;#Rn;#v=0;constructor(){let{docId:t,ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#In=t,this.#kn=e}get#b(){return this.#xn||=new Map}get#Mn(){return this.#Rn||=new Map}get#Pn(){if(!this.#Tn){const t=this.#kn.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#kn.createElementNS(xT,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#Tn=this.#kn.createElementNS(xT,"defs"),t.append(n),n.append(this.#Tn),this.#kn.body.append(t)}return this.#Tn}#On(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const r=n.join(",");return[r,r,r]}const[e,n,r]=t,i=new Array(256),o=new Array(256),a=new Array(256);for(let s=0;s<256;s++)i[s]=e[s]/255,o[s]=n[s]/255,a[s]=r[s]/255;return[i.join(","),o.join(","),a.join(",")]}#Dn(t){if(void 0===this.#Cn){this.#Cn="";const t=this.#kn.URL;t!==this.#kn.baseURI&&(DT(t)?Ux('#createUrl: ignore "data:"-URL for performance reasons.'):this.#Cn=t.split("#",1)[0])}return`url(${this.#Cn}#${t})`}addFilter(t){if(!t)return"none";let e=this.#b.get(t);if(e)return e;const[n,r,i]=this.#On(t),o=1===t.length?n:`${n}${r}${i}`;if(e=this.#b.get(o),e)return this.#b.set(t,e),e;const a=`g_${this.#In}_transfer_map_${this.#v++}`,s=this.#Dn(a);this.#b.set(t,s),this.#b.set(o,s);const l=this.#Nn(a);return this.#Ln(n,r,i,l),s}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let i=this.#Mn.get(r);if(i?.key===n)return i.url;if(i?(i.filter?.remove(),i.key=n,i.url="none",i.filter=null):(i={key:n,url:"none",filter:null},this.#Mn.set(r,i)),!t||!e)return i.url;const o=this.#Fn(t);t=sT.makeHexColor(...o);const a=this.#Fn(e);if(e=sT.makeHexColor(...a),this.#Pn.style.color="","#000000"===t&&"#ffffff"===e||t===e)return i.url;const s=new Array(256);for(let h=0;h<=255;h++){const t=h/255;s[h]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const l=s.join(","),c=`g_${this.#In}_hcm_filter`,u=i.filter=this.#Nn(c);this.#Ln(l,l,l,u),this.#Bn(u);const d=(t,e)=>{const n=o[t]/255,r=a[t]/255,i=new Array(e+1);for(let o=0;o<=e;o++)i[o]=n+o/e*(r-n);return i.join(",")};return this.#Ln(d(0,5),d(1,5),d(2,5),u),i.url=this.#Dn(c),i.url}addAlphaFilter(t){let e=this.#b.get(t);if(e)return e;const[n]=this.#On([t]),r=`alpha_${n}`;if(e=this.#b.get(r),e)return this.#b.set(t,e),e;const i=`g_${this.#In}_alpha_map_${this.#v++}`,o=this.#Dn(i);this.#b.set(t,o),this.#b.set(r,o);const a=this.#Nn(i);return this.#jn(n,a),o}addLuminosityFilter(t){let e,n,r=this.#b.get(t||"luminosity");if(r)return r;if(t?([e]=this.#On([t]),n=`luminosity_${e}`):n="luminosity",r=this.#b.get(n),r)return this.#b.set(t,r),r;const i=`g_${this.#In}_luminosity_map_${this.#v++}`,o=this.#Dn(i);this.#b.set(t,o),this.#b.set(n,o);const a=this.#Nn(i);return this.#zn(a),t&&this.#jn(e,a),o}addHighlightHCMFilter(t,e,n,r,i){const o=`${e}-${n}-${r}-${i}`;let a=this.#Mn.get(t);if(a?.key===o)return a.url;if(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#Mn.set(t,a)),!e||!n)return a.url;const[s,l]=[e,n].map(this.#Fn.bind(this));let c=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,h]=[r,i].map(this.#Fn.bind(this));u<c&&([c,u,d,h]=[u,c,h,d]),this.#Pn.style.color="";const f=(t,e,n)=>{const r=new Array(256),i=(u-c)/n,o=t/255,a=(e-t)/(255*n);let s=0;for(let l=0;l<=n;l++){const t=Math.round(c+l*i),e=o+l*a;for(let n=s;n<=t;n++)r[n]=e;s=t+1}for(let l=s;l<256;l++)r[l]=r[s-1];return r.join(",")},p=`g_${this.#In}_hcm_${t}_filter`,g=a.filter=this.#Nn(p);return this.#Bn(g),this.#Ln(f(d[0],h[0],5),f(d[1],h[1],5),f(d[2],h[2],5),g),a.url=this.#Dn(p),a.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#Mn.size||(this.#Tn&&(this.#Tn.parentNode.parentNode.remove(),this.#Tn=null),this.#xn&&(this.#xn.clear(),this.#xn=null),this.#v=0)}#zn(t){const e=this.#kn.createElementNS(xT,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#Bn(t){const e=this.#kn.createElementNS(xT,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#Nn(t){const e=this.#kn.createElementNS(xT,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#Pn.append(e),e}#Vn(t,e,n){const r=this.#kn.createElementNS(xT,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#Ln(t,e,n,r){const i=this.#kn.createElementNS(xT,"feComponentTransfer");r.append(i),this.#Vn(i,"feFuncR",t),this.#Vn(i,"feFuncG",e),this.#Vn(i,"feFuncB",n)}#jn(t,e){const n=this.#kn.createElementNS(xT,"feComponentTransfer");e.append(n),this.#Vn(n,"feFuncA",t)}#Fn(t){return this.#Pn.style.color=t,WT(getComputedStyle(this.#Pn).getPropertyValue("color"))}},Uk=UC?class extends ET{_fetchData(t){return yI(t)}}:RT;function Wk(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new Gk,{docId:n}=e,r=t.url?function(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(UC&&"string"===typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(t.url):null,i=t.data?function(t){if(UC&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return rT(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(t.data):null,o=t.httpHeaders||null,a=!0===t.withCredentials,s=t.password??null,l=t.range instanceof Xk?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:jk;let u=t.worker instanceof Qk?t.worker:null;const d=t.verbosity,h="string"!==typeof t.docBaseUrl||DT(t.docBaseUrl)?null:t.docBaseUrl,f="string"===typeof t.cMapUrl?t.cMapUrl:null,p=!1!==t.cMapPacked,g=t.CMapReaderFactory||Vk,m="string"===typeof t.standardFontDataUrl?t.standardFontDataUrl:null,v=t.StandardFontDataFactory||Uk,y=!0!==t.stopAtErrors,b=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,w=!1!==t.isEvalSupported,_="boolean"===typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!UC,A=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,S="boolean"===typeof t.disableFontFace?t.disableFontFace:UC,E=!0===t.fontExtraProperties,C=!0===t.enableXfa,x=t.ownerDocument||globalThis.document,T=!0===t.disableRange,I=!0===t.disableStream,k=!0===t.disableAutoFetch,R=!0===t.pdfBug,M=!0===t.enableHWA,P=l?l.length:t.length??NaN,O="boolean"===typeof t.useSystemFonts?t.useSystemFonts:!UC&&!S,D="boolean"===typeof t.useWorkerFetch?t.useWorkerFetch:g===kT&&v===RT&&f&&m&&jT(f,document.baseURI)&&jT(m,document.baseURI),N=t.canvasFactory||new zk({ownerDocument:x,enableHWA:M}),L=t.filterFactory||new Hk({docId:n,ownerDocument:x});zx(d);const F={canvasFactory:N,filterFactory:L};if(D||(F.cMapReaderFactory=new g({baseUrl:f,isCompressed:p}),F.standardFontDataFactory=new v({baseUrl:m})),!u){const t={verbosity:d,port:XI.workerPort};u=t.port?Qk.fromPort(t):new Qk(t),e._worker=u}const B={docId:n,apiVersion:"4.5.136",data:i,password:s,disableAutoFetch:k,rangeChunkSize:c,length:P,docBaseUrl:h,enableXfa:C,evaluatorOptions:{maxImageSize:b,disableFontFace:S,ignoreErrors:y,isEvalSupported:w,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:A,fontExtraProperties:E,useSystemFonts:O,cMapUrl:D?f:null,standardFontDataUrl:D?m:null}},j={disableFontFace:S,fontExtraProperties:E,ownerDocument:x,pdfBug:R,styleElement:null,loadingParams:{disableAutoFetch:k,enableXfa:C}};return u.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const t=u.messageHandler.sendWithPromise("GetDocRequest",B,i?[i.buffer]:null);let s;if(l)s=new uk(l,{disableRange:T,disableStream:I});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");s=(t=>{if(UC){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&jT(t.url)?new wk(t):new Ik(t)}return jT(t.url)?new wk(t):new Ek(t)})({url:r,length:P,httpHeaders:o,withCredentials:a,rangeChunkSize:c,disableRange:T,disableStream:I})}return t.then((t=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const r=new ok(n,t,u.port),i=new Jk(r,e,s,j,F);e._transport=i,r.send("Ready",null)}))})).catch(e._capability.reject),e}function $k(t){return"object"===typeof t&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0}class Gk{static#In=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+Gk.#In++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Xk{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Wx("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class qk{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xx(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Yk{#Hn=null;#Un=!1;constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new BT:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new eR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new PT({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xx(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(t){let{canvasContext:e,viewport:n,intent:r="display",annotationMode:i=ex.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:s=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}=t;this._stats?.time("Overall");const h=this._transport.getRenderingIntent(r,i,u,d),{renderingIntent:f,cacheKey:p}=h;this.#Un=!1,this.#Wn(),s||=this._transport.getOptionalContentConfig(f);let g=this._intentStates.get(p);g||(g=Object.create(null),this._intentStates.set(p,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const m=!!(f&YC);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const v=t=>{g.renderTasks.delete(y),(this._maybeCleanupAfterRender||m)&&(this.#Un=!0),this.#$n(!m),t?(y.capability.reject(t),this._abortOperatorList({intentState:g,reason:t instanceof Error?t:new Error(t)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new rR({callback:v,params:{canvasContext:e,viewport:n,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||=new Set).add(y);const b=y.task;return Promise.all([g.displayReadyCapability.promise,s]).then((t=>{let[e,n]=t;if(this.destroyed)v();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:e,optionalContentConfig:n}),y.operatorListChanged()}})).catch(v),b}getOperatorList(){let{intent:t="display",annotationMode:e=ex.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(t,e,n,r,!0);let o,a=this._intentStates.get(i.cacheKey);return a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a)),a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>Bk.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const r=e.getReader(),i={items:[],styles:Object.create(null),lang:null};!function e(){r.read().then((function(n){let{value:r,done:o}=n;o?t(i):(i.lang??=r.lang,Object.assign(i.styles,r.styles),i.items.push(...r.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#Un=!1,this.#Wn(),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Un=!0;const e=this.#$n(!1);return t&&e&&(this._stats&&=new BT),e}#$n(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#Wn(),!this.#Un||this.destroyed)return!1;if(t)return this.#Hn=setTimeout((()=>{this.#Hn=null,this.#$n(!1)}),5e3),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Un=!1,!0}#Wn(){this.#Hn&&(clearTimeout(this.#Hn),this.#Hn=null)}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#$n(!0)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}=t;const{map:o,transfer:a}=r,s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:o,modifiedIds:i},a).getReader(),l=this._intentStates.get(n);l.streamReader=s;const c=()=>{s.read().then((t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())}),(t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();this.#$n(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}}))};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:r=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof OT){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new eT(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}class Kk{#Gn=(()=>new Set)();#Xn=(()=>Promise.resolve())();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#Xn.then((()=>{for(const t of this.#Gn)t.call(this,n)}))}addEventListener(t,e){this.#Gn.add(e)}removeEventListener(t,e){this.#Gn.delete(e)}terminate(){this.#Gn.clear()}}const Zk={isWorkerDisabled:!1,fakeWorkerId:0};UC&&(Zk.isWorkerDisabled=!0,XI.workerSrc||="./pdf.worker.mjs"),Zk.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},Zk.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};class Qk{static#qn;constructor(){let{name:t=null,port:e=null,verbosity:n=Vx()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(Qk.#qn?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(Qk.#qn||=new WeakMap).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return UC?Promise.all([vI.promise,this._readyCapability.promise]):this._readyCapability.promise}#Yn(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new ok("main","worker",t),this._messageHandler.on("ready",(function(){})),this.#Yn()}_initialize(){if(Zk.isWorkerDisabled||Qk.#Kn)return void this._setupFakeWorker();let{workerSrc:t}=Qk;try{Zk.isSameOrigin(window.location.href,t)||(t=Zk.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new ok("main","worker",e),r=()=>{i.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;e.addEventListener("error",(()=>{this._webWorker||r()}),{signal:i.signal}),n.on("test",(t=>{i.abort(),!this.destroyed&&t?(this._messageHandler=n,this._port=e,this._webWorker=e,this.#Yn()):r()})),n.on("ready",(t=>{if(i.abort(),this.destroyed)r();else try{o()}catch{this._setupFakeWorker()}}));const o=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void o()}catch{Hx("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Zk.isWorkerDisabled||(Ux("Setting up fake worker."),Zk.isWorkerDisabled=!0),Qk._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new Kk;this._port=e;const n="fake"+Zk.fakeWorkerId++,r=new ok(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new ok(n,n+"_worker",e),this.#Yn()})).catch((t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Qk.#qn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const e=this.#qn?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Qk(t)}static get workerSrc(){if(XI.workerSrc)return XI.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#Kn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Xx(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#Kn)return this.#Kn;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class Jk{#Zn=(()=>new Map)();#Qn=(()=>new Map)();#Jn=(()=>new Map)();#tr=(()=>new Map)();#er=null;constructor(t,e,n,r,i){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new eR,this.fontLoader=new fI({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#nr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Zn.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#Zn.set(t,r),r}get annotationStorage(){return Xx(this,"annotationStorage",new dI)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ex.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=qC,a=uI;switch(t){case"any":o=XC;break;case"display":break;case"print":o=YC;break;default:Ux(`getRenderingIntent - invalid intent: ${t}`)}const s=o&YC&&n instanceof hI?n:this.annotationStorage;switch(e){case ex.DISABLE:o+=QC;break;case ex.ENABLE:break;case ex.ENABLE_FORMS:o+=KC;break;case ex.ENABLE_STORAGE:o+=ZC,a=s.serializable;break;default:Ux(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=JC),i&&(o+=tx);const{ids:l,hash:c}=s.modifiedIds;return{renderingIntent:o,cacheKey:[o,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#er?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#Qn.values())t.push(n._destroy());this.#Qn.clear(),this.#Jn.clear(),this.#tr.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Zn.clear(),this.filterFactory.destroy(),Fk.cleanup(),this._networkStream?.cancelAllRequests(new eT("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{$x(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:r}=t;r?e.close():($x(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const n=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&e.onProgress?.(this._lastProgress),r.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",((t,e)=>{$x(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:r}=t;r?e.close():($x(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new qk(n,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new Yx(t.message,t.code);break;case"InvalidPDFException":n=new Zx(t.message);break;case"MissingPDFException":n=new Qx(t.message);break;case"UnexpectedResponseException":n=new Jx(t.message,t.status);break;case"UnknownErrorException":n=new Kx(t.message,t.details);break;default:Wx("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(this.#er=Promise.withResolvers(),e.onPassword){const r=t=>{t instanceof Error?this.#er.reject(t):this.#er.resolve({password:t})};try{e.onPassword(r,t.code)}catch(n){this.#er.reject(n)}}else this.#er.reject(new Yx(t.message,t.code));return this.#er.promise})),t.on("DataLoaded",(t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;this.#Qn.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{let[n,r,i]=e;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:e,fontExtraProperties:o,pdfBug:a}=this._params;if("error"in i){const t=i.error;Ux(`Error during font loading: ${t}`),this.commonObjs.resolve(n,t);break}const s=a&&globalThis.FontInspector?.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,l=new pI(i,{disableFontFace:e,inspectFont:s});this.fontLoader.bind(l).catch((()=>t.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!o&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=i;$x(c,"The imageRef must be defined.");for(const t of this.#Qn.values())for(const[,e]of t.objs)if(e?.ref===c)return e.dataLen?(this.commonObjs.resolve(n,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null})),t.on("obj",(t=>{let[e,n,r,i]=t;if(this.destroyed)return;const o=this.#Qn.get(n);if(!o.objs.has(e))if(0!==o._intentStates.size)switch(r){case"Image":o.objs.resolve(e,i),i?.dataLen>1e7&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(e,i);break;default:throw new Error(`Got unknown object type ${r}`)}else i?.bitmap?.close()})),t.on("DocProgress",(t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ux("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#Jn.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#tr.set(n.refStr,t);const r=new Yk(e,n,this,this._params.pdfBug);return this.#Qn.set(e,r),r}));return this.#Jn.set(e,r),r}getPageIndex(t){return $k(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#nr("GetFieldObjects")}hasJSActions(){return this.#nr("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#nr("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#nr("GetOptionalContentConfig").then((e=>new ck(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#Zn.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>({info:t[0],metadata:t[1]?new ak(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Zn.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#Qn.values()){if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`)}this.commonObjs.clear(),t||this.fontLoader.clear(),this.#Zn.clear(),this.filterFactory.destroy(!0),Fk.cleanup()}}cachedPageNumber(t){if(!$k(t))return null;const e=0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`;return this.#tr.get(e)??null}}const tR=Symbol("INITIAL_DATA");class eR{#rr=(()=>Object.create(null))();#ir(t){return this.#rr[t]||={...Promise.withResolvers(),data:tR}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=this.#ir(t);return n.promise.then((()=>e(n.data))),null}const n=this.#rr[t];if(!n||n.data===tR)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#rr[t];return!!e&&e.data!==tR}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#ir(t);n.data=e,n.resolve()}clear(){for(const t in this.#rr){const{data:e}=this.#rr[t];e?.bitmap?.close()}this.#rr=Object.create(null)}*[Symbol.iterator](){for(const t in this.#rr){const{data:e}=this.#rr[t];e!==tR&&(yield[t,e])}}}class nR{#or=null;constructor(t){this.#or=t,this.onContinue=null}get promise(){return this.#or.capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#or.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#or.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#or;return t.form||t.canvas&&e?.size>0}}class rR{#ar=null;static#sr=(()=>new WeakSet)();constructor(t){let{callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:a,pageIndex:s,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}=t;this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new nR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){let{transparency:e=!1,optionalContentConfig:n}=t;if(this.cancelled)return;if(this._canvas){if(rR.#sr.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");rR.#sr.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,background:a}=this.params;this.gfx=new GI(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#ar&&(window.cancelAnimationFrame(this.#ar),this.#ar=null),rR.#sr.delete(this._canvas),this.callback(t||new OT(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#ar=window.requestAnimationFrame((()=>{this.#ar=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),rR.#sr.delete(this._canvas),this.callback())))}}const iR="4.5.136",oR="3a21f03b0";function aR(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function sR(t){return Math.max(0,Math.min(255,255*t))}class lR{static CMYK_G(t){let[e,n,r,i]=t;return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=sR(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=aR(e);return`#${n}${n}${n}`}static RGB_G(t){let[e,n,r]=t;return["G",.3*e+.59*n+.11*r]}static RGB_rgb(t){return t.map(sR)}static RGB_HTML(t){return`#${t.map(aR).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,r,i]=t;return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(t){let[e,n,r,i]=t;return[sR(1-Math.min(1,e+i)),sR(1-Math.min(1,r+i)),sR(1-Math.min(1,n+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,r]=t;const i=1-e,o=1-n,a=1-r;return["CMYK",i,o,a,Math.min(i,o,a)]}}class cR{static setupStorage(t,e,n,r,i){const o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(t.textContent=o.value),"print"===i)break;t.addEventListener("input",(t=>{r.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(t=>{r.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&t.setAttribute("value",o.value),"print"===i)break;t.addEventListener("input",(t=>{r.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==o.value){t.setAttribute("value",o.value);for(const t of n.children)t.attributes.value===o.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(e,{value:i})}))}}static setAttributes(t){let{html:e,element:n,storage:r=null,intent:i,linkService:o}=t;const{attributes:a}=n,s=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!s||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}s&&o.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,i=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:n});const a="richText"!==i,s=t.div;if(s.append(o),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;s.style.transform=e}a&&s.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===r.children.length){if(r.value){const t=document.createTextNode(r.value);o.append(t),a&&Bk.shouldBuildText(r.name)&&l.push(t)}return{textDivs:l}}const c=[[r,-1,o]];for(;c.length>0;){const[t,r,o]=c.at(-1);if(r+1===t.children.length){c.pop();continue}const s=t.children[++c.at(-1)[1]];if(null===s)continue;const{name:u}=s;if("#text"===u){const t=document.createTextNode(s.value);l.push(t),o.append(t);continue}const d=s?.attributes?.xmlns?document.createElementNS(s.attributes.xmlns,u):document.createElement(u);if(o.append(d),s.attributes&&this.setAttributes({html:d,element:s,storage:e,intent:i,linkService:n}),s.children?.length>0)c.push([s,-1,d]);else if(s.value){const t=document.createTextNode(s.value);a&&Bk.shouldBuildText(u)&&l.push(t),d.append(t)}}for(const u of s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const uR=1e3,dR=new WeakSet;function hR(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class fR{static create(t){switch(t.data.annotationType){case fx:return new gR(t);case hx:return new mR(t);case kx:switch(t.data.fieldType){case"Tx":return new yR(t);case"Btn":return t.data.radioButton?new _R(t):t.data.checkBox?new wR(t):new AR(t);case"Ch":return new SR(t);case"Sig":return new bR(t)}return new vR(t);case Tx:return new ER(t);case px:return new xR(t);case gx:return new TR(t);case mx:return new IR(t);case vx:return new kR(t);case bx:return new RR(t);case Cx:return new PR(t);case xx:return new OR(t);case yx:return new MR(t);case wx:return new DR(t);case _x:return new NR(t);case Ax:return new LR(t);case Sx:return new FR(t);case Ex:return new BR(t);case Ix:return new jR(t);default:return new pR(t)}}}class pR{#lr=null;#cr=!1;#ur=null;constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(t){let{titleObj:e,contentsObj:n,richText:r}=t;return!!(e?.str||n?.str||r?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pR._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#lr||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#dr(e),this.#ur?.popup.updateEdited(t)}resetEdited(){this.#lr&&(this.#dr(this.#lr.rect),this.#ur?.popup.resetEdited(),this.#lr=null)}#dr(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:s}}}}=this;n?.splice(0,4,...t);const{width:l,height:c}=hR(t);e.left=100*(t[0]-a)/i+"%",e.top=100*(o-t[3]+s)/o+"%",0===r?(e.width=100*l/i+"%",e.height=100*c/o+"%"):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",e.id),this instanceof vR||(i.tabIndex=uR);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,e.popupRef&&i.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(i.title=e.alternativeText),e.noRotate&&i.classList.add("norotate"),!e.rect||this instanceof ER){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,i),i}const{width:a,height:s}=hR(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e=`calc(${t}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;o.borderRadius=e}else if(this instanceof _R){const t=`calc(${a}px * var(--scale-factor)) / calc(${s}px * var(--scale-factor))`;o.borderRadius=t}switch(e.borderStyle.style){case Rx:o.borderStyle="solid";break;case Mx:o.borderStyle="dashed";break;case Px:Ux("Unimplemented border style: beveled");break;case Ox:Ux("Unimplemented border style: inset");break;case Dx:o.borderBottomStyle="solid"}const r=e.borderColor||null;r?(this.#cr=!0,o.borderColor=sT.makeHexColor(0|r[0],0|r[1],0|r[2])):o.borderWidth=0}const l=sT.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:d,pageY:h}=r.rawDims;o.left=100*(l[0]-d)/c+"%",o.top=100*(l[1]-h)/u+"%";const{rotation:f}=e;return e.hasOwnCanvas||0===f?(o.width=100*a/c+"%",o.height=100*s/u+"%"):this.setRotation(f,i),i}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:o}=hR(this.data.rect);let a,s;t%180===0?(a=100*i/n,s=100*o/r):(a=100*o/n,s=100*i/r),e.style.width=`${a}%`,e.style.height=`${s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const r=n.detail[t],i=r[0],o=r.slice(1);n.target.style[e]=lR[`${i}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[e]:lR[`${i}_rgb`](o)})};return Xx(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const i=t[r]||n[r];i?.(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,i]of Object.entries(e)){const o=n[r];if(o){o({detail:{[r]:i},target:t}),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,i]=this.data.rect.map((t=>Math.fround(t)));if(8===t.length){const[o,a,s,l]=t.subarray(2,6);if(r===o&&i===a&&e===s&&n===l)return}const{style:o}=this.container;let a;if(this.#cr){const{borderColor:t,borderWidth:e}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${t}" stroke-width="${e}">`],this.container.classList.add("hasBorder")}const s=r-e,l=i-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),f=`clippath_${this.data.id}`;h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let p=2,g=t.length;p<g;p+=8){const n=t[p],r=t[p+1],o=t[p+2],u=t[p+3],d=c.createElement("rect"),f=(o-e)/s,g=(i-r)/l,m=(n-o)/s,v=(r-u)/l;d.setAttribute("x",f),d.setAttribute("y",g),d.setAttribute("width",m),d.setAttribute("height",v),h.append(d),a?.push(`<rect vector-effect="non-scaling-stroke" x="${f}" y="${g}" width="${m}" height="${v}"/>`)}this.#cr&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath=`url(#${f})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=this.#ur=new ER({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){Wx("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:t,id:i,exportValues:o}of r){if(-1===t)continue;if(i===e)continue;const r="string"===typeof o?o:null,a=document.querySelector(`[data-element-id="${i}"]`);!a||dR.has(a)?n.push({id:i,exportValue:r,domElement:a}):Ux(`_getElementsByName - element not allowed: ${i}`)}return n}for(const r of document.getElementsByName(t)){const{exportValue:t}=r,i=r.getAttribute("data-element-id");i!==e&&(dR.has(r)&&n.push({id:i,exportValue:t,domElement:r}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})}))}}class gR extends pR{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#hr(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#fr(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#pr(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#pr()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#pr()}#hr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#pr()}#fr(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#pr()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const i=n.get(r);i&&(t[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#pr()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#pr(),!this._fieldObjects)return Ux('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n?.();const{fields:t,refs:r,include:i}=e,o=[];if(0!==t.length||0!==r.length){const e=new Set(r);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===i&&o.push(n)}else for(const e of Object.values(this._fieldObjects))o.push(...e);const a=this.annotationStorage,s=[];for(const e of o){const{id:t}=e;switch(s.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(dR.has(n)?n.dispatchEvent(new Event("resetform")):Ux(`_bindResetFormAction - element not allowed: ${t}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:s,name:"ResetForm"}}),!1}}}class mR extends pR{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class vR extends pR{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&("CANVAS"===t.previousSibling?.nodeName&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return oT.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,i){n.includes("mouse")?t.addEventListener(n,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(t)}})}))}_setEventListeners(t,e,n,r){for(const[i,o]of n)("Action"===o||this.data.actions?.[o])&&("Focus"!==o&&"Blur"!==o||(e||={focused:!1}),this._setEventListener(t,e,i,o,r),"Focus"!==o||this.data.actions?.Blur?"Blur"!==o||this.data.actions?.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":sT.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,i=t.style;let o;const a=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(GC*r))||1);o=Math.min(r,a(e/GC))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);o=Math.min(r,a(t/GC))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=sT.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class yR extends vR{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,r){const i=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),i.setValue(o.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let i=r.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));let a=r.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const s={userValue:i,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??i),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),dR.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=uR,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{t.setValue(e,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),s.formattedValue=null})),n.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue??"";n.value=s.userValue=e,s.formattedValue=null}));let l=t=>{const{formattedValue:e}=s;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(t=>{if(s.focused)return;const{target:e}=t;s.userValue&&(e.value=s.userValue),s.lastCommittedValue=e.value,s.commitKey=1,this.data.actions?.Focus||(s.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){s.userValue=n.detail.value??"",t.setValue(e,{value:s.userValue.toString()}),n.target.value=s.userValue},formattedValue(n){const{formattedValue:r}=n.detail;s.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),t.setValue(e,{formattedValue:r})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let o=s.userValue;!o||o.length<=r||(o=o.slice(0,r),i.value=s.userValue=o,t.setValue(e,{value:o}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(t=>{s.commitKey=1;let n=-1;if("Escape"===t.key?n=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(s.commitKey=3):n=2,-1===n)return;const{value:r}=t.target;s.lastCommittedValue!==r&&(s.lastCommittedValue=r,s.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const r=l;l=null,n.addEventListener("blur",(t=>{if(!s.focused||!t.relatedTarget)return;this.data.actions?.Blur||(s.focused=!1);const{value:n}=t.target;s.userValue=n,s.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:s.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),r(t)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(t=>{s.lastCommittedValue=null;const{data:n,target:r}=t,{value:i,selectionStart:o,selectionEnd:a}=r;let l=o,c=a;switch(t.inputType){case"deleteWordBackward":{const t=i.substring(0,o).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=i.substring(o).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":o===a&&(l-=1);break;case"deleteContentForward":o===a&&(c+=1)}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,s,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${t}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class bR extends vR{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class wR extends vR{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return dR.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=uR,i.addEventListener("change",(r=>{const{name:i,checked:o}=r.target;for(const a of this._getElementsByName(i,n)){const n=o&&a.exportValue===e.exportValue;a.domElement&&(a.domElement.checked=n),t.setValue(a.id,{value:n})}t.setValue(n,{value:o})})),i.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(e=>{const r={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _R extends vR{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof r&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const o of this._getElementsByName(e.fieldName,n))t.setValue(o.id,{value:!1});const i=document.createElement("input");if(dR.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=uR,i.addEventListener("change",(e=>{const{name:r,checked:i}=e.target;for(const o of this._getElementsByName(r,n))t.setValue(o.id,{value:!1});t.setValue(n,{value:i})})),i.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;i.addEventListener("updatefromsandbox",(e=>{const i={value:e=>{const i=r===e.detail.value;for(const r of this._getElementsByName(e.target.name)){const e=i&&r.id===n;r.domElement&&(r.domElement.checked=e),t.setValue(r.id,{value:e})}}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class AR extends gR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class SR extends vR{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");dR.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=uR;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),i=!1),r.append(t)}let o=null;if(i){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),r.prepend(t),o=()=>{t.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=t=>{const e=t?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let s=a(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){o?.();const i=n.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const t of r.options)t.selected=l.has(t.value);t.setValue(e,{value:a(!0)}),s=a(!1)},multipleSelection(t){r.multiple=!0},remove(n){const i=r.options,o=n.detail.remove;if(i[o].selected=!1,r.remove(o),i.length>0){-1===Array.prototype.findIndex.call(i,(t=>t.selected))&&(i[0].selected=!0)}t.setValue(e,{value:a(!0),items:l(n)}),s=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);t.setValue(e,{value:null,items:[]}),s=a(!1)},insert(n){const{index:i,displayValue:o,exportValue:c}=n.detail.insert,u=r.children[i],d=document.createElement("option");d.textContent=o,d.value=c,u?u.before(d):r.append(d),t.setValue(e,{value:a(!0),items:l(n)}),s=a(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const t of i){const{displayValue:e,exportValue:n}=t,i=document.createElement("option");i.textContent=e,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:a(!0),items:l(n)}),s=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const t of n.target.options)t.selected=r.has(t.index);t.setValue(e,{value:a(!0)}),s=a(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=a(!0),i=a(!1);t.setValue(e,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,change:i,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):r.addEventListener("input",(function(n){t.setValue(e,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ER extends pR{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:pR._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new CR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map((t=>`${dT}${t}`)).join(",")),this.container}}class CR{#gr=this.#mr.bind(this);#vr=this.#yr.bind(this);#br=this.#wr.bind(this);#_r=this.#Ar.bind(this);#Sr=null;#vt=null;#Er=null;#Cr=null;#xr=null;#Tr=null;#Ir=null;#kr=!1;#Rr=null;#E=null;#Mr=null;#Pr=null;#Or=null;#lr=null;#Dr=!1;constructor(t){let{container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:a,richText:s,parent:l,rect:c,parentRect:u,open:d}=t;this.#vt=e,this.#Or=i,this.#Er=a,this.#Pr=s,this.#Tr=l,this.#Sr=n,this.#Mr=c,this.#Ir=u,this.#xr=r,this.#Cr=HT.toDateObject(o),this.trigger=r.flatMap((t=>t.getElementsToTriggerPopup()));for(const h of this.trigger)h.addEventListener("click",this.#_r),h.addEventListener("mouseenter",this.#br),h.addEventListener("mouseleave",this.#vr),h.classList.add("popupTriggerArea");for(const h of r)h.container?.addEventListener("keydown",this.#gr);this.#vt.hidden=!0,d&&this.#Ar()}render(){if(this.#Rr)return;const t=this.#Rr=document.createElement("div");if(t.className="popup",this.#Sr){const e=t.style.outlineColor=sT.makeHexColor(...this.#Sr);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))t.style.backgroundColor=`color-mix(in srgb, ${e} 30%, white)`;else{const e=.7;t.style.backgroundColor=sT.makeHexColor(...this.#Sr.map((t=>Math.floor(e*(255-t)+t))))}}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),({dir:n.dir,str:n.textContent}=this.#Or),t.append(e),this.#Cr){const t=document.createElement("span");t.classList.add("popupDate"),t.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),t.setAttribute("data-l10n-args",JSON.stringify({date:this.#Cr.toLocaleDateString(),time:this.#Cr.toLocaleTimeString()})),e.append(t)}const r=this.#Nr;if(r)cR.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const e=this._formatContents(this.#Er);t.append(e)}this.#vt.append(t)}get#Nr(){const t=this.#Pr,e=this.#Er;return!t?.str||e?.str&&e.str!==t.str?null:this.#Pr.html||null}get#Lr(){return this.#Nr?.attributes?.style?.fontSize||0}get#Fr(){return this.#Nr?.attributes?.style?.color||null}#Br(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#Fr,fontSize:this.#Lr?`calc(${this.#Lr}px * var(--scale-factor))`:""}};for(const i of t.split("\n"))e.push({name:"span",value:i,attributes:r});return n}_formatContents(t){let{str:e,dir:n}=t;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let o=0,a=i.length;o<a;++o){const t=i[o];r.append(document.createTextNode(t)),o<a-1&&r.append(document.createElement("br"))}return r}#mr(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&this.#kr)&&this.#Ar()}updateEdited(t){let{rect:e,popupContent:n}=t;this.#lr||={contentsObj:this.#Er,richText:this.#Pr},e&&(this.#E=null),n&&(this.#Pr=this.#Br(n),this.#Er=null),this.#Rr?.remove(),this.#Rr=null}resetEdited(){this.#lr&&(({contentsObj:this.#Er,richText:this.#Pr}=this.#lr),this.#lr=null,this.#Rr?.remove(),this.#Rr=null,this.#E=null)}#jr(){if(null!==this.#E)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:i}}}=this.#Tr;let o=!!this.#Ir,a=o?this.#Ir:this.#Mr;for(const h of this.#xr)if(!a||null!==sT.intersect(h.data.rect,a)){a=h.data.rect,o=!0;break}const s=sT.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),l=o?a[2]-a[0]+5:0,c=s[0]+l,u=s[1];this.#E=[100*(c-r)/e,100*(u-i)/n];const{style:d}=this.#vt;d.left=`${this.#E[0]}%`,d.top=`${this.#E[1]}%`}#Ar(){this.#kr=!this.#kr,this.#kr?(this.#wr(),this.#vt.addEventListener("click",this.#_r),this.#vt.addEventListener("keydown",this.#gr)):(this.#yr(),this.#vt.removeEventListener("click",this.#_r),this.#vt.removeEventListener("keydown",this.#gr))}#wr(){this.#Rr||this.render(),this.isVisible?this.#kr&&this.#vt.classList.add("focused"):(this.#jr(),this.#vt.hidden=!1,this.#vt.style.zIndex=parseInt(this.#vt.style.zIndex)+1e3)}#yr(){this.#vt.classList.remove("focused"),!this.#kr&&this.isVisible&&(this.#vt.hidden=!0,this.#vt.style.zIndex=parseInt(this.#vt.style.zIndex)-1e3)}forceHide(){this.#Dr=this.isVisible,this.#Dr&&(this.#vt.hidden=!0)}maybeShow(){this.#Dr&&(this.#Rr||this.#wr(),this.#Dr=!1,this.#vt.hidden=!1)}get isVisible(){return!1===this.#vt.hidden}}class xR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=nx.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class TR extends pR{#zr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:n}=hR(t.rect),r=this.svgFactory.create(e,n,!0),i=this.#zr=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#zr}addHighlightArea(){this.container.classList.add("highlightArea")}}class IR extends pR{#Vr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:n}=hR(t.rect),r=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,o=this.#Vr=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Vr}addHighlightArea(){this.container.classList.add("highlightArea")}}class kR extends pR{#Hr=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:n}=hR(t.rect),r=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,o=this.#Hr=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Hr}addHighlightArea(){this.container.classList.add("highlightArea")}}class RR extends pR{#Ur=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r}}=this;if(!e)return this.container;const{width:i,height:o}=hR(t),a=this.svgFactory.create(i,o,!0);let s=[];for(let c=0,u=e.length;c<u;c+=2){const n=e[c]-t[0],r=t[3]-e[c+1];s.push(`${n},${r}`)}s=s.join(" ");const l=this.#Ur=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",s),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ur}addHighlightArea(){this.container.classList.add("highlightArea")}}class MR extends RR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class PR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class OR extends pR{#Wr=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=nx.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:e,borderStyle:n,popupRef:r}}=this,{width:i,height:o}=hR(t),a=this.svgFactory.create(i,o,!0);for(const s of e){let e=[];for(let n=0,r=s.length;n<r;n+=2){const r=s[n]-t[0],i=t[3]-s[n+1];e.push(`${r},${i}`)}e=e.join(" ");const i=this.svgFactory.createElement(this.svgElementName);this.#Wr.push(i),i.setAttribute("points",e),i.setAttribute("stroke-width",n.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),a.append(i)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#Wr}addHighlightArea(){this.container.classList.add("highlightArea")}}class DR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class NR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class LR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class FR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class BR extends pR{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class jR extends pR{#$r=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Gr.bind(this)),this.#$r=n;const{isMac:r}=oT.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(r?t.metaKey:t.ctrlKey)&&this.#Gr()})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#$r}addHighlightArea(){this.container.classList.add("highlightArea")}#Gr(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class zR{#Xr=null;#qr=null;#Yr=(()=>new Map)();constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:a}=t;this.div=e,this.#Xr=n,this.#qr=r,this.page=o,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#Yr.size>0}#Kr(t,e){const n=t.firstChild||t;n.id=`${dT}${e}`,this.div.append(t),this.#Xr?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:e}=t,n=this.div;XT(n,this.viewport);const r=new Map,i={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new MT,annotationStorage:t.annotationStorage||new dI,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const t=o.annotationType===Tx;if(t){const t=r.get(o.id);if(!t)continue;i.elements=t}else{const{width:t,height:e}=hR(o.rect);if(t<=0||e<=0)continue}i.data=o;const e=fR.create(i);if(!e.isRenderable)continue;if(!t&&o.popupRef){const t=r.get(o.popupRef);t?t.push(e):r.set(o.popupRef,[e])}const n=e.render();o.hidden&&(n.style.visibility="hidden"),this.#Kr(n,o.id),e._isEditable&&(this.#Yr.set(e.data.id,e),this._annotationEditorUIManager?.renderAnnotationElement(e))}this.#Zr()}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,XT(n,{rotation:e.rotation}),this.#Zr(),n.hidden=!1}#Zr(){if(!this.#qr)return;const t=this.div;for(const[e,n]of this.#qr){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):r.append(n)}this.#qr.clear()}getEditableAnnotations(){return Array.from(this.#Yr.values())}getEditableAnnotation(t){return this.#Yr.get(t)}}const VR=/\r\n?|\n/g;class HR extends iI{#Qr=this.editorDivBlur.bind(this);#Jr=this.editorDivFocus.bind(this);#ti=this.editorDivInput.bind(this);#ei=this.editorDivKeydown.bind(this);#ni=this.editorDivPaste.bind(this);#Sr;#ri="";#ii=`${this.id}-editor`;#Lr;#oi=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=HR.prototype,e=t=>t.isEmpty(),n=nI.TRANSLATE_SMALL,r=nI.TRANSLATE_BIG;return Xx(this,"_keyboardManager",new tI([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=(()=>nx.FREETEXT)();constructor(t){super({...t,name:"freeTextEditor"}),this.#Sr=t.color||HR._defaultColor||iI._defaultLineColor,this.#Lr=t.fontSize||HR._defaultFontSize}static initialize(t,e){iI.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case rx.FREETEXT_SIZE:HR._defaultFontSize=e;break;case rx.FREETEXT_COLOR:HR._defaultColor=e}}updateParams(t,e){switch(t){case rx.FREETEXT_SIZE:this.#ai(e);break;case rx.FREETEXT_COLOR:this.#si(e)}}static get defaultPropertiesToUpdate(){return[[rx.FREETEXT_SIZE,HR._defaultFontSize],[rx.FREETEXT_COLOR,HR._defaultColor||iI._defaultLineColor]]}get propertiesToUpdate(){return[[rx.FREETEXT_SIZE,this.#Lr],[rx.FREETEXT_COLOR,this.#Sr]]}#ai(t){const e=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#Lr)*this.parentScale),this.#Lr=t,this.#li()},n=this.#Lr;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#si(t){const e=t=>{this.#Sr=this.editorDiv.style.color=t},n=this.#Sr;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-HR._internalPadding*t,-(HR._internalPadding+this.#Lr)*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(nx.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#ei,{signal:t}),this.editorDiv.addEventListener("focus",this.#Jr,{signal:t}),this.editorDiv.addEventListener("blur",this.#Qr,{signal:t}),this.editorDiv.addEventListener("input",this.#ti,{signal:t}),this.editorDiv.addEventListener("paste",this.#ni,{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#ii),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#ei),this.editorDiv.removeEventListener("focus",this.#Jr),this.editorDiv.removeEventListener("blur",this.#Qr),this.editorDiv.removeEventListener("input",this.#ti),this.editorDiv.removeEventListener("paste",this.#ni),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#ci(){const t=[];this.editorDiv.normalize();for(const e of this.editorDiv.childNodes)t.push(HR.#ui(e));return t.join("\n")}#li(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,r=e.style.display,i=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=r,e.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#ri,e=this.#ri=this.#ci().trimEnd();if(t===e)return;const n=t=>{this.#ri=t,t?(this.#di(),this._uiManager.rebuild(this),this.#li()):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#li()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){HR._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#ii),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),iI._l10nPromise.get("pdfjs-free-text-default-content").then((t=>this.editorDiv?.setAttribute("default-content",t))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Lr}px * var(--scale-factor))`,n.color=this.#Sr,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),KT(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this.#oi;let[o,a]=this.getInitialTranslation();[o,a]=this.pageTranslationToScreen(o,a);const[s,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=t+(i[0]-c)/s,h=e+this.height-(i[1]-u)/l;break;case 90:d=t+(i[0]-c)/s,h=e-(i[1]-u)/l,[o,a]=[a,-o];break;case 180:d=t-this.width+(i[0]-c)/s,h=e-(i[1]-u)/l,[o,a]=[-o,-a];break;case 270:d=t+(i[0]-c-this.height*l)/s,h=e+(i[1]-u-this.width*s)/l,[o,a]=[-a,o]}this.setAt(d*n,h*r,o,a)}else this.setAt(t*n,e*r,this.width*n,this.height*r);this.#di(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#ui(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(VR,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const r=HR.#hi(e.getData("text")||"").replaceAll(VR,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const o=i.getRangeAt(0);if(!r.includes("\n"))return o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:s}=o,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const t=a.parentElement;if(c.push(a.nodeValue.slice(s).replaceAll(VR,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(HR.#ui(n)):e=c}l.push(a.nodeValue.slice(0,s).replaceAll(VR,""))}else if(a===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===s&&(t=c),t.push(HR.#ui(n))}this.#ri=`${l.join("\n")}${r}${c.join("\n")}`,this.#di();const u=new Range;let d=l.reduce(((t,e)=>t+e.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const t=h.nodeValue.length;if(d<=t){u.setStart(h,d),u.setEnd(h,d);break}d-=t}i.removeAllRanges(),i.addRange(u)}#di(){if(this.editorDiv.replaceChildren(),this.#ri)for(const t of this.#ri.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#fi(){return this.#ri.replaceAll("\xa0"," ")}static#hi(t){return t.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(t,e,n){let r=null;if(t instanceof xR){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:i,rotation:o,id:a},textContent:s,textPosition:l,parent:{page:{pageNumber:c}}}=t;if(!s||0===s.length)return null;r=t={annotationType:nx.FREETEXT,color:Array.from(n),fontSize:e,value:s.join("\n"),position:l,pageIndex:c-1,rect:i.slice(0),rotation:o,id:a,deleted:!1}}const i=super.deserialize(t,e,n);return i.#Lr=t.fontSize,i.#Sr=sT.makeHexColor(...t.color),i.#ri=HR.#hi(t.value),i.annotationElementId=t.id||null,i.#oi=r,i}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=HR._internalPadding*this.parentScale,n=this.getRect(e,e),r=iI._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Sr),i={annotationType:nx.FREETEXT,color:r,fontSize:this.#Lr,value:this.#fi(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?i:this.annotationElementId&&!this.#pi(i)?null:(i.id=this.annotationElementId,i)}#pi(t){const{value:e,fontSize:n,color:r,pageIndex:i}=this.#oi;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==r[e]))||t.pageIndex!==i}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#Lr}px * var(--scale-factor))`,n.color=this.#Sr,e.replaceChildren();for(const i of this.#ri.split("\n")){const t=document.createElement("div");t.append(i?document.createTextNode(i):document.createElement("br")),e.append(t)}const r=HR._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#ri}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class UR{#gi;#mi=[];#vi=[];constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=1/0,o=-1/0,a=1/0,s=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:y}of t){const t=Math.floor((g-e)/l)*l,n=Math.ceil((g+v+e)/l)*l,r=Math.floor((m-e)/l)*l,c=Math.ceil((m+y+e)/l)*l,u=[t,r,c,!0],d=[n,r,c,!1];this.#mi.push(u,d),i=Math.min(i,t),o=Math.max(o,n),a=Math.min(a,r),s=Math.max(s,c)}const c=o-i+2*n,u=s-a+2*n,d=i-n,h=a-n,f=this.#mi.at(r?-1:-2),p=[f[0],f[2]];for(const g of this.#mi){const[t,e,n]=g;g[0]=(t-d)/c,g[1]=(e-h)/u,g[2]=(n-h)/u}this.#gi={x:d,y:h,width:c,height:u,lastPoint:p}}getOutlines(){this.#mi.sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of this.#mi)e[3]?(t.push(...this.#yi(e)),this.#bi(e)):(this.#wi(e),t.push(...this.#yi(e)));return this.#_i(t)}#_i(t){const e=[],n=new Set;for(const o of t){const[t,n,r]=o;e.push([t,n,o],[t,r,o])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let o=0,a=e.length;o<a;o+=2){const t=e[o][2],r=e[o+1][2];t.push(r),r.push(t),n.add(t),n.add(r)}const r=[];let i;for(;n.size>0;){const t=n.values().next().value;let[e,o,a,s,l]=t;n.delete(t);let c=e,u=o;for(i=[e,a],r.push(i);;){let t;if(n.has(s))t=s;else{if(!n.has(l))break;t=l}n.delete(t),[e,o,a,s,l]=t,c!==e&&(i.push(c,u,e,u===o?o:a),c=e),u=u===o?a:o}i.push(c,u)}return new $R(r,this.#gi)}#Ai(t){const e=this.#vi;let n=0,r=e.length-1;for(;n<=r;){const i=n+r>>1,o=e[i][0];if(o===t)return i;o<t?n=i+1:r=i-1}return r+1}#bi(t){let[,e,n]=t;const r=this.#Ai(e);this.#vi.splice(r,0,[e,n])}#wi(t){let[,e,n]=t;const r=this.#Ai(e);for(let i=r;i<this.#vi.length;i++){const[t,r]=this.#vi[i];if(t!==e)break;if(t===e&&r===n)return void this.#vi.splice(i,1)}for(let i=r-1;i>=0;i--){const[t,r]=this.#vi[i];if(t!==e)break;if(t===e&&r===n)return void this.#vi.splice(i,1)}}#yi(t){const[e,n,r]=t,i=[[e,n,r]],o=this.#Ai(r);for(let a=0;a<o;a++){const[t,n]=this.#vi[a];for(let r=0,o=i.length;r<o;r++){const[,a,s]=i[r];if(!(n<=a||s<=t))if(a>=t)if(s>n)i[r][1]=n;else{if(1===o)return[];i.splice(r,1),r--,o--}else i[r][2]=t,s>n&&i.push([e,n,s])}}return i}}class WR{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof XR}}class $R extends WR{#gi;#Si;constructor(t,e){super(),this.#Si=t,this.#gi=e}toSVGPath(){const t=[];for(const e of this.#Si){let[n,r]=e;t.push(`M${n} ${r}`);for(let i=2;i<e.length;i+=2){const o=e[i],a=e[i+1];o===n?(t.push(`V${a}`),r=a):a===r&&(t.push(`H${o}`),n=o)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,r,i,o]=t;const a=[],s=i-n,l=o-r;for(const c of this.#Si){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*s,t[e+1]=o-c[e+1]*l;a.push(t)}return a}get box(){return this.#gi}}class GR{#gi;#Ei=[];#Ci;#xi;#Ti=[];#Ii=(()=>new Float64Array(18))();#ki;#Ri;#Mi;#Pi;#Oi;#Di;#Ni=[];static#Li=8;static#Fi=2;static#Bi=(()=>GR.#Li+GR.#Fi)();constructor(t,e,n,r,i){let{x:o,y:a}=t,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#gi=e,this.#Di=r*n,this.#xi=i,this.#Ii.set([NaN,NaN,NaN,NaN,o,a],6),this.#Ci=s,this.#Pi=GR.#Li*n,this.#Mi=GR.#Bi*n,this.#Oi=n,this.#Ni.push(o,a)}get free(){return!0}isEmpty(){return isNaN(this.#Ii[8])}#ji(){const t=this.#Ii.subarray(4,6),e=this.#Ii.subarray(16,18),[n,r,i,o]=this.#gi;return[(this.#ki+(t[0]-e[0])/2-n)/i,(this.#Ri+(t[1]-e[1])/2-r)/o,(this.#ki+(e[0]-t[0])/2-n)/i,(this.#Ri+(e[1]-t[1])/2-r)/o]}add(t){let{x:e,y:n}=t;this.#ki=e,this.#Ri=n;const[r,i,o,a]=this.#gi;let[s,l,c,u]=this.#Ii.subarray(8,12);const d=e-c,h=n-u,f=Math.hypot(d,h);if(f<this.#Mi)return!1;const p=f-this.#Pi,g=p/f,m=g*d,v=g*h;let y=s,b=l;s=c,l=u,c+=m,u+=v,this.#Ni?.push(e,n);const w=m/p,_=-v/p*this.#Di,A=w*this.#Di;if(this.#Ii.set(this.#Ii.subarray(2,8),0),this.#Ii.set([c+_,u+A],4),this.#Ii.set(this.#Ii.subarray(14,18),12),this.#Ii.set([c-_,u-A],16),isNaN(this.#Ii[6]))return 0===this.#Ti.length&&(this.#Ii.set([s+_,l+A],2),this.#Ti.push(NaN,NaN,NaN,NaN,(s+_-r)/o,(l+A-i)/a),this.#Ii.set([s-_,l-A],14),this.#Ei.push(NaN,NaN,NaN,NaN,(s-_-r)/o,(l-A-i)/a)),this.#Ii.set([y,b,s,l,c,u],6),!this.isEmpty();this.#Ii.set([y,b,s,l,c,u],6);return Math.abs(Math.atan2(b-l,y-s)-Math.atan2(v,m))<Math.PI/2?([s,l,c,u]=this.#Ii.subarray(2,6),this.#Ti.push(NaN,NaN,NaN,NaN,((s+c)/2-r)/o,((l+u)/2-i)/a),[s,l,y,b]=this.#Ii.subarray(14,18),this.#Ei.push(NaN,NaN,NaN,NaN,((y+s)/2-r)/o,((b+l)/2-i)/a),!0):([y,b,s,l,c,u]=this.#Ii.subarray(0,6),this.#Ti.push(((y+5*s)/6-r)/o,((b+5*l)/6-i)/a,((5*s+c)/6-r)/o,((5*l+u)/6-i)/a,((s+c)/2-r)/o,((l+u)/2-i)/a),[c,u,s,l,y,b]=this.#Ii.subarray(12,18),this.#Ei.push(((y+5*s)/6-r)/o,((b+5*l)/6-i)/a,((5*s+c)/6-r)/o,((5*l+u)/6-i)/a,((s+c)/2-r)/o,((l+u)/2-i)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const t=this.#Ti,e=this.#Ei,n=this.#Ii.subarray(4,6),r=this.#Ii.subarray(16,18),[i,o,a,s]=this.#gi,[l,c,u,d]=this.#ji();if(isNaN(this.#Ii[6])&&!this.isEmpty())return`M${(this.#Ii[2]-i)/a} ${(this.#Ii[3]-o)/s} L${(this.#Ii[4]-i)/a} ${(this.#Ii[5]-o)/s} L${l} ${c} L${u} ${d} L${(this.#Ii[16]-i)/a} ${(this.#Ii[17]-o)/s} L${(this.#Ii[14]-i)/a} ${(this.#Ii[15]-o)/s} Z`;const h=[];h.push(`M${t[4]} ${t[5]}`);for(let f=6;f<t.length;f+=6)isNaN(t[f])?h.push(`L${t[f+4]} ${t[f+5]}`):h.push(`C${t[f]} ${t[f+1]} ${t[f+2]} ${t[f+3]} ${t[f+4]} ${t[f+5]}`);h.push(`L${(n[0]-i)/a} ${(n[1]-o)/s} L${l} ${c} L${u} ${d} L${(r[0]-i)/a} ${(r[1]-o)/s}`);for(let f=e.length-6;f>=6;f-=6)isNaN(e[f])?h.push(`L${e[f+4]} ${e[f+5]}`):h.push(`C${e[f]} ${e[f+1]} ${e[f+2]} ${e[f+3]} ${e[f+4]} ${e[f+5]}`);return h.push(`L${e[4]} ${e[5]} Z`),h.join(" ")}getOutlines(){const t=this.#Ti,e=this.#Ei,n=this.#Ii,r=n.subarray(4,6),i=n.subarray(16,18),[o,a,s,l]=this.#gi,c=new Float64Array((this.#Ni?.length??0)+2);for(let m=0,v=c.length-2;m<v;m+=2)c[m]=(this.#Ni[m]-o)/s,c[m+1]=(this.#Ni[m+1]-a)/l;c[c.length-2]=(this.#ki-o)/s,c[c.length-1]=(this.#Ri-a)/l;const[u,d,h,f]=this.#ji();if(isNaN(n[6])&&!this.isEmpty()){const t=new Float64Array(36);return t.set([NaN,NaN,NaN,NaN,(n[2]-o)/s,(n[3]-a)/l,NaN,NaN,NaN,NaN,(n[4]-o)/s,(n[5]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(n[16]-o)/s,(n[17]-a)/l,NaN,NaN,NaN,NaN,(n[14]-o)/s,(n[15]-a)/l],0),new XR(t,c,this.#gi,this.#Oi,this.#Ci,this.#xi)}const p=new Float64Array(this.#Ti.length+24+this.#Ei.length);let g=t.length;for(let m=0;m<g;m+=2)isNaN(t[m])?p[m]=p[m+1]=NaN:(p[m]=t[m],p[m+1]=t[m+1]);p.set([NaN,NaN,NaN,NaN,(r[0]-o)/s,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-o)/s,(i[1]-a)/l],g),g+=24;for(let m=e.length-6;m>=6;m-=6)for(let t=0;t<6;t+=2)isNaN(e[m+t])?(p[g]=p[g+1]=NaN,g+=2):(p[g]=e[m+t],p[g+1]=e[m+t+1],g+=2);return p.set([NaN,NaN,NaN,NaN,e[4],e[5]],g),new XR(p,c,this.#gi,this.#Oi,this.#Ci,this.#xi)}}class XR extends WR{#gi;#zi=null;#Ci;#xi;#Ni;#Oi;#Vi;constructor(t,e,n,r,i,o){super(),this.#Vi=t,this.#Ni=e,this.#gi=n,this.#Oi=r,this.#Ci=i,this.#xi=o,this.#Hi(o);const{x:a,y:s,width:l,height:c}=this.#zi;for(let u=0,d=t.length;u<d;u+=2)t[u]=(t[u]-a)/l,t[u+1]=(t[u+1]-s)/c;for(let u=0,d=e.length;u<d;u+=2)e[u]=(e[u]-a)/l,e[u+1]=(e[u+1]-s)/c}toSVGPath(){const t=[`M${this.#Vi[4]} ${this.#Vi[5]}`];for(let e=6,n=this.#Vi.length;e<n;e+=6)isNaN(this.#Vi[e])?t.push(`L${this.#Vi[e+4]} ${this.#Vi[e+5]}`):t.push(`C${this.#Vi[e]} ${this.#Vi[e+1]} ${this.#Vi[e+2]} ${this.#Vi[e+3]} ${this.#Vi[e+4]} ${this.#Vi[e+5]}`);return t.push("Z"),t.join(" ")}serialize(t,e){let[n,r,i,o]=t;const a=i-n,s=o-r;let l,c;switch(e){case 0:l=this.#Ui(this.#Vi,n,o,a,-s),c=this.#Ui(this.#Ni,n,o,a,-s);break;case 90:l=this.#Wi(this.#Vi,n,r,a,s),c=this.#Wi(this.#Ni,n,r,a,s);break;case 180:l=this.#Ui(this.#Vi,i,r,-a,s),c=this.#Ui(this.#Ni,i,r,-a,s);break;case 270:l=this.#Wi(this.#Vi,i,o,-a,-s),c=this.#Wi(this.#Ni,i,o,-a,-s)}return{outline:Array.from(l),points:[Array.from(c)]}}#Ui(t,e,n,r,i){const o=new Float64Array(t.length);for(let a=0,s=t.length;a<s;a+=2)o[a]=e+t[a]*r,o[a+1]=n+t[a+1]*i;return o}#Wi(t,e,n,r,i){const o=new Float64Array(t.length);for(let a=0,s=t.length;a<s;a+=2)o[a]=e+t[a+1]*r,o[a+1]=n+t[a]*i;return o}#Hi(t){const e=this.#Vi;let n=e[4],r=e[5],i=n,o=r,a=n,s=r,l=n,c=r;const u=t?Math.max:Math.min;for(let g=6,m=e.length;g<m;g+=6){if(isNaN(e[g]))i=Math.min(i,e[g+4]),o=Math.min(o,e[g+5]),a=Math.max(a,e[g+4]),s=Math.max(s,e[g+5]),c<e[g+5]?(l=e[g+4],c=e[g+5]):c===e[g+5]&&(l=u(l,e[g+4]));else{const t=sT.bezierBoundingBox(n,r,...e.slice(g,g+6));i=Math.min(i,t[0]),o=Math.min(o,t[1]),a=Math.max(a,t[2]),s=Math.max(s,t[3]),c<t[3]?(l=t[2],c=t[3]):c===t[3]&&(l=u(l,t[2]))}n=e[g+4],r=e[g+5]}const d=i-this.#Ci,h=o-this.#Ci,f=a-i+2*this.#Ci,p=s-o+2*this.#Ci;this.#zi={x:d,y:h,width:f,height:p,lastPoint:[l,c]}}get box(){return this.#zi}getNewOutline(t,e){const{x:n,y:r,width:i,height:o}=this.#zi,[a,s,l,c]=this.#gi,u=i*l,d=o*c,h=n*l+a,f=r*c+s,p=new GR({x:this.#Ni[0]*u+h,y:this.#Ni[1]*d+f},this.#gi,this.#Oi,t,this.#xi,e??this.#Ci);for(let g=2;g<this.#Ni.length;g+=2)p.add({x:this.#Ni[g]*u+h,y:this.#Ni[g+1]*d+f});return p.getOutlines()}}class qR{#gr=this.#mr.bind(this);#$i=this.#s.bind(this);#Gi=null;#Xi=null;#qi;#Yi=null;#Ki=!1;#Zi=!1;#o=null;#Qi;#f=null;#Ji;static get _keyboardManager(){return Xx(this,"_keyboardManager",new tI([[["Escape","mac+Escape"],qR.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qR.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qR.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qR.prototype._moveToPrevious],[["Home","mac+Home"],qR.prototype._moveToBeginning],[["End","mac+End"],qR.prototype._moveToEnd]]))}constructor(t){let{editor:e=null,uiManager:n=null}=t;e?(this.#Zi=!1,this.#Ji=rx.HIGHLIGHT_COLOR,this.#o=e):(this.#Zi=!0,this.#Ji=rx.HIGHLIGHT_DEFAULT_COLOR),this.#f=e?._uiManager||n,this.#Qi=this.#f._eventBus,this.#qi=e?.color||this.#f?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const t=this.#Gi=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#f._signal;t.addEventListener("click",this.#to.bind(this),{signal:e}),t.addEventListener("keydown",this.#gr,{signal:e});const n=this.#Xi=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#qi,t.append(n),t}renderMainDropdown(){const t=this.#Yi=this.#eo();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#eo(){const t=document.createElement("div"),e=this.#f._signal;t.addEventListener("contextmenu",zT,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#f.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.setAttribute("aria-selected",r===this.#qi),i.addEventListener("click",this.#no.bind(this,r),{signal:e}),t.append(i)}return t.addEventListener("keydown",this.#gr,{signal:e}),t}#no(t,e){e.stopPropagation(),this.#Qi.dispatch("switchannotationeditorparams",{source:this,type:this.#Ji,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#Gi)return void this.#to(t);const e=t.target.getAttribute("data-color");e&&this.#no(e,t)}_moveToNext(t){this.#ro?t.target!==this.#Gi?t.target.nextSibling?.focus():this.#Yi.firstChild?.focus():this.#to(t)}_moveToPrevious(t){t.target!==this.#Yi?.firstChild&&t.target!==this.#Gi?(this.#ro||this.#to(t),t.target.previousSibling?.focus()):this.#ro&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){this.#ro?this.#Yi.firstChild?.focus():this.#to(t)}_moveToEnd(t){this.#ro?this.#Yi.lastChild?.focus():this.#to(t)}#mr(t){qR._keyboardManager.exec(this,t)}#to(t){if(this.#ro)return void this.hideDropdown();if(this.#Ki=0===t.detail,window.addEventListener("pointerdown",this.#$i,{signal:this.#f._signal}),this.#Yi)return void this.#Yi.classList.remove("hidden");const e=this.#Yi=this.#eo();this.#Gi.append(e)}#s(t){this.#Yi?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#Yi?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#$i)}get#ro(){return this.#Yi&&!this.#Yi.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#Zi||(this.#ro?(this.hideDropdown(),this.#Gi.focus({preventScroll:!0,focusVisible:this.#Ki})):this.#o?.unselect())}updateColor(t){if(this.#Xi&&(this.#Xi.style.backgroundColor=t),!this.#Yi)return;const e=this.#f.highlightColors.values();for(const n of this.#Yi.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#Gi?.remove(),this.#Gi=null,this.#Xi=null,this.#Yi?.remove(),this.#Yi=null}}class YR extends iI{#io=null;#oo=0;#ao;#so=null;#i=null;#lo=null;#co=null;#uo=0;#do=null;#ho=null;#v=null;#fo=!1;#lt=this.#po.bind(this);#go=null;#mo;#vo=null;#yo="";#Di;#bo="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=(()=>nx.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=YR.prototype;return Xx(this,"_keyboardManager",new tI([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||YR._defaultColor,this.#Di=t.thickness||YR._defaultThickness,this.#mo=t.opacity||YR._defaultOpacity,this.#ao=t.boxes||null,this.#bo=t.methodOfCreation||"",this.#yo=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#fo=!0,this.#wo(t),this.#_o()):(this.#io=t.anchorNode,this.#oo=t.anchorOffset,this.#co=t.focusNode,this.#uo=t.focusOffset,this.#Ao(),this.#_o(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#fo?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Di,methodOfCreation:this.#bo}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#Ao(){const t=new UR(this.#ao,.001);this.#ho=t.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#ho.box);const e=new UR(this.#ao,.0025,.001,"ltr"===this._uiManager.direction);this.#lo=e.getOutlines();const{lastPoint:n}=this.#lo.box;this.#go=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#wo(t){let{highlightOutlines:e,highlightId:n,clipPathId:r}=t;this.#ho=e;if(this.#lo=e.getNewOutline(this.#Di/2+1.5,.0025),n>=0)this.#v=n,this.#so=r,this.parent.drawLayer.finalizeLine(n,e),this.#vo=this.parent.drawLayer.highlightOutline(this.#lo);else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#v,e),this.parent.drawLayer.updateBox(this.#v,YR.#So(this.#ho.box,(t-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#vo,this.#lo),this.parent.drawLayer.updateBox(this.#vo,YR.#So(this.#lo.box,t))}const{x:i,y:o,width:a,height:s}=e.box;switch(this.rotation){case 0:this.x=i,this.y=o,this.width=a,this.height=s;break;case 90:{const[t,e]=this.parentDimensions;this.x=o,this.y=1-i,this.width=a*e/t,this.height=s*t/e;break}case 180:this.x=1-i,this.y=1-o,this.width=a,this.height=s;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-o,this.y=i,this.width=a*e/t,this.height=s*t/e;break}}const{lastPoint:l}=this.#lo.box;this.#go=[(l[0]-i)/a,(l[1]-o)/s]}static initialize(t,e){iI.initialize(t,e),YR._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case rx.HIGHLIGHT_DEFAULT_COLOR:YR._defaultColor=e;break;case rx.HIGHLIGHT_THICKNESS:YR._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return this.#go}updateParams(t,e){switch(t){case rx.HIGHLIGHT_COLOR:this.#si(e);break;case rx.HIGHLIGHT_THICKNESS:this.#Eo(e)}}static get defaultPropertiesToUpdate(){return[[rx.HIGHLIGHT_DEFAULT_COLOR,YR._defaultColor],[rx.HIGHLIGHT_THICKNESS,YR._defaultThickness]]}get propertiesToUpdate(){return[[rx.HIGHLIGHT_COLOR,this.color||YR._defaultColor],[rx.HIGHLIGHT_THICKNESS,this.#Di||YR._defaultThickness],[rx.HIGHLIGHT_FREE,this.#fo]]}#si(t){const e=t=>{this.color=t,this.parent?.drawLayer.changeColor(this.#v,t),this.#i?.updateColor(t)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#Eo(t){const e=this.#Di,n=t=>{this.#Di=t,this.#Co(t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#i=new qR({editor:this}),t.addColorPicker(this.#i)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#xo())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#xo())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#To(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#_o(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#To():t&&(this.#_o(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#Co(t){if(!this.#fo)return;this.#wo({highlightOutlines:this.#ho.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#To(){null!==this.#v&&this.parent&&(this.parent.drawLayer.remove(this.#v),this.#v=null,this.parent.drawLayer.remove(this.#vo),this.#vo=null)}#_o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#v&&(({id:this.#v,clipPathId:this.#so}=t.drawLayer.highlight(this.#ho,this.color,this.#mo)),this.#vo=t.drawLayer.highlightOutline(this.#lo),this.#do&&(this.#do.style.clipPath=this.#so))}static#So(t,e){let{x:n,y:r,width:i,height:o}=t;switch(e){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}}rotate(t){const{drawLayer:e}=this.parent;let n;this.#fo?(t=(t-this.rotation+360)%360,n=YR.#So(this.#ho.box,t)):n=YR.#So(this,t),e.rotate(this.#v,t),e.rotate(this.#vo,t),e.updateBox(this.#v,n),e.updateBox(this.#vo,YR.#So(this.#lo.box,t))}render(){if(this.div)return this.div;const t=super.render();this.#yo&&(t.setAttribute("aria-label",this.#yo),t.setAttribute("role","mark")),this.#fo?t.classList.add("free"):this.div.addEventListener("keydown",this.#lt,{signal:this._uiManager._signal});const e=this.#do=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#so;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),KT(this,this.#do,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(this.#vo,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#vo,"hovered")}#po(t){YR._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#Io(!0);break;case 1:case 3:this.#Io(!1)}}#Io(t){if(!this.#io)return;const e=window.getSelection();t?e.setPosition(this.#io,this.#oo):e.setPosition(this.#co,this.#uo)}select(){super.select(),this.#vo&&(this.parent?.drawLayer.removeClass(this.#vo,"hovered"),this.parent?.drawLayer.addClass(this.#vo,"selected"))}unselect(){super.unselect(),this.#vo&&(this.parent?.drawLayer.removeClass(this.#vo,"selected"),this.#fo||this.#Io(!1))}get _mustFixPosition(){return!this.#fo}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.show(this.#v,t),this.parent.drawLayer.show(this.#vo,t))}#xo(){return this.#fo?this.rotation:0}#ko(){if(this.#fo)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,i=this.#ao,o=new Float32Array(8*i.length);let a=0;for(const{x:s,y:l,width:c,height:u}of i){const i=s*t+n,d=(1-l-u)*e+r;o[a]=o[a+4]=i,o[a+1]=o[a+3]=d,o[a+2]=o[a+6]=i+c*t,o[a+5]=o[a+7]=d+u*e,a+=8}return o}#Ro(t){return this.#ho.serialize(t,this.#xo())}static startHighlighting(t,e,n){let{target:r,x:i,y:o}=n;const{x:a,y:s,width:l,height:c}=r.getBoundingClientRect(),u=e=>{this.#Mo(t,e)},d=t._signal,h={capture:!0,passive:!1,signal:d},f=t=>{t.preventDefault(),t.stopPropagation()},p=e=>{r.removeEventListener("pointermove",u),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",f,h),window.removeEventListener("contextmenu",zT),this.#Po(t,e)};window.addEventListener("blur",p,{signal:d}),window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("pointerdown",f,h),window.addEventListener("contextmenu",zT,{signal:d}),r.addEventListener("pointermove",u,{signal:d}),this._freeHighlight=new GR({x:i,y:o},[a,s,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#Mo(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#Po(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,e,n){const r=super.deserialize(t,e,n),{rect:[i,o,a,s],color:l,quadPoints:c}=t;r.color=sT.makeHexColor(...l),r.#mo=t.opacity;const[u,d]=r.pageDimensions;r.width=(a-i)/u,r.height=(s-o)/d;const h=r.#ao=[];for(let f=0;f<c.length;f+=8)h.push({x:(c[4]-a)/u,y:(s-(1-c[f+5]))/d,width:(c[f+2]-c[f])/u,height:(c[f+5]-c[f+1])/d});return r.#Ao(),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;const e=this.getRect(0,0),n=iI._colorManager.convert(this.color);return{annotationType:nx.HIGHLIGHT,color:n,opacity:this.#mo,thickness:this.#Di,quadPoints:this.#ko(),outlines:this.#Ro(e),pageIndex:this.pageIndex,rect:e,rotation:this.#xo(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class KR extends iI{#Oo=0;#Do=0;#No=this.canvasPointermove.bind(this);#Lo=this.canvasPointerleave.bind(this);#Fo=this.canvasPointerup.bind(this);#Bo=this.canvasPointerdown.bind(this);#jo=null;#zo=(()=>new Path2D)();#Vo=!1;#Ho=!1;#Uo=!1;#Wo=null;#$o=0;#Go=0;#Xo=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=(()=>nx.INK)();constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){iI.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case rx.INK_THICKNESS:KR._defaultThickness=e;break;case rx.INK_COLOR:KR._defaultColor=e;break;case rx.INK_OPACITY:KR._defaultOpacity=e/100}}updateParams(t,e){switch(t){case rx.INK_THICKNESS:this.#Eo(e);break;case rx.INK_COLOR:this.#si(e);break;case rx.INK_OPACITY:this.#qo(e)}}static get defaultPropertiesToUpdate(){return[[rx.INK_THICKNESS,KR._defaultThickness],[rx.INK_COLOR,KR._defaultColor||iI._defaultLineColor],[rx.INK_OPACITY,Math.round(100*KR._defaultOpacity)]]}get propertiesToUpdate(){return[[rx.INK_THICKNESS,this.thickness||KR._defaultThickness],[rx.INK_COLOR,this.color||KR._defaultColor||iI._defaultLineColor],[rx.INK_OPACITY,Math.round(100*(this.opacity??KR._defaultOpacity))]]}#Eo(t){const e=t=>{this.thickness=t,this.#Yo()},n=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#si(t){const e=t=>{this.color=t,this.#Ko()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#qo(t){const e=t=>{this.opacity=t,this.#Ko()};t/=100;const n=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:rx.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#Zo(),this.#Qo()),this.isAttachedToDOM||(this.parent.add(this),this.#Jo()),this.#Yo()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#jo&&(clearTimeout(this.#jo),this.#jo=null),this.#Wo?.disconnect(),this.#Wo=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,n=this.width*t,r=this.height*e;this.setDimensions(n,r)}enableEditMode(){this.#Vo||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#Bo,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Bo))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#ta(){const{parentRotation:t,parentDimensions:[e,n]}=this;switch(t){case 90:return[0,n,n,e];case 180:return[e,n,e,n];case 270:return[e,0,n,e];default:return[0,0,e,n]}}#ea(){const{ctx:t,color:e,opacity:n,thickness:r,parentScale:i,scaleFactor:o}=this;t.lineWidth=r*i/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(n)}`}#na(t,e){const n=this._uiManager._signal;this.canvas.addEventListener("contextmenu",zT,{signal:n}),this.canvas.addEventListener("pointerleave",this.#Lo,{signal:n}),this.canvas.addEventListener("pointermove",this.#No,{signal:n}),this.canvas.addEventListener("pointerup",this.#Fo,{signal:n}),this.canvas.removeEventListener("pointerdown",this.#Bo),this.isEditing=!0,this.#Uo||(this.#Uo=!0,this.#Jo(),this.thickness||=KR._defaultThickness,this.color||=KR._defaultColor||iI._defaultLineColor,this.opacity??=KR._defaultOpacity),this.currentPath.push([t,e]),this.#Ho=!1,this.#ea(),this.#Xo=()=>{this.#ra(),this.#Xo&&window.requestAnimationFrame(this.#Xo)},window.requestAnimationFrame(this.#Xo)}#ia(t,e){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===n&&e===r)return;const i=this.currentPath;let o=this.#zo;if(i.push([t,e]),this.#Ho=!0,i.length<=2)return o.moveTo(...i[0]),void o.lineTo(t,e);3===i.length&&(this.#zo=o=new Path2D,o.moveTo(...i[0])),this.#oa(o,...i.at(-3),...i.at(-2),t,e)}#aa(){if(0===this.currentPath.length)return;const t=this.currentPath.at(-1);this.#zo.lineTo(...t)}#sa(t,e){let n;if(this.#Xo=null,t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),this.#ia(t,e),this.#aa(),1!==this.currentPath.length)n=this.#la();else{const r=[t,e];n=[[r,r.slice(),r.slice(),r]]}const r=this.#zo,i=this.currentPath;this.currentPath=[],this.#zo=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Zo(),this.#Qo()),this.#Yo())},mustExec:!0})}#ra(){if(!this.#Ho)return;this.#Ho=!1;const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),n=e.map((t=>t[0])),r=e.map((t=>t[1])),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)i.stroke(o);i.stroke(this.#zo),i.restore()}#oa(t,e,n,r,i,o,a){const s=(e+r)/2,l=(n+i)/2,c=(r+o)/2,u=(i+a)/2;t.bezierCurveTo(s+2*(r-s)/3,l+2*(i-l)/3,c+2*(r-c)/3,u+2*(i-u)/3,c,u)}#la(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let n,[r,i]=t[0];for(n=1;n<t.length-2;n++){const[o,a]=t[n],[s,l]=t[n+1],c=(o+s)/2,u=(a+l)/2,d=[r+2*(o-r)/3,i+2*(a-i)/3],h=[c+2*(o-c)/3,u+2*(a-u)/3];e.push([[r,i],d,h,[c,u]]),[r,i]=[c,u]}const[o,a]=t[n],[s,l]=t[n+1],c=[r+2*(o-r)/3,i+2*(a-i)/3],u=[s+2*(o-s)/3,l+2*(a-l)/3];return e.push([[r,i],c,u,[s,l]]),e}#Ko(){if(this.isEmpty())return void this.#ca();this.#ea();const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),this.#ca();for(const n of this.bezierPath2D)e.stroke(n)}commit(){this.#Vo||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Vo=!0,this.div.classList.add("disabled"),this.#Yo(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!this.#Vo&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#na(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#ia(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#ua(t)}canvasPointerleave(t){this.#ua(t)}#ua(t){this.canvas.removeEventListener("pointerleave",this.#Lo),this.canvas.removeEventListener("pointermove",this.#No),this.canvas.removeEventListener("pointerup",this.#Fo),this.canvas.addEventListener("pointerdown",this.#Bo,{signal:this._uiManager._signal}),this.#jo&&clearTimeout(this.#jo),this.#jo=setTimeout((()=>{this.#jo=null,this.canvas.removeEventListener("contextmenu",zT)}),10),this.#sa(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#Zo(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Qo(){this.#Wo=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),this.#Wo.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Wo?.disconnect(),this.#Wo=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Vo}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,o]=this.#ta();if(this.setAt(n,r,0,0),this.setDims(i,o),this.#Zo(),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(t*n,e*r,this.width*n,this.height*r),this.#Uo=!0,this.#Jo(),this.setDims(this.width*n,this.height*r),this.#Ko(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Qo(),this.div}#Jo(){if(!this.#Uo)return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),this.#ca()}setDimensions(t,e){const n=Math.round(t),r=Math.round(e);if(this.#$o===n&&this.#Go===r)return;this.#$o=n,this.#Go=r,this.canvas.style.visibility="hidden";const[i,o]=this.parentDimensions;this.width=t/i,this.height=e/o,this.fixAndSetPosition(),this.#Vo&&this.#da(t,e),this.#Jo(),this.#Ko(),this.canvas.style.visibility="visible",this.fixDims()}#da(t,e){const n=this.#ha(),r=(t-n)/this.#Do,i=(e-n)/this.#Oo;this.scaleFactor=Math.min(r,i)}#ca(){const t=this.#ha()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#fa(t){const e=new Path2D;for(let n=0,r=t.length;n<r;n++){const[r,i,o,a]=t[n];0===n&&e.moveTo(...r),e.bezierCurveTo(i[0],i[1],o[0],o[1],a[0],a[1])}return e}static#pa(t,e,n){const[r,i,o,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]+=r,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]+r,t[e+1]=n+i}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=o-t[e],t[e+1]+=i;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=o-t[e+1],t[e+1]=a-n}break;default:throw new Error("Invalid rotation")}return t}static#ga(t,e,n){const[r,i,o,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]-=r,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]-i,t[e+1]=n-r}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=o-t[e],t[e+1]-=i;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=a-t[e+1],t[e+1]=o-n}break;default:throw new Error("Invalid rotation")}return t}#ma(t,e,n,r){const i=[],o=this.thickness/2,a=t*e+o,s=t*n+o;for(const l of this.paths){const e=[],n=[];for(let r=0,i=l.length;r<i;r++){const[o,c,u,d]=l[r];if(o[0]===d[0]&&o[1]===d[1]&&1===i){const r=t*o[0]+a,i=t*o[1]+s;e.push(r,i),n.push(r,i);break}const h=t*o[0]+a,f=t*o[1]+s,p=t*c[0]+a,g=t*c[1]+s,m=t*u[0]+a,v=t*u[1]+s,y=t*d[0]+a,b=t*d[1]+s;0===r&&(e.push(h,f),n.push(h,f)),e.push(p,g,m,v,y,b),n.push(p,g),r===i-1&&n.push(y,b)}i.push({bezier:KR.#pa(e,r,this.rotation),points:KR.#pa(n,r,this.rotation)})}return i}#va(){let t=1/0,e=-1/0,n=1/0,r=-1/0;for(const i of this.paths)for(const[o,a,s,l]of i){const i=sT.bezierBoundingBox(...o,...a,...s,...l);t=Math.min(t,i[0]),n=Math.min(n,i[1]),e=Math.max(e,i[2]),r=Math.max(r,i[3])}return[t,n,e,r]}#ha(){return this.#Vo?Math.ceil(this.thickness*this.parentScale):0}#Yo(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Vo)return void this.#Ko();const e=this.#va(),n=this.#ha();this.#Do=Math.max(iI.MIN_SIZE,e[2]-e[0]),this.#Oo=Math.max(iI.MIN_SIZE,e[3]-e[1]);const r=Math.ceil(n+this.#Do*this.scaleFactor),i=Math.ceil(n+this.#Oo*this.scaleFactor),[o,a]=this.parentDimensions;this.width=r/o,this.height=i/a,this.setAspectRatio(r,i);const s=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#Jo(),this.#Ko(),this.#$o=r,this.#Go=i,this.setDims(r,i);const c=t?n/this.scaleFactor/2:0;this.translate(s-this.translationX-c,l-this.translationY-c)}static deserialize(t,e,n){if(t instanceof OR)return null;const r=super.deserialize(t,e,n);r.thickness=t.thickness,r.color=sT.makeHexColor(...t.color),r.opacity=t.opacity;const[i,o]=r.pageDimensions,a=r.width*i,s=r.height*o,l=r.parentScale,c=t.thickness/2;r.#Vo=!0,r.#$o=Math.round(a),r.#Go=Math.round(s);const{paths:u,rect:d,rotation:h}=t;for(let{bezier:p}of u){p=KR.#ga(p,d,h);const t=[];r.paths.push(t);let e=l*(p[0]-c),n=l*(p[1]-c);for(let r=2,o=p.length;r<o;r+=6){const i=l*(p[r]-c),o=l*(p[r+1]-c),a=l*(p[r+2]-c),s=l*(p[r+3]-c),u=l*(p[r+4]-c),d=l*(p[r+5]-c);t.push([[e,n],[i,o],[a,s],[u,d]]),e=u,n=d}const i=this.#fa(t);r.bezierPath2D.push(i)}const f=r.#va();return r.#Do=Math.max(iI.MIN_SIZE,f[2]-f[0]),r.#Oo=Math.max(iI.MIN_SIZE,f[3]-f[1]),r.#da(a,s),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=iI._colorManager.convert(this.ctx.strokeStyle);return{annotationType:nx.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:this.#ma(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class ZR extends iI{#ya=null;#ba=null;#wa=null;#_a=null;#Aa=null;#Sa="";#Ea=null;#Ca=!1;#Wo=null;#xa=null;#Ta=!1;#Ia=!1;static _type="stamp";static _editorType=(()=>nx.STAMP)();constructor(t){super({...t,name:"stampEditor"}),this.#_a=t.bitmapUrl,this.#Aa=t.bitmapFile}static initialize(t,e){iI.initialize(t,e)}static get supportedTypes(){return Xx(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((t=>`image/${t}`)))}static get supportedTypesStr(){return Xx(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(nx.STAMP,{bitmapFile:t.getAsFile()})}#ka(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.#ya=t.bitmap,e||(this.#ba=t.id,this.#Ta=t.isSvg),t.file&&(this.#Sa=t.file.name),this.#Zo()):this.remove()}#Ra(){this.#wa=null,this._uiManager.enableWaiting(!1),this.#Ea&&this.div.focus()}#Ma(){if(this.#ba)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#ba).then((t=>this.#ka(t,!0))).finally((()=>this.#Ra()));if(this.#_a){const t=this.#_a;return this.#_a=null,this._uiManager.enableWaiting(!0),void(this.#wa=this._uiManager.imageManager.getFromUrl(t).then((t=>this.#ka(t))).finally((()=>this.#Ra())))}if(this.#Aa){const t=this.#Aa;return this.#Aa=null,this._uiManager.enableWaiting(!0),void(this.#wa=this._uiManager.imageManager.getFromFile(t).then((t=>this.#ka(t))).finally((()=>this.#Ra())))}const t=document.createElement("input");t.type="file",t.accept=ZR.supportedTypesStr;const e=this._uiManager._signal;this.#wa=new Promise((n=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this.#ka(e)}else this.remove();n()}),{signal:e}),t.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:e})})).finally((()=>this.#Ra())),t.click()}remove(){this.#ba&&(this.#ya=null,this._uiManager.imageManager.deleteId(this.#ba),this.#Ea?.remove(),this.#Ea=null,this.#Wo?.disconnect(),this.#Wo=null,this.#xa&&(clearTimeout(this.#xa),this.#xa=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#ba&&null===this.#Ea&&this.#Ma(),this.isAttachedToDOM||this.parent.add(this))):this.#ba&&this.#Ma()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#wa||this.#ya||this.#_a||this.#Aa||this.#ba)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#ya?this.#Zo():this.#Ma(),this.width){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r)}return this.div}#Zo(){const{div:t}=this;let{width:e,height:n}=this.#ya;const[r,i]=this.pageDimensions,o=.75;if(this.width)e=this.width*r,n=this.height*i;else if(e>o*r||n>o*i){const t=Math.min(o*r/e,o*i/n);e*=t,n*=t}const[a,s]=this.parentDimensions;this.setDims(e*a/r,n*s/i),this._uiManager.enableWaiting(!1);const l=this.#Ea=document.createElement("canvas");t.append(l),t.hidden=!1,this.#Pa(e,n),this.#Qo(),this.#Ia||(this.parent.addUndoableEditor(this),this.#Ia=!0),this._reportTelemetry({action:"inserted_image"}),this.#Sa&&l.setAttribute("aria-label",this.#Sa)}#Oa(t,e){const[n,r]=this.parentDimensions;this.width=t/n,this.height=e/r,this.setDims(t,e),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#xa&&clearTimeout(this.#xa);this.#xa=setTimeout((()=>{this.#xa=null,this.#Pa(t,e)}),200)}#Da(t,e){const{width:n,height:r}=this.#ya;let i=n,o=r,a=this.#ya;for(;i>2*t||o>2*e;){const n=i,r=o;i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const s=new OffscreenCanvas(i,o);s.getContext("2d").drawImage(a,0,0,n,r,0,0,i,o),a=s.transferToImageBitmap()}return a}async#Na(t,e,n){if(this.#Ca)return;this.#Ca=!0;if(!await this._uiManager.isMLEnabledFor("altText")||this.hasAltText())return;const r=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});r.drawImage(t,0,0,t.width,t.height,0,0,e,n);const i=await this._uiManager.mlGuess({service:"moz-image-to-text",request:{data:r.getImageData(0,0,e,n).data,width:e,height:n,channels:4}}),o=i?.output||"";this.parent&&o&&!this.hasAltText()&&(this.altTextData={altText:o,decorative:!1})}#Pa(t,e){t=Math.ceil(t),e=Math.ceil(e);const n=this.#Ea;if(!n||n.width===t&&n.height===e)return;n.width=t,n.height=e;const r=this.#Ta?this.#ya:this.#Da(t,e);this.#Na(r,t,e);const i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,t,e)}getImageForAltText(){return this.#Ea}#La(t){if(t){if(this.#Ta){const t=this._uiManager.imageManager.getSvgUrl(this.#ba);if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=this.#ya);return t.getContext("2d").drawImage(this.#ya,0,0),t.toDataURL()}if(this.#Ta){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*TT.PDF_TO_CSS_UNITS),r=Math.round(this.height*e*TT.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(this.#ya,0,0,this.#ya.width,this.#ya.height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(this.#ya)}#Qo(){this._uiManager._signal&&(this.#Wo=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.#Oa(e.width,e.height)})),this.#Wo.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Wo?.disconnect(),this.#Wo=null}),{once:!0}))}static deserialize(t,e,n){if(t instanceof BR)return null;const r=super.deserialize(t,e,n),{rect:i,bitmapUrl:o,bitmapId:a,isSvg:s,accessibilityData:l}=t;a&&n.imageManager.isValidId(a)?r.#ba=a:r.#_a=o,r.#Ta=s;const[c,u]=r.pageDimensions;return r.width=(i[2]-i[0])/c,r.height=(i[3]-i[1])/u,l&&(r.altTextData=l),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:nx.STAMP,bitmapId:this.#ba,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#Ta,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#La(!0),n.accessibilityData=this.altTextData,n;const{decorative:r,altText:i}=this.altTextData;if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),null===e)return n;e.stamps||=new Map;const o=this.#Ta?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(this.#ba)){if(this.#Ta){const t=e.stamps.get(this.#ba);o>t.area&&(t.area=o,t.serialized.bitmap.close(),t.serialized.bitmap=this.#La(!1))}}else e.stamps.set(this.#ba,{area:o,serialized:n}),n.bitmap=this.#La(!1);return n}}class QR{#Xr;#Fa=!1;#Ba=null;#ja=null;#za=null;#Va=null;#Ha=null;#Ua=(()=>new Map)();#Wa=!1;#$a=!1;#Ga=!1;#Xa=null;#f;static _initialized=!1;static#F=(()=>new Map([HR,KR,ZR,YR].map((t=>[t._editorType,t]))))();constructor(t){let{uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:s,viewport:l,l10n:c}=t;const u=[...QR.#F.values()];if(!QR._initialized){QR._initialized=!0;for(const t of u)t.initialize(c,e)}e.registerEditorTypes(u),this.#f=e,this.pageIndex=n,this.div=r,this.#Xr=i,this.#Ba=o,this.viewport=l,this.#Xa=s,this.drawLayer=a,this.#f.addLayer(this)}get isEmpty(){return 0===this.#Ua.size}get isInvisible(){return this.isEmpty&&this.#f.getMode()===nx.NONE}updateToolbar(t){this.#f.updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#f.getMode();switch(this.#qa(),t){case nx.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case nx.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case nx.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of QR.#F.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#Xa?.div}addInkEditorIfNeeded(t){if(this.#f.getMode()!==nx.INK)return;if(!t)for(const e of this.#Ua.values())if(e.isEmpty())return void e.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#f.setEditingState(t)}addCommands(t){this.#f.addCommands(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ba?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of this.#Ua.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#f.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#Ba)return;const e=this.#Ba.getEditableAnnotations();for(const n of e){if(n.hide(),this.#f.isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}}disable(){this.#Ga=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of this.#Ua.values())r.disableEditing(),r.annotationElementId&&(null===r.serialize()?(e.set(r.annotationElementId,r),this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()):t.set(r.annotationElementId,r));if(this.#Ba){const n=this.#Ba.getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(this.#f.isDeletedAnnotationElement(n))continue;let i=e.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=t.get(n),i&&(this.#f.addChangedExistingAnnotation(i),i.renderAnnotationElement(r),i.show(!1)),r.show())}}this.#qa(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of QR.#F.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#Ga=!1}getEditableAnnotation(t){return this.#Ba?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#f.getActive()!==t&&this.#f.setActiveEditor(t)}enableTextSelection(){this.div.tabIndex=-1,this.#Xa?.div&&!this.#Va&&(this.#Va=this.#Ya.bind(this),this.#Xa.div.addEventListener("pointerdown",this.#Va,{signal:this.#f._signal}),this.#Xa.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#Xa?.div&&this.#Va&&(this.#Xa.div.removeEventListener("pointerdown",this.#Va),this.#Va=null,this.#Xa.div.classList.remove("highlighting"))}#Ya(t){this.#f.unselectAll();const{target:e}=t;if(e===this.#Xa.div||e.classList.contains("endOfContent")&&this.#Xa.div.contains(e)){const{isMac:e}=oT.platform;if(0!==t.button||t.ctrlKey&&e)return;this.#f.showAllEditors("highlight",!0,!0),this.#Xa.div.classList.add("free"),this.toggleDrawing(),YR.startHighlighting(this,"ltr"===this.#f.direction,t),this.#Xa.div.addEventListener("pointerup",(()=>{this.#Xa.div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:this.#f._signal}),t.preventDefault()}}enableClick(){if(this.#za)return;const t=this.#f._signal;this.#za=this.pointerdown.bind(this),this.#ja=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#za,{signal:t}),this.div.addEventListener("pointerup",this.#ja,{signal:t})}disableClick(){this.#za&&(this.div.removeEventListener("pointerdown",this.#za),this.div.removeEventListener("pointerup",this.#ja),this.#za=null,this.#ja=null)}attach(t){this.#Ua.set(t.id,t);const{annotationElementId:e}=t;e&&this.#f.isDeletedAnnotationElement(e)&&this.#f.removeDeletedAnnotationElement(t)}detach(t){this.#Ua.delete(t.id),this.#Xr?.removePointerInTextLayer(t.contentDiv),!this.#Ga&&t.annotationElementId&&this.#f.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#f.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#$a||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#f.addDeletedAnnotationElement(t.annotationElementId),iI.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),this.#f.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#f.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#Ha&&(t._focusEventsAllowed=!1,this.#Ha=setTimeout((()=>{this.#Ha=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this.#f._signal}),e.focus())}),0)),t._structTreeParentId=this.#Xr?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#f.getId()}get#Ka(){return QR.#F.get(this.#f.getMode())}get _signal(){return this.#f._signal}#Za(t){const e=this.#Ka;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#Ka?.canCreateNewEmptyEditor()}pasteEditor(t,e){this.#f.updateToolbar(t),this.#f.updateMode(t);const{offsetX:n,offsetY:r}=this.#Qa(),i=this.getNextId(),o=this.#Za({parent:this,id:i,x:n,y:r,uiManager:this.#f,isCentered:!0,...e});o&&this.add(o)}deserialize(t){return QR.#F.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#f)||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=this.#Za({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#f,isCentered:e,...n});return i&&this.add(i),i}#Qa(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,t),o=Math.max(0,e),a=(i+Math.min(window.innerWidth,t+n))/2-t,s=(o+Math.min(window.innerHeight,e+r))/2-e,[l,c]=this.viewport.rotation%180===0?[a,s]:[s,a];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#Qa(),!0)}setSelected(t){this.#f.setSelected(t)}toggleSelected(t){this.#f.toggleSelected(t)}isSelected(t){return this.#f.isSelected(t)}unselect(t){this.#f.unselect(t)}pointerup(t){const{isMac:e}=oT.platform;0!==t.button||t.ctrlKey&&e||t.target===this.div&&this.#Wa&&(this.#Wa=!1,this.#Fa?this.#f.getMode()!==nx.STAMP?this.createAndAddNewEditor(t,!1):this.#f.unselectAll():this.#Fa=!0)}pointerdown(t){if(this.#f.getMode()===nx.HIGHLIGHT&&this.enableTextSelection(),this.#Wa)return void(this.#Wa=!1);const{isMac:e}=oT.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;this.#Wa=!0;const n=this.#f.getActive();this.#Fa=!n||n.isEmpty()}findNewParent(t,e,n){const r=this.#f.findParent(e,n);return null!==r&&r!==this&&(r.changeParent(t),!0)}destroy(){this.#f.getActive()?.parent===this&&(this.#f.commitOrRemove(),this.#f.setActiveEditor(null)),this.#Ha&&(clearTimeout(this.#Ha),this.#Ha=null);for(const t of this.#Ua.values())this.#Xr?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#Ua.clear(),this.#f.removeLayer(this)}#qa(){this.#$a=!0;for(const t of this.#Ua.values())t.isEmpty()&&t.remove();this.#$a=!1}render(t){let{viewport:e}=t;this.viewport=e,XT(this.div,e);for(const n of this.#f.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;this.#f.commitOrRemove(),this.#qa();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,XT(this.div,{rotation:r}),n!==r)for(const i of this.#Ua.values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#f.viewParameters.realScale}}class JR{#Tr=null;#v=0;#Ja=(()=>new Map)();#ts=(()=>new Map)();constructor(t){let{pageIndex:e}=t;this.pageIndex=e}setParent(t){if(this.#Tr){if(this.#Tr!==t){if(this.#Ja.size>0)for(const e of this.#Ja.values())e.remove(),t.append(e);this.#Tr=t}}else this.#Tr=t}static get _svgFactory(){return Xx(this,"_svgFactory",new MT)}static#es(t){let{x:e=0,y:n=0,width:r=1,height:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:o}=t;o.top=100*n+"%",o.left=100*e+"%",o.width=100*r+"%",o.height=100*i+"%"}#ns(t){const e=JR._svgFactory.create(1,1,!0);return this.#Tr.append(e),e.setAttribute("aria-hidden",!0),JR.#es(e,t),e}#rs(t,e){const n=JR._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=JR._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${e}`),i.classList.add("clip"),r}highlight(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this.#v++,o=this.#ns(t.box);o.classList.add("highlight"),t.free&&o.classList.add("free");const a=JR._svgFactory.createElement("defs");o.append(a);const s=JR._svgFactory.createElement("path");a.append(s);const l=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",l),s.setAttribute("d",t.toSVGPath()),r&&this.#ts.set(i,s);const c=this.#rs(a,l),u=JR._svgFactory.createElement("use");return o.append(u),o.setAttribute("fill",e),o.setAttribute("fill-opacity",n),u.setAttribute("href",`#${l}`),this.#Ja.set(i,o),{id:i,clipPathId:`url(#${c})`}}highlightOutline(t){const e=this.#v++,n=this.#ns(t.box);n.classList.add("highlightOutline");const r=JR._svgFactory.createElement("defs");n.append(r);const i=JR._svgFactory.createElement("path");r.append(i);const o=`path_p${this.pageIndex}_${e}`;let a;if(i.setAttribute("id",o),i.setAttribute("d",t.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke"),t.free){n.classList.add("free");const t=JR._svgFactory.createElement("mask");r.append(t),a=`mask_p${this.pageIndex}_${e}`,t.setAttribute("id",a),t.setAttribute("maskUnits","objectBoundingBox");const i=JR._svgFactory.createElement("rect");t.append(i),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("fill","white");const s=JR._svgFactory.createElement("use");t.append(s),s.setAttribute("href",`#${o}`),s.setAttribute("stroke","none"),s.setAttribute("fill","black"),s.setAttribute("fill-rule","nonzero"),s.classList.add("mask")}const s=JR._svgFactory.createElement("use");n.append(s),s.setAttribute("href",`#${o}`),a&&s.setAttribute("mask",`url(#${a})`);const l=s.cloneNode();return n.append(l),s.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#Ja.set(e,n),e}finalizeLine(t,e){const n=this.#ts.get(t);this.#ts.delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){this.#Ja.get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),this.#ts.delete(t)}updatePath(t,e){this.#ts.get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){JR.#es(this.#Ja.get(t),e)}show(t,e){this.#Ja.get(t).classList.toggle("hidden",!e)}rotate(t,e){this.#Ja.get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){this.#Ja.get(t).setAttribute("fill",e)}changeOpacity(t,e){this.#Ja.get(t).setAttribute("fill-opacity",e)}addClass(t,e){this.#Ja.get(t).classList.add(e)}removeClass(t,e){this.#Ja.get(t).classList.remove(e)}remove(t){null!==this.#Tr&&(this.#Ja.get(t).remove(),this.#Ja.delete(t))}destroy(){this.#Tr=null;for(const t of this.#Ja.values())t.remove();this.#Ja.clear()}}var tM=HC.getDocument;"undefined"!==typeof window&&"Worker"in window&&(HC.GlobalWorkerOptions.workerPort=new Worker(new URL(__webpack_require__.p+__webpack_require__.u(581),__webpack_require__.b),{type:void 0}));var eM,nM,rM=(eM=function(t,e){return eM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},eM(t,e)},function(t,e){function n(){this.constructor=t}eM(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),iM=function(t){function e(e){var n,r,i,o=this.constructor,a=t.call(this,e)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1,configurable:!0}),n=a,r=o.prototype,(i=Object.setPrototypeOf)?i(n,r):n.__proto__=r,function(t,e){void 0===e&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}(a),a}return rM(e,t),e}(Error),oM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aM=function(t){function e(e){void 0===e&&(e=void 0);var n=t.call(this,e)||this;return n.message=e,n}return oM(e,t),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(iM),sM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sM(e,t),e.kind="ArgumentException",e}(aM),cM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cM(e,t),e.kind="IllegalArgumentException",e}(aM),dM=function(){function t(t){if(this.binarizer=t,null===t)throw new uM("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},t.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(t){return""}},t}(),hM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hM(e,t),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(aM),pM=function(){function t(t){this.source=t}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),gM=function(){function t(){}return t.arraycopy=function(t,e,n,r,i){for(;i--;)n[r++]=t[e++]},t.currentTimeMillis=function(){return Date.now()},t}(),mM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mM(e,t),e.kind="IndexOutOfBoundsException",e}(aM),yM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bM=function(t){function e(e,n){void 0===e&&(e=void 0),void 0===n&&(n=void 0);var r=t.call(this,n)||this;return r.index=e,r.message=n,r}return yM(e,t),e.kind="ArrayIndexOutOfBoundsException",e}(vM),wM=function(){function t(){}return t.fill=function(t,e){for(var n=0,r=t.length;n<r;n++)t[n]=e},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var o=n;o<r;o++)e[o]=i},t.rangeCheck=function(t,e,n){if(e>n)throw new uM("fromIndex("+e+") > toIndex("+n+")");if(e<0)throw new bM(e);if(n>t)throw new bM(n)},t.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},t.create=function(t,e,n){return Array.from({length:t}).map((function(t){return Array.from({length:e}).fill(n)}))},t.createInt32Array=function(t,e,n){return Array.from({length:t}).map((function(t){return Int32Array.from({length:e}).fill(n)}))},t.equals=function(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},t.hashCode=function(t){var e,n;if(null===t)return 0;var r=1;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next())r=31*r+o.value}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.fillUint8Array=function(t,e){for(var n=0;n!==t.length;n++)t[n]=e},t.copyOf=function(t,e){return t.slice(0,e)},t.copyOfUint8Array=function(t,e){if(t.length<=e){var n=new Uint8Array(e);return n.set(t),n}return t.slice(0,e)},t.copyOfRange=function(t,e,n){var r=n-e,i=new Int32Array(r);return gM.arraycopy(t,e,i,0,r),i},t.binarySearch=function(e,n,r){void 0===r&&(r=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=r(n,e[a]);if(s>0)i=a+1;else{if(!(s<0))return a;o=a-1}}return-i-1},t.numberComparator=function(t,e){return t-e},t}(),_M=function(){function t(){}return t.numberOfTrailingZeros=function(t){var e;if(0===t)return 32;var n=31;return 0!==(e=t<<16)&&(n-=16,t=e),0!==(e=t<<8)&&(n-=8,t=e),0!==(e=t<<4)&&(n-=4,t=e),0!==(e=t<<2)&&(n-=2,t=e),n-(t<<1>>>31)},t.numberOfLeadingZeros=function(t){if(0===t)return 32;var e=1;return t>>>16==0&&(e+=16,t<<=16),t>>>24==0&&(e+=8,t<<=8),t>>>28==0&&(e+=4,t<<=4),t>>>30==0&&(e+=2,t<<=2),e-(t>>>31)},t.toHexString=function(t){return t.toString(16)},t.toBinaryString=function(t){return String(parseInt(String(t),2))},t.bitCount=function(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,63&(t+=t>>>8)+(t>>>16)},t.truncDivision=function(t,e){return Math.trunc(t/e)},t.parseInt=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),AM=function(){function t(e,n){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==n?t.makeArray(e):n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var n=t.makeArray(e);gM.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(t){return 0!=(this.bits[Math.floor(t/32)]&1<<(31&t))},t.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)},t.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)},t.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),i=n[r];i&=~((1<<(31&t))-1);for(var o=n.length;0===i;){if(++r===o)return e;i=n[r]}var a=32*r+_M.numberOfTrailingZeros(i);return a>e?e:a},t.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),i=~n[r];i&=~((1<<(31&t))-1);for(var o=n.length;0===i;){if(++r===o)return e;i=~n[r]}var a=32*r+_M.numberOfTrailingZeros(i);return a>e?e:a},t.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},t.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new uM;if(e!==t){e--;for(var n=Math.floor(t/32),r=Math.floor(e/32),i=this.bits,o=n;o<=r;o++){var a=(2<<(o<r?31:31&e))-(1<<(o>n?0:31&t));i[o]|=a}}},t.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,n=0;n<t;n++)e[n]=0},t.prototype.isRange=function(t,e,n){if(e<t||t<0||e>this.size)throw new uM;if(e===t)return!0;e--;for(var r=Math.floor(t/32),i=Math.floor(e/32),o=this.bits,a=r;a<=i;a++){var s=(2<<(a<i?31:31&e))-(1<<(a>r?0:31&t))&4294967295;if((o[a]&s)!==(n?s:0))return!1}return!0},t.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(t,e){if(e<0||e>32)throw new uM("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var n=e;n>0;n--)this.appendBit(1==(t>>n-1&1))},t.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var n=0;n<e;n++)this.appendBit(t.get(n))},t.prototype.xor=function(t){if(this.size!==t.size)throw new uM("Sizes don't match");for(var e=this.bits,n=0,r=e.length;n<r;n++)e[n]^=t.bits[n]},t.prototype.toBytes=function(t,e,n,r){for(var i=0;i<r;i++){for(var o=0,a=0;a<8;a++)this.get(t)&&(o|=1<<7-a),t++;e[n+i]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),n=e+1,r=this.bits,i=0;i<n;i++){var o=r[i];o=(o=(o=(o=(o=o>>1&1431655765|(1431655765&o)<<1)>>2&858993459|(858993459&o)<<2)>>4&252645135|(252645135&o)<<4)>>8&16711935|(16711935&o)<<8)>>16&65535|(65535&o)<<16,t[e-i]=o}if(this.size!==32*n){var a=32*n-this.size,s=t[0]>>>a;for(i=1;i<n;i++){var l=t[i];s|=l<<32-a,t[i-1]=s,s=l>>>a}t[n-1]=s}this.bits=t},t.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&wM.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+wM.hashCode(this.bits)},t.prototype.toString=function(){for(var t="",e=0,n=this.size;e<n;e++)0==(7&e)&&(t+=" "),t+=this.get(e)?"X":".";return t},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t}();!function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(nM||(nM={}));var SM,EM=nM,CM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return CM(e,t),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(aM);!function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"}(SM||(SM={}));var TM,IM=function(){function t(e,n,r){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,this.values="number"==typeof n?Int32Array.from([n]):n,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var d=l[c];t.VALUES_TO_ECI.set(d,this)}try{for(var h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),f=h.next();!f.done;f=h.next()){var p=f.value;t.NAME_TO_ECI.set(p,this)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new xM("incorect value");var n=t.VALUES_TO_ECI.get(e);if(void 0===n)throw new xM("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(void 0===n)throw new xM("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(SM.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(SM.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(SM.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(SM.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(SM.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(SM.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(SM.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(SM.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(SM.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(SM.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(SM.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(SM.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(SM.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(SM.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(SM.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(SM.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(SM.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(SM.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(SM.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(SM.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(SM.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(SM.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(SM.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(SM.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(SM.Big5,28,"Big5"),t.GB18030=new t(SM.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(SM.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),kM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kM(e,t),e.kind="UnsupportedOperationException",e}(aM),MM=function(){function t(){}return t.decode=function(t,e){var n=this.encodingName(e);return this.customDecoder?this.customDecoder(t,n):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&"ISO-8859-1"===e},t.encode=function(t,e){var n=this.encodingName(e);return this.customEncoder?this.customEncoder(t,n):"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)},t.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},t.encodingName=function(t){return"string"==typeof t?t:t.getName()},t.encodingCharacterSet=function(t){return t instanceof IM?t:IM.getCharacterSetECIByName(t)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(r.equals(IM.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new RM("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(t){return t.equals(IM.UTF8)||t.equals(IM.ISO8859_1)||t.equals(IM.ASCII)},t.encodeFallback=function(t){for(var e=btoa(unescape(encodeURIComponent(t))).split(""),n=[],r=0;r<e.length;r++)n.push(e[r].charCodeAt(0));return new Uint8Array(n)},t}(),PM=function(){function t(){}return t.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var n=e?e.getName():this.ISO88591;return MM.decode(new Uint8Array([t]),n)},t.guessEncoding=function(e,n){if(null!=n&&void 0!==n.get(EM.CHARACTER_SET))return n.get(EM.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,a=!0,s=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,g=0,m=0,v=0,y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],b=0;b<r&&(i||o||a);b++){var w=255&e[b];a&&(s>0?0==(128&w)?a=!1:s--:0!=(128&w)&&(0==(64&w)?a=!1:(s++,0==(32&w)?l++:(s++,0==(16&w)?c++:(s++,0==(8&w)?u++:a=!1))))),i&&(w>127&&w<160?i=!1:w>159&&(w<192||215===w||247===w)&&v++),o&&(d>0?w<64||127===w||w>252?o=!1:d--:128===w||160===w||w>239?o=!1:w>160&&w<224?(h++,p=0,++f>g&&(g=f)):w>127?(d++,f=0,++p>m&&(m=p)):(f=0,p=0))}return a&&s>0&&(a=!1),o&&d>0&&(o=!1),a&&(y||l+c+u>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||g>=3||m>=3)?t.SHIFT_JIS:i&&o?2===g&&2===h||10*v>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,n,i,o,a,s){if("%%"===t)return"%";if(void 0!==e[++r]){t=o?parseInt(o.substr(1)):void 0;var l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=e[r];break;case"c":l=e[r][0];break;case"f":l=parseFloat(e[r]).toFixed(t);break;case"p":l=parseFloat(e[r]).toPrecision(t);break;case"e":l=parseFloat(e[r]).toExponential(t);break;case"x":l=parseInt(e[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(e[r],c||10).toPrecision(t)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);for(var u=parseInt(i),d=i&&i[0]+""=="0"?"0":" ";l.length<u;)l=void 0!==n?l+d:d+l;return l}}))},t.getBytes=function(t,e){return MM.encode(t,e)},t.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},t.getCharAt=function(t){return String.fromCharCode(t)},t.SHIFT_JIS=IM.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=IM.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=IM.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),OM=function(){function t(t){void 0===t&&(t=""),this.value=t}return t.prototype.enableDecoding=function(t){return this.encoding=t,this},t.prototype.append=function(t){return"string"==typeof t?this.value+=t.toString():this.encoding?this.value+=PM.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},t.prototype.appendChars=function(t,e,n){for(var r=e;e<e+n;r++)this.append(t[r]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(t){return this.value.charAt(t)},t.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},t.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},t.prototype.substring=function(t,e){return this.value.substring(t,e)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)},t}(),DM=function(){function t(t,e,n,r){if(this.width=t,this.height=e,this.rowSize=n,this.bits=r,null==e&&(e=t),this.height=e,t<1||e<1)throw new uM("Both dimensions must be greater than 0");null==n&&(n=Math.floor((t+31)/32)),this.rowSize=n,null==r&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),o=0;o<n;o++)for(var a=e[o],s=0;s<r;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,n,r){if(null===e)throw new uM("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,l=0,c=0;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new uM("row lengths do not match");a=o,l++}c++}else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!0,o++;else{if(e.substring(c,c+r.length)!==r)throw new uM("illegal character encountered: "+e.substring(c));c+=r.length,i[o]=!1,o++}if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new uM("row lengths do not match");l++}for(var u=new t(s,l),d=0;d<o;d++)i[d]&&u.set(Math.floor(d%s),Math.floor(d/s));return u},t.prototype.get=function(t,e){var n=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[n]>>>(31&t)&1)},t.prototype.set=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(31&t)&4294967295},t.prototype.unset=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(31&t)&4294967295)},t.prototype.flip=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(31&t)&4294967295},t.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new uM("input matrix dimensions do not match");for(var e=new AM(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,i=0,o=this.height;i<o;i++)for(var a=i*n,s=t.getRow(i,e).getBitArray(),l=0;l<n;l++)r[a+l]^=s[l]},t.prototype.clear=function(){for(var t=this.bits,e=t.length,n=0;n<e;n++)t[n]=0},t.prototype.setRegion=function(t,e,n,r){if(e<0||t<0)throw new uM("Left and top must be nonnegative");if(r<1||n<1)throw new uM("Height and width must be at least 1");var i=t+n,o=e+r;if(o>this.height||i>this.width)throw new uM("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,l=e;l<o;l++)for(var c=l*a,u=t;u<i;u++)s[c+Math.floor(u/32)]|=1<<(31&u)&4294967295},t.prototype.getRow=function(t,e){null==e||e.getSize()<this.width?e=new AM(this.width):e.clear();for(var n=this.rowSize,r=this.bits,i=t*n,o=0;o<n;o++)e.setBulk(32*o,r[i+o]);return e},t.prototype.setRow=function(t,e){gM.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),n=new AM(t),r=new AM(t),i=0,o=Math.floor((e+1)/2);i<o;i++)n=this.getRow(i,n),r=this.getRow(e-1-i,r),n.reverse(),r.reverse(),this.setRow(i,r),this.setRow(e-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var t=this.width,e=this.height,n=this.rowSize,r=this.bits,i=t,o=e,a=-1,s=-1,l=0;l<e;l++)for(var c=0;c<n;c++){var u=r[l*n+c];if(0!==u){if(l<o&&(o=l),l>s&&(s=l),32*c<i){for(var d=0;0==(u<<31-d&4294967295);)d++;32*c+d<i&&(i=32*c+d)}if(32*c+31>a){for(d=31;u>>>d==0;)d--;32*c+d>a&&(a=32*c+d)}}}return a<i||s<o?null:Int32Array.from([i,o,a-i+1,s-o+1])},t.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,n=0;n<e.length&&0===e[n];)n++;if(n===e.length)return null;for(var r=n/t,i=n%t*32,o=e[n],a=0;0==(o<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,r])},t.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,n=e.length-1;n>=0&&0===e[n];)n--;if(n<0)return null;for(var r=Math.floor(n/t),i=32*Math.floor(n%t),o=e[n],a=31;o>>>a==0;)a--;return i+=a,Int32Array.from([i,r])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&wM.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var t=this.width;return 31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+wM.hashCode(this.bits)},t.prototype.toString=function(t,e,n){return void 0===t&&(t="X "),void 0===e&&(e="  "),void 0===n&&(n="\n"),this.buildToString(t,e,n)},t.prototype.buildToString=function(t,e,n){for(var r=new OM,i=0,o=this.height;i<o;i++){for(var a=0,s=this.width;a<s;a++)r.append(this.get(a,i)?t:e);r.append(n)}return r.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),NM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return NM(e,t),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(aM),FM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BM=function(t){function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return FM(e,t),e.prototype.getBlackRow=function(t,n){var r=this.getLuminanceSource(),i=r.getWidth();null==n||n.getSize()<i?n=new AM(i):n.clear(),this.initArrays(i);for(var o=r.getRow(t,this.luminances),a=this.buckets,s=0;s<i;s++)a[(255&o[s])>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(a);if(i<3)for(s=0;s<i;s++)(255&o[s])<l&&n.set(s);else{var c=255&o[0],u=255&o[1];for(s=1;s<i-1;s++){var d=255&o[s+1];(4*u-c-d)/2<l&&n.set(s),c=u,u=d}}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),r=t.getHeight(),i=new DM(n,r);this.initArrays(n);for(var o=this.buckets,a=1;a<5;a++)for(var s=Math.floor(r*a/5),l=t.getRow(s,this.luminances),c=Math.floor(4*n/5),u=Math.floor(n/5);u<c;u++)o[(255&l[u])>>e.LUMINANCE_SHIFT]++;var d=e.estimateBlackPoint(o),h=t.getMatrix();for(a=0;a<r;a++){var f=a*n;for(u=0;u<n;u++)(255&h[f+u])<d&&i.set(u,a)}return i},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,r=0;r<e.LUMINANCE_BUCKETS;r++)n[r]=0},e.estimateBlackPoint=function(t){for(var n=t.length,r=0,i=0,o=0,a=0;a<n;a++)t[a]>o&&(i=a,o=t[a]),t[a]>r&&(r=t[a]);var s=0,l=0;for(a=0;a<n;a++){var c=a-i;(f=t[a]*c*c)>l&&(s=a,l=f)}if(i>s){var u=i;i=s,s=u}if(s-i<=n/16)throw new LM;var d=s-1,h=-1;for(a=s-1;a>i;a--){var f,p=a-i;(f=p*p*(s-a)*(r-t[a]))>h&&(d=a,h=f)}return d<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(pM),jM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zM=function(t){function e(e){var n=t.call(this,e)||this;return n.matrix=null,n}return jM(e,t),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=n.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;0!=(r&e.BLOCK_SIZE_MASK)&&a++;var s=i>>e.BLOCK_SIZE_POWER;0!=(i&e.BLOCK_SIZE_MASK)&&s++;var l=e.calculateBlackPoints(o,a,s,r,i),c=new DM(r,i);e.calculateThresholdForBlock(o,a,s,r,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,r,i,o,a,s){for(var l=o-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,u=0;u<r;u++){var d=u<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var h=e.cap(u,2,r-3),f=0;f<n;f++){var p=f<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var g=e.cap(f,2,n-3),m=0,v=-2;v<=2;v++){var y=a[h+v];m+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}var b=m/25;e.thresholdBlock(t,p,d,b,i,s)}}},e.cap=function(t,e,n){return t<e?e:t>n?n:t},e.thresholdBlock=function(t,n,r,i,o,a){for(var s=0,l=r*o+n;s<e.BLOCK_SIZE;s++,l+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(255&t[l+c])<=i&&a.set(n+c,r+s)},e.calculateBlackPoints=function(t,n,r,i,o){for(var a=o-e.BLOCK_SIZE,s=i-e.BLOCK_SIZE,l=new Array(r),c=0;c<r;c++){l[c]=new Int32Array(n);var u=c<<e.BLOCK_SIZE_POWER;u>a&&(u=a);for(var d=0;d<n;d++){var h=d<<e.BLOCK_SIZE_POWER;h>s&&(h=s);for(var f=0,p=255,g=0,m=0,v=u*i+h;m<e.BLOCK_SIZE;m++,v+=i){for(var y=0;y<e.BLOCK_SIZE;y++){var b=255&t[v+y];f+=b,b<p&&(p=b),b>g&&(g=b)}if(g-p>e.MIN_DYNAMIC_RANGE)for(m++,v+=i;m<e.BLOCK_SIZE;m++,v+=i)for(y=0;y<e.BLOCK_SIZE;y++)f+=255&t[v+y]}var w=f>>2*e.BLOCK_SIZE_POWER;if(g-p<=e.MIN_DYNAMIC_RANGE&&(w=p/2,c>0&&d>0)){var _=(l[c-1][d]+2*l[c][d-1]+l[c-1][d-1])/4;p<_&&(w=_)}l[c][d]=w}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(BM),VM=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(t,e,n,r){throw new RM("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new RM("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new RM("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new OM,n=0;n<this.height;n++){for(var r=this.getRow(n,t),i=0;i<this.width;i++){var o,a=255&r[i];o=a<64?"#":a<128?"+":a<192?".":" ",e.append(o)}e.append("\n")}return e.toString()},t}(),HM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UM=function(t){function e(e){var n=t.call(this,e.getWidth(),e.getHeight())||this;return n.delegate=e,n}return HM(e,t),e.prototype.getRow=function(t,e){for(var n=this.delegate.getRow(t,e),r=this.getWidth(),i=0;i<r;i++)n[i]=255-(255&n[i]);return n},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(e),r=0;r<e;r++)n[r]=255-(255&t[r]);return n},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,r,i){return new e(this.delegate.crop(t,n,r,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(VM),WM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$M=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return WM(e,t),e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,e,n){for(var r=new Uint8ClampedArray(e*n),i=0,o=0,a=t.length;i<a;i+=4,o++){var s=void 0;s=0===t[i+3]?255:306*t[i]+601*t[i+1]+117*t[i+2]+512>>10,r[o]=s}return r},e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new uM("Requested row is outside the image: "+t);var n=this.getWidth(),r=t*n;return null===e?e=this.buffer.slice(r,r+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(r,r+n))),e},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(e,n,r,i){return t.prototype.crop.call(this,e,n,r,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),r=n.getContext("2d"),i=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),l=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);return n.width=s,n.height=l,r.translate(s/2,l/2),r.rotate(i),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new UM(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(VM),GM=function(){function t(t,e,n){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),XM=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},qM=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},YM=function(){function t(t,e,n){void 0===e&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return XM(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,l,c,u,d;return qM(this,(function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=h.sent(),e=[];try{for(n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r=n.next();!r.done;r=n.next())i=r.value,"videoinput"===(o="video"===i.kind?"videoinput":i.kind)&&(a=i.deviceId||i.id,s=i.label||"Video device "+(e.length+1),l=i.groupId,c={deviceId:a,label:s,kind:o,groupId:l},e.push(c))}catch(t){u={error:t}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(u)throw u.error}}return[2,e]}}))}))},t.prototype.getVideoInputDevices=function(){return XM(this,void 0,void 0,(function(){return qM(this,(function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,t.sent().map((function(t){return new GM(t.deviceId,t.label)}))]}}))}))},t.prototype.findDeviceById=function(t){return XM(this,void 0,void 0,(function(){var e;return qM(this,(function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(e=n.sent())?[2,e.find((function(e){return e.deviceId===t}))]:[2,null]}}))}))},t.prototype.decodeFromInputVideoDevice=function(t,e){return XM(this,void 0,void 0,(function(){return qM(this,(function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.decodeOnceFromVideoDevice=function(t,e){return XM(this,void 0,void 0,(function(){var n;return qM(this,(function(r){switch(r.label){case 0:return this.reset(),n={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromConstraints=function(t,e){return XM(this,void 0,void 0,(function(){var n;return qM(this,(function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,e)];case 2:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromStream=function(t,e){return XM(this,void 0,void 0,(function(){var n;return qM(this,(function(r){switch(r.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return n=r.sent(),[4,this.decodeOnce(n)];case 2:return[2,r.sent()]}}))}))},t.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,n){return XM(this,void 0,void 0,(function(){return qM(this,(function(r){switch(r.label){case 0:return[4,this.decodeFromVideoDevice(t,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeFromVideoDevice=function(t,e,n){return XM(this,void 0,void 0,(function(){var r;return qM(this,(function(i){switch(i.label){case 0:return r={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(r,e,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.decodeFromConstraints=function(t,e,n){return XM(this,void 0,void 0,(function(){var r;return qM(this,(function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[4,this.decodeFromStream(r,e,n)];case 2:return[2,i.sent()]}}))}))},t.prototype.decodeFromStream=function(t,e,n){return XM(this,void 0,void 0,(function(){var r;return qM(this,(function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=i.sent(),[4,this.decodeContinuously(r,n)];case 2:return[2,i.sent()]}}))}))},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(t,e){return XM(this,void 0,void 0,(function(){var n;return qM(this,(function(r){switch(r.label){case 0:return n=this.prepareVideoElement(e),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return r.sent(),[2,n]}}))}))},t.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise((function(n,r){return e.playVideoOnLoad(t,(function(){return n()}))}))},t.prototype.playVideoOnLoad=function(t,e){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},t.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},t.prototype.tryPlayVideo=function(t){return XM(this,void 0,void 0,(function(){return qM(this,(function(e){switch(e.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.play()];case 2:return e.sent(),[3,4];case 3:return e.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}}))}))},t.prototype.getMediaElement=function(t,e){var n=document.getElementById(t);if(!n)throw new lM("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new lM("element with id '"+t+"' must be an "+e+" element");return n},t.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new lM("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},t.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new lM("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},t.prototype.decodeFromVideoContinuously=function(t,e,n){if(void 0===t&&void 0===e)throw new lM("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,n):this.decodeFromVideoElementContinuously(t,n)},t.prototype.decodeFromImageElement=function(t){if(!t)throw new lM("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)},t.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},t.prototype.decodeFromVideoElementContinuously=function(t,e){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,e)},t.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new lM("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},t.prototype.decodeFromImageUrl=function(t){if(!t)throw new lM("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var n=this._decodeOnLoadImage(e);return e.src=t,n},t.prototype.decodeFromVideoUrl=function(t){if(!t)throw new lM("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),n=this.decodeFromVideoElement(e);return e.src=t,n},t.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new lM("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,e);return n.src=t,r},t.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise((function(n,r){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(n,r)},t.addEventListener("load",e.imageLoadedListener)}))},t.prototype._decodeOnLoadVideo=function(t){return XM(this,void 0,void 0,(function(){return qM(this,(function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}}))}))},t.prototype._decodeOnLoadVideoContinuously=function(t,e){return XM(this,void 0,void 0,(function(){return qM(this,(function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,e),[2]}}))}))},t.prototype.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.prototype.prepareImageElement=function(t){var e;return void 0===t&&((e=document.createElement("img")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},t.prototype.prepareVideoElement=function(t){var e;return t||"undefined"==typeof document||((e=document.createElement("video")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},t.prototype.decodeOnce=function(t,e,n){var r=this;void 0===e&&(e=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var i=function(o,a){if(r._stopAsyncDecode)return a(new LM("Video stream has ended before any code could be detected.")),void(r._stopAsyncDecode=void 0);try{o(r.decode(t))}catch(t){if(e&&t instanceof LM||(t instanceof fM||t instanceof xM)&&n)return setTimeout(i,r._timeBetweenDecodingAttempts,o,a);a(t)}};return new Promise((function(t,e){return i(t,e)}))},t.prototype.decodeContinuously=function(t,e){var n=this;this._stopContinuousDecode=!1;var r=function(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var i=n.decode(t);e(i,null),setTimeout(r,n.timeBetweenScansMillis)}catch(t){e(null,t),(t instanceof fM||t instanceof xM||t instanceof LM)&&setTimeout(r,n._timeBetweenDecodingAttempts)}};r()},t.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},t.prototype.createBinaryBitmap=function(t){var e=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(e,t);var n=this.getCaptureCanvas(t),r=new $M(n),i=new zM(r);return new dM(i)},t.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=e}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},t.prototype.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},t.prototype.createCaptureCanvas=function(t){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var e,n,r=document.createElement("canvas");return void 0!==t&&(t instanceof HTMLVideoElement?(e=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&&(e=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),r.style.width=e+"px",r.style.height=n+"px",r.width=e,r.height=n,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach((function(t){return t.stop()})),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch(zi){t.src=URL.createObjectURL(e)}},t.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch(AL){t.src=""}this.videoElement.removeAttribute("src")},t}(),KM=function(){function t(t,e,n,r,i,o){void 0===n&&(n=null==e?0:8*e.length),void 0===o&&(o=gM.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=n,this.resultPoints=r,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=e,this.numBits=null==n?null==e?0:8*e.length:n,this.resultPoints=r,this.format=i,this.resultMetadata=null,this.timestamp=null==o?gM.currentTimeMillis():o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},t.prototype.putAllMetadata=function(t){null!==t&&(null===this.resultMetadata?this.resultMetadata=t:this.resultMetadata=new Map(t))},t.prototype.addResultPoints=function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var n=new Array(e.length+t.length);gM.arraycopy(e,0,n,0,e.length),gM.arraycopy(t,0,n,e.length,t.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();!function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(TM||(TM={}));var ZM,QM=TM;!function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(ZM||(ZM={}));var JM,tP=ZM,eP=function(){function t(t,e,n,r,i,o){void 0===i&&(i=-1),void 0===o&&(o=-1),this.rawBytes=t,this.text=e,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==t?0:8*t.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(t){this.numBits=t},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(t){this.erasures=t},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(t){this.other=t},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),nP=function(){function t(){}return t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new uM;return this.logTable[t]},t.addOrSubtract=function(t,e){return t^e},t}(),rP=function(){function t(t,e){if(0===e.length)throw new uM;this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),gM.arraycopy(e,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);var e,n=this.coefficients;if(1===t){e=0;for(var r=0,i=n.length;r!==i;r++){var o=n[r];e=nP.addOrSubtract(e,o)}return e}e=n[0];var a=n.length,s=this.field;for(r=1;r<a;r++)e=nP.addOrSubtract(s.multiply(t,e),n[r]);return e},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new uM("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;gM.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=nP.addOrSubtract(n[s-a],r[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new uM("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=this.field,l=0;l<r;l++)for(var c=n[l],u=0;u<o;u++)a[l+u]=nP.addOrSubtract(a[l+u],s.multiply(c,i[u]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients,a=0;a<n;a++)i[a]=r.multiply(o[a],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new uM;if(0===n)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(r[s],n);return new t(a,o)},t.prototype.divide=function(t){if(!this.field.equals(t.field))throw new uM("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new uM("Divide by 0");for(var e=this.field,n=e.getZero(),r=this,i=t.getCoefficient(t.getDegree()),o=e.inverse(i);r.getDegree()>=t.getDegree()&&!r.isZero();){var a=r.getDegree()-t.getDegree(),s=e.multiply(r.getCoefficient(r.getDegree()),o),l=t.multiplyByMonomial(a,s),c=e.buildMonomial(a,s);n=n.addOrSubtract(c),r=r.addOrSubtract(l)}return[n,r]},t.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);if(0!==n){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),0===e||1!==n){var r=this.field.log(n);0===r?t+="1":1===r?t+="a":(t+="a^",t+=r)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t},t}(),iP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return iP(e,t),e.kind="ArithmeticException",e}(aM),aP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sP=function(t){function e(e,n,r){var i=t.call(this)||this;i.primitive=e,i.size=n,i.generatorBase=r;for(var o=new Int32Array(n),a=1,s=0;s<n;s++)o[s]=a,(a*=2)>=n&&(a^=e,a&=n-1);i.expTable=o;var l=new Int32Array(n);for(s=0;s<n-1;s++)l[o[s]]=s;return i.logTable=l,i.zero=new rP(i,Int32Array.from([0])),i.one=new rP(i,Int32Array.from([1])),i}return aP(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new uM;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new rP(this,n)},e.prototype.inverse=function(t){if(0===t)throw new oP;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+_M.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(nP),lP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lP(e,t),e.kind="ReedSolomonException",e}(aM),uP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uP(e,t),e.kind="IllegalStateException",e}(aM),hP=function(){function t(t){this.field=t}return t.prototype.decode=function(t,e){for(var n=this.field,r=new rP(n,t),i=new Int32Array(e),o=!0,a=0;a<e;a++){var s=r.evaluateAt(n.exp(a+n.getGeneratorBase()));i[i.length-1-a]=s,0!==s&&(o=!1)}if(!o){var l=new rP(n,i),c=this.runEuclideanAlgorithm(n.buildMonomial(e,1),l,e),u=c[0],d=c[1],h=this.findErrorLocations(u),f=this.findErrorMagnitudes(d,h);for(a=0;a<h.length;a++){var p=t.length-1-n.log(h[a]);if(p<0)throw new cP("Bad error location");t[p]=sP.addOrSubtract(t[p],f[a])}}},t.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var i=this.field,o=t,a=e,s=i.getZero(),l=i.getOne();a.getDegree()>=(n/2|0);){var c=o,u=s;if(s=l,(o=a).isZero())throw new cP("r_{i-1} was zero");a=c;for(var d=i.getZero(),h=o.getCoefficient(o.getDegree()),f=i.inverse(h);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),f);d=d.addOrSubtract(i.buildMonomial(p,g)),a=a.addOrSubtract(o.multiplyByMonomial(p,g))}if(l=d.multiply(s).addOrSubtract(u),a.getDegree()>=o.getDegree())throw new dP("Division algorithm failed to reduce polynomial?")}var m=l.getCoefficient(0);if(0===m)throw new cP("sigmaTilde(0) was zero");var v=i.inverse(m);return[l.multiplyScalar(v),a.multiplyScalar(v)]},t.prototype.findErrorLocations=function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(e),r=0,i=this.field,o=1;o<i.getSize()&&r<e;o++)0===t.evaluateAt(o)&&(n[r]=i.inverse(o),r++);if(r!==e)throw new cP("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(t,e){for(var n=e.length,r=new Int32Array(n),i=this.field,o=0;o<n;o++){for(var a=i.inverse(e[o]),s=1,l=0;l<n;l++)if(o!==l){var c=i.multiply(e[l],a),u=0==(1&c)?1|c:-2&c;s=i.multiply(s,u)}r[o]=i.multiply(t.evaluateAt(a),i.inverse(s)),0!==i.getGeneratorBase()&&(r[o]=i.multiply(r[o],a))}return r},t}();!function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"}(JM||(JM={}));var fP=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new eP(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(t){return this.getEncodedData(t)},t.getEncodedData=function(e){for(var n=e.length,r=JM.UPPER,i=JM.UPPER,o="",a=0;a<n;)if(i===JM.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,0===s){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var l=0;l<s;l++){if(n-a<8){a=n;break}var c=t.readCode(e,a,8);o+=PM.castAsNonUtf8Char(c),a+=8}i=r}else{var u=i===JM.DIGIT?4:5;if(n-a<u)break;c=t.readCode(e,a,u),a+=u;var d=t.getCharacter(i,c);d.startsWith("CTRL_")?(r=i,i=t.getTable(d.charAt(5)),"L"===d.charAt(6)&&(r=i)):(o+=d,i=r)}return o},t.getTable=function(t){switch(t){case"L":return JM.LOWER;case"P":return JM.PUNCT;case"M":return JM.MIXED;case"D":return JM.DIGIT;case"B":return JM.BINARY;default:return JM.UPPER}},t.getCharacter=function(e,n){switch(e){case JM.UPPER:return t.UPPER_TABLE[n];case JM.LOWER:return t.LOWER_TABLE[n];case JM.MIXED:return t.MIXED_TABLE[n];case JM.PUNCT:return t.PUNCT_TABLE[n];case JM.DIGIT:return t.DIGIT_TABLE[n];default:throw new dP("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=sP.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=sP.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=sP.AZTEC_DATA_10):(r=12,n=sP.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new xM;for(var a=e.length%r,s=new Int32Array(o),l=0;l<o;l++,a+=r)s[l]=t.readCode(e,a,r);try{new hP(n).decode(s,o-i)}catch(t){throw new xM(t)}var c=(1<<r)-1,u=0;for(l=0;l<i;l++){if(0===(f=s[l])||f===c)throw new xM;1!==f&&f!==c-1||u++}var d=new Array(i*r-u),h=0;for(l=0;l<i;l++){var f;if(1===(f=s[l])||f===c-1)d.fill(f>1,h,h+r-1),h+=r-1;else for(var p=r-1;p>=0;--p)d[h++]=0!=(f&1<<p)}return d},t.prototype.extractBits=function(t){var e=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(e?11:14)+4*n,i=new Int32Array(r),o=new Array(this.totalBitsInLayer(n,e));if(e)for(var a=0;a<i.length;a++)i[a]=a;else{var s=r+1+2*_M.truncDivision(_M.truncDivision(r,2)-1,15),l=r/2,c=_M.truncDivision(s,2);for(a=0;a<l;a++){var u=a+_M.truncDivision(a,15);i[l-a-1]=c-u-1,i[l+a]=c+u+1}}a=0;for(var d=0;a<n;a++){for(var h=4*(n-a)+(e?9:12),f=2*a,p=r-1-f,g=0;g<h;g++)for(var m=2*g,v=0;v<2;v++)o[d+m+v]=t.get(i[f+v],i[f+g]),o[d+2*h+m+v]=t.get(i[f+g],i[p-v]),o[d+4*h+m+v]=t.get(i[p-v],i[p-g]),o[d+6*h+m+v]=t.get(i[p-g],i[f+v]);d+=8*h}return o},t.readCode=function(t,e,n){for(var r=0,i=e;i<e+n;i++)r<<=1,t[i]&&(r|=1);return r},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),pP=function(){function t(){}return t.round=function(t){return NaN===t?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},t.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},t.sum=function(t){for(var e=0,n=0,r=t.length;n!==r;n++)e+=t[n];return e},t}(),gP=function(){function t(){}return t.floatToIntBits=function(t){return t},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),mP=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*gP.floatToIntBits(this.x)+gP.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(t){var e,n,r,i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);if(o>=i&&o>=a?(n=t[0],e=t[1],r=t[2]):a>=o&&a>=i?(n=t[1],e=t[0],r=t[2]):(n=t[2],e=t[0],r=t[1]),this.crossProductZ(e,n,r)<0){var s=e;e=r,r=s}t[0]=e,t[1]=n,t[2]=r},t.distance=function(t,e){return pP.distance(t.x,t.y,e.x,e.y)},t.crossProductZ=function(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)},t}(),vP=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),yP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bP=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.compact=r,a.nbDatablocks=i,a.nbLayers=o,a}return yP(e,t),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(vP),wP=function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==n&&(n=t.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new LM}return t.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,n=this.upInit,r=this.downInit,i=!1,o=!0,a=!1,s=!1,l=!1,c=!1,u=!1,d=this.width,h=this.height;o;){o=!1;for(var f=!0;(f||!s)&&e<d;)(f=this.containsBlackPoint(n,r,e,!1))?(e++,o=!0,s=!0):s||e++;if(e>=d){i=!0;break}for(var p=!0;(p||!l)&&r<h;)(p=this.containsBlackPoint(t,e,r,!0))?(r++,o=!0,l=!0):l||r++;if(r>=h){i=!0;break}for(var g=!0;(g||!c)&&t>=0;)(g=this.containsBlackPoint(n,r,t,!1))?(t--,o=!0,c=!0):c||t--;if(t<0){i=!0;break}for(var m=!0;(m||!u)&&n>=0;)(m=this.containsBlackPoint(t,e,n,!0))?(n--,o=!0,u=!0):u||n--;if(n<0){i=!0;break}o&&(a=!0)}if(!i&&a){for(var v=e-t,y=null,b=1;null===y&&b<v;b++)y=this.getBlackPointOnSegment(t,r-b,t+b,r);if(null==y)throw new LM;var w=null;for(b=1;null===w&&b<v;b++)w=this.getBlackPointOnSegment(t,n+b,t+b,n);if(null==w)throw new LM;var _=null;for(b=1;null===_&&b<v;b++)_=this.getBlackPointOnSegment(e,n+b,e-b,n);if(null==_)throw new LM;var A=null;for(b=1;null===A&&b<v;b++)A=this.getBlackPointOnSegment(e,r-b,e-b,r);if(null==A)throw new LM;return this.centerEdges(A,y,_,w)}throw new LM},t.prototype.getBlackPointOnSegment=function(t,e,n,r){for(var i=pP.round(pP.distance(t,e,n,r)),o=(n-t)/i,a=(r-e)/i,s=this.image,l=0;l<i;l++){var c=pP.round(t+l*o),u=pP.round(e+l*a);if(s.get(c,u))return new mP(c,u)}return null},t.prototype.centerEdges=function(e,n,r,i){var o=e.getX(),a=e.getY(),s=n.getX(),l=n.getY(),c=r.getX(),u=r.getY(),d=i.getX(),h=i.getY(),f=t.CORR;return o<this.width/2?[new mP(d-f,h+f),new mP(s+f,l+f),new mP(c-f,u-f),new mP(o+f,a-f)]:[new mP(d+f,h+f),new mP(s+f,l-f),new mP(c-f,u+f),new mP(o-f,a-f)]},t.prototype.containsBlackPoint=function(t,e,n,r){var i=this.image;if(r){for(var o=t;o<=e;o++)if(i.get(o,n))return!0}else for(var a=t;a<=e;a++)if(i.get(n,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),_P=function(){function t(){}return t.checkAndNudgePoints=function(t,e){for(var n=t.getWidth(),r=t.getHeight(),i=!0,o=0;o<e.length&&i;o+=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw new LM;i=!1,-1===a?(e[o]=0,i=!0):a===n&&(e[o]=n-1,i=!0),-1===s?(e[o+1]=0,i=!0):s===r&&(e[o+1]=r-1,i=!0)}for(i=!0,o=e.length-2;o>=0&&i;o-=2){if(a=Math.floor(e[o]),s=Math.floor(e[o+1]),a<-1||a>n||s<-1||s>r)throw new LM;i=!1,-1===a?(e[o]=0,i=!0):a===n&&(e[o]=n-1,i=!0),-1===s?(e[o+1]=0,i=!0):s===r&&(e[o+1]=r-1,i=!0)}},t}(),AP=function(){function t(t,e,n,r,i,o,a,s,l){this.a11=t,this.a21=e,this.a31=n,this.a12=r,this.a22=i,this.a32=o,this.a13=a,this.a23=s,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m){var v=t.quadrilateralToSquare(e,n,r,i,o,a,s,l);return t.squareToQuadrilateral(c,u,d,h,f,p,g,m).times(v)},t.prototype.transformPoints=function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=0;d<e;d+=2){var h=t[d],f=t[d+1],p=i*h+s*f+u;t[d]=(n*h+o*f+l)/p,t[d+1]=(r*h+a*f+c)/p}},t.prototype.transformPointsWithValues=function(t,e){for(var n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=t.length,h=0;h<d;h++){var f=t[h],p=e[h],g=i*f+s*p+u;t[h]=(n*f+o*p+l)/g,e[h]=(r*f+a*p+c)/g}},t.squareToQuadrilateral=function(e,n,r,i,o,a,s,l){var c=e-r+o-s,u=n-i+a-l;if(0===c&&0===u)return new t(r-e,o-r,e,i-n,a-i,n,0,0,1);var d=r-o,h=s-o,f=i-a,p=l-a,g=d*p-h*f,m=(c*p-h*u)/g,v=(d*u-c*f)/g;return new t(r-e+m*r,s-e+v*s,e,i-n+m*i,l-n+v*l,n,m,v,1)},t.quadrilateralToSquare=function(e,n,r,i,o,a,s,l){return t.squareToQuadrilateral(e,n,r,i,o,a,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),SP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return SP(e,t),e.prototype.sampleGrid=function(t,e,n,r,i,o,a,s,l,c,u,d,h,f,p,g,m,v,y){var b=AP.quadrilateralToQuadrilateral(r,i,o,a,s,l,c,u,d,h,f,p,g,m,v,y);return this.sampleGridWithTransform(t,e,n,b)},e.prototype.sampleGridWithTransform=function(t,e,n,r){if(e<=0||n<=0)throw new LM;for(var i=new DM(e,n),o=new Float32Array(2*e),a=0;a<n;a++){for(var s=o.length,l=a+.5,c=0;c<s;c+=2)o[c]=c/2+.5,o[c+1]=l;r.transformPoints(o),_P.checkAndNudgePoints(t,o);try{for(c=0;c<s;c+=2)t.get(Math.floor(o[c]),Math.floor(o[c+1]))&&i.set(c/2,a)}catch(t){throw new LM}}return i},e}(_P),CP=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new EP,t}(),xP=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toResultPoint=function(){return new mP(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),TP=function(){function t(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),n=this.getBullsEyeCorners(e);if(t){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new bP(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(t){if(!(this.isValidPoint(t[0])&&this.isValidPoint(t[1])&&this.isValidPoint(t[2])&&this.isValidPoint(t[3])))throw new LM;var e=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(n,e);for(var r=0,i=0;i<4;i++){var o=n[(this.shift+i)%4];this.compact?(r<<=7,r+=o>>1&127):(r<<=10,r+=(o>>2&992)+(o>>1&31))}var a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},t.prototype.getRotation=function(t,e){var n=0;t.forEach((function(t,r,i){n=(t>>e-2<<1)+(1&t)+(n<<3)})),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(_M.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new LM},t.prototype.getCorrectedParameterData=function(t,e){var n,r;e?(n=7,r=2):(n=10,r=4);for(var i=n-r,o=new Int32Array(n),a=n-1;a>=0;--a)o[a]=15&t,t>>=4;try{new hP(sP.AZTEC_PARAM).decode(o,i)}catch(t){throw new LM}var s=0;for(a=0;a<r;a++)s=(s<<4)+o[a];return s},t.prototype.getBullsEyeCorners=function(t){var e=t,n=t,r=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(e,o,1,-1),s=this.getFirstDifferent(n,o,1,1),l=this.getFirstDifferent(r,o,-1,1),c=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var u=this.distancePoint(c,a)*this.nbCenterLayers/(this.distancePoint(i,e)*(this.nbCenterLayers+2));if(u<.75||u>1.25||!this.isWhiteOrBlackRectangle(a,s,l,c))break}e=a,n=s,r=l,i=c,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new LM;this.compact=5===this.nbCenterLayers;var d=new mP(e.getX()+.5,e.getY()-.5),h=new mP(n.getX()+.5,n.getY()+.5),f=new mP(r.getX()-.5,r.getY()+.5),p=new mP(i.getX()-.5,i.getY()-.5);return this.expandSquare([d,h,f,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var t,e,n,r;try{t=(l=new wP(this.image).detect())[0],e=l[1],n=l[2],r=l[3]}catch(a){var i=this.image.getWidth()/2,o=this.image.getHeight()/2;t=this.getFirstDifferent(new xP(i+7,o-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new xP(i+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new xP(i-7,o+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new xP(i-7,o-7),!1,-1,-1).toResultPoint()}var a=pP.round((t.getX()+r.getX()+e.getX()+n.getX())/4),s=pP.round((t.getY()+r.getY()+e.getY()+n.getY())/4);try{var l;t=(l=new wP(this.image,15,a,s).detect())[0],e=l[1],n=l[2],r=l[3]}catch(i){t=this.getFirstDifferent(new xP(a+7,s-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new xP(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new xP(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new xP(a-7,s-7),!1,-1,-1).toResultPoint()}return a=pP.round((t.getX()+r.getX()+e.getX()+n.getX())/4),s=pP.round((t.getY()+r.getY()+e.getY()+n.getY())/4),new xP(a,s)},t.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(t,e,n,r,i){var o=CP.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,l=a/2+this.nbCenterLayers;return o.sampleGrid(t,a,a,s,s,l,s,l,l,s,l,e.getX(),e.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(t,e,n){for(var r=0,i=this.distanceResultPoint(t,e),o=i/n,a=t.getX(),s=t.getY(),l=o*(e.getX()-t.getX())/i,c=o*(e.getY()-t.getY())/i,u=0;u<n;u++)this.image.get(pP.round(a+u*l),pP.round(s+u*c))&&(r|=1<<n-u-1);return r},t.prototype.isWhiteOrBlackRectangle=function(t,e,n,r){t=new xP(t.getX()-3,t.getY()+3),e=new xP(e.getX()-3,e.getY()-3),n=new xP(n.getX()+3,n.getY()-3),r=new xP(r.getX()+3,r.getY()+3);var i=this.getColor(r,t);if(0===i)return!1;var o=this.getColor(t,e);return o===i&&(o=this.getColor(e,n))===i&&(o=this.getColor(n,r))===i},t.prototype.getColor=function(t,e){for(var n=this.distancePoint(t,e),r=(e.getX()-t.getX())/n,i=(e.getY()-t.getY())/n,o=0,a=t.getX(),s=t.getY(),l=this.image.get(t.getX(),t.getY()),c=Math.ceil(n),u=0;u<c;u++)a+=r,s+=i,this.image.get(pP.round(a),pP.round(s))!==l&&o++;var d=o/n;return d>.1&&d<.9?0:d<=.1===l?1:-1},t.prototype.getFirstDifferent=function(t,e,n,r){for(var i=t.getX()+n,o=t.getY()+r;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=n,o+=r;for(i-=n,o-=r;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===e;)o+=r;return new xP(i,o-=r)},t.prototype.expandSquare=function(t,e,n){var r=n/(2*e),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),a=(t[0].getX()+t[2].getX())/2,s=(t[0].getY()+t[2].getY())/2,l=new mP(a+r*i,s+r*o),c=new mP(a-r*i,s-r*o);return i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),a=(t[1].getX()+t[3].getX())/2,s=(t[1].getY()+t[3].getY())/2,[l,new mP(a+r*i,s+r*o),c,new mP(a-r*i,s-r*o)]},t.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},t.prototype.isValidPoint=function(t){var e=pP.round(t.getX()),n=pP.round(t.getY());return this.isValid(e,n)},t.prototype.distancePoint=function(t,e){return pP.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.distanceResultPoint=function(t,e){return pP.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_M.truncDivision(this.nbLayers-4,8)+1)+15},t}(),IP=function(){function t(){}return t.prototype.decode=function(t,e){void 0===e&&(e=null);var n=null,r=new TP(t.getBlackMatrix()),i=null,o=null;try{i=(a=r.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(e,i),o=(new fP).decode(a)}catch(t){n=t}if(null==o)try{var a;i=(a=r.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(e,i),o=(new fP).decode(a)}catch(t){if(null!=n)throw n;throw t}var s=new KM(o.getText(),o.getRawBytes(),o.getNumBits(),i,QM.AZTEC,gM.currentTimeMillis()),l=o.getByteSegments();null!=l&&s.putMetadata(tP.BYTE_SEGMENTS,l);var c=o.getECLevel();return null!=c&&s.putMetadata(tP.ERROR_CORRECTION_LEVEL,c),s},t.prototype.reportFoundResultPoints=function(t,e){if(null!=t){var n=t.get(EM.NEED_RESULT_POINT_CALLBACK);null!=n&&e.forEach((function(t,e,r){n.foundPossibleResultPoint(t)}))}},t.prototype.reset=function(){},t}(),kP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){kP((function(e){return void 0===e&&(e=500),t.call(this,new IP,e)||this}),t)}(YM);var RP=function(){function t(){}return t.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch(sM){if(e&&!0===e.get(EM.TRY_HARDER)&&t.isRotateSupported()){var n=t.rotateCounterClockwise(),r=this.doDecode(n,e),i=r.getResultMetadata(),o=270;null!==i&&!0===i.get(tP.ORIENTATION)&&(o+=i.get(tP.ORIENTATION)%360),r.putMetadata(tP.ORIENTATION,o);var a=r.getResultPoints();if(null!==a)for(var s=n.getHeight(),l=0;l<a.length;l++)a[l]=new mP(s-a[l].getY()-1,a[l].getX());return r}throw new LM}},t.prototype.reset=function(){},t.prototype.doDecode=function(t,e){var n,r=t.getWidth(),i=t.getHeight(),o=new AM(r),a=e&&!0===e.get(EM.TRY_HARDER),s=Math.max(1,i>>(a?8:5));n=a?i:15;for(var l=Math.trunc(i/2),c=0;c<n;c++){var u=Math.trunc((c+1)/2),d=l+s*(0==(1&c)?u:-u);if(d<0||d>=i)break;try{o=t.getBlackRow(d,o)}catch(t){continue}for(var h=function(t){if(1===t&&(o.reverse(),e&&!0===e.get(EM.NEED_RESULT_POINT_CALLBACK))){var n=new Map;e.forEach((function(t,e){return n.set(e,t)})),n.delete(EM.NEED_RESULT_POINT_CALLBACK),e=n}try{var i=f.decodeRow(d,o,e);if(1===t){i.putMetadata(tP.ORIENTATION,180);var a=i.getResultPoints();null!==a&&(a[0]=new mP(r-a[0].getX()-1,a[0].getY()),a[1]=new mP(r-a[1].getX()-1,a[1].getY()))}return{value:i}}catch(t){}},f=this,p=0;p<2;p++){var g=h(p);if("object"==typeof g)return g.value}}throw new LM},t.recordPattern=function(t,e,n){for(var r=n.length,i=0;i<r;i++)n[i]=0;var o=t.getSize();if(e>=o)throw new LM;for(var a=!t.get(e),s=0,l=e;l<o;){if(t.get(l)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}l++}if(s!==r&&(s!==r-1||l!==o))throw new LM},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,o=e.get(n);n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new LM;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(t,e,n){for(var r=t.length,i=0,o=0,a=0;a<r;a++)i+=t[a],o+=e[a];if(i<o)return Number.POSITIVE_INFINITY;var s=i/o;n*=s;for(var l=0,c=0;c<r;c++){var u=t[c],d=e[c]*s,h=u>d?u-d:d-u;if(h>n)return Number.POSITIVE_INFINITY;l+=h}return l/i},t}(),MP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return MP(e,t),e.findStartPattern=function(t){for(var n=t.getSize(),r=t.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,s=!1,l=r;l<n;l++)if(t.get(l)!==s)o[i]++;else{if(5===i){for(var c=e.MAX_AVG_VARIANCE,u=-1,d=e.CODE_START_A;d<=e.CODE_START_C;d++){var h=RP.patternMatchVariance(o,e.CODE_PATTERNS[d],e.MAX_INDIVIDUAL_VARIANCE);h<c&&(c=h,u=d)}if(u>=0&&t.isRange(Math.max(0,a-(l-a)/2),a,!1))return Int32Array.from([a,l,u]);a+=o[0]+o[1],(o=o.slice(2,o.length-1))[i-1]=0,o[i]=0,i--}else i++;o[i]=1,s=!s}throw new LM},e.decodeCode=function(t,n,r){RP.recordPattern(t,r,n);for(var i=e.MAX_AVG_VARIANCE,o=-1,a=0;a<e.CODE_PATTERNS.length;a++){var s=e.CODE_PATTERNS[a],l=this.patternMatchVariance(n,s,e.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,o=a)}if(o>=0)return o;throw new LM},e.prototype.decodeRow=function(t,n,r){var i,o=r&&!0===r.get(EM.ASSUME_GS1),a=e.findStartPattern(n),s=a[2],l=0,c=new Uint8Array(20);switch(c[l++]=s,s){case e.CODE_START_A:i=e.CODE_CODE_A;break;case e.CODE_START_B:i=e.CODE_CODE_B;break;case e.CODE_START_C:i=e.CODE_CODE_C;break;default:throw new xM}for(var u=!1,d=!1,h="",f=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),m=0,v=0,y=s,b=0,w=!0,_=!1,A=!1;!u;){var S=d;switch(d=!1,m=v,v=e.decodeCode(n,g,p),c[l++]=v,v!==e.CODE_STOP&&(w=!0),v!==e.CODE_STOP&&(y+=++b*v),f=p,p+=g.reduce((function(t,e){return t+e}),0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new xM}switch(i){case e.CODE_CODE_A:if(v<64)h+=A===_?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),A=!1;else if(v<96)h+=A===_?String.fromCharCode(v-64):String.fromCharCode(v+64),A=!1;else switch(v!==e.CODE_STOP&&(w=!1),v){case e.CODE_FNC_1:o&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!_&&A?(_=!0,A=!1):_&&A?(_=!1,A=!1):A=!0;break;case e.CODE_SHIFT:d=!0,i=e.CODE_CODE_B;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:u=!0}break;case e.CODE_CODE_B:if(v<96)h+=A===_?String.fromCharCode(" ".charCodeAt(0)+v):String.fromCharCode(" ".charCodeAt(0)+v+128),A=!1;else switch(v!==e.CODE_STOP&&(w=!1),v){case e.CODE_FNC_1:o&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!_&&A?(_=!0,A=!1):_&&A?(_=!1,A=!1):A=!0;break;case e.CODE_SHIFT:d=!0,i=e.CODE_CODE_A;break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:u=!0}break;case e.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==e.CODE_STOP&&(w=!1),v){case e.CODE_FNC_1:o&&(0===h.length?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_STOP:u=!0}}S&&(i=i===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var E=p-f;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-f)/2),!1))throw new LM;if((y-=b*m)%103!==m)throw new fM;var C=h.length;if(0===C)throw new LM;C>0&&w&&(h=i===e.CODE_CODE_C?h.substring(0,C-2):h.substring(0,C-1));for(var x=(a[1]+a[0])/2,T=f+E/2,I=c.length,k=new Uint8Array(I),R=0;R<I;R++)k[R]=c[R];var M=[new mP(x,t),new mP(T,t)];return new KM(h,k,0,M,QM.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(RP),OP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NP=function(t){function e(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.call(this)||this;return r.usingCheckDigit=e,r.extendedMode=n,r.decodeRowResult="",r.counters=new Int32Array(9),r}return OP(e,t),e.prototype.decodeRow=function(t,n,r){var i,o,a,s,l=this.counters;l.fill(0),this.decodeRowResult="";var c,u,d=e.findAsteriskPattern(n,l),h=n.getNextSet(d[1]),f=n.getSize();do{e.recordPattern(n,h,l);var p=e.toNarrowWidePattern(l);if(p<0)throw new LM;c=e.patternToChar(p),this.decodeRowResult+=c,u=h;try{for(var g=(i=void 0,DP(l)),m=g.next();!m.done;m=g.next())h+=m.value}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}h=n.getNextSet(h)}while("*"!==c);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var v,y=0;try{for(var b=DP(l),w=b.next();!w.done;w=b.next())y+=w.value}catch(t){a={error:t}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(h!==f&&2*(h-u-y)<y)throw new LM;if(this.usingCheckDigit){for(var _=this.decodeRowResult.length-1,A=0,S=0;S<_;S++)A+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(_)!==e.ALPHABET_STRING.charAt(A%43))throw new fM;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(0===this.decodeRowResult.length)throw new LM;v=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var E=(d[1]+d[0])/2,C=u+y/2;return new KM(v,null,0,[new mP(E,t),new mP(C,t)],QM.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(t,n){for(var r=t.getSize(),i=t.getNextSet(0),o=0,a=i,s=!1,l=n.length,c=i;c<r;c++)if(t.get(c)!==s)n[o]++;else{if(o===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,s=!s}throw new LM},e.toNarrowWidePattern=function(t){var e,n,r,i=t.length,o=0;do{var a=2147483647;try{for(var s=(e=void 0,DP(t)),l=s.next();!l.done;l=s.next())(h=l.value)<a&&h>o&&(a=h)}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}o=a,r=0;for(var c=0,u=0,d=0;d<i;d++)(h=t[d])>o&&(u|=1<<i-1-d,r++,c+=h);if(3===r){for(d=0;d<i&&r>0;d++){var h;if((h=t[d])>o&&(r--,2*h>=c))return-1}return u}}while(r>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new LM},e.decodeExtended=function(t){for(var e=t.length,n="",r=0;r<e;r++){var i=t.charAt(r);if("+"===i||"$"===i||"%"===i||"/"===i){var o=t.charAt(r+1),a="\0";switch(i){case"+":if(!(o>="A"&&o<="Z"))throw new xM;a=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new xM;a=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")a=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")a=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")a=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)a="\0";else if("V"===o)a="@";else if("W"===o)a="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new xM;a="\x7f"}break;case"/":if(o>="A"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new xM;a=":"}}n+=a,r++}else n+=i}return n},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(RP),LP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FP=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return LP(e,t),e.prototype.decodeRow=function(t,n,r){var i,o,a=this.decodeStart(n),s=this.decodeEnd(n),l=new OM;e.decodeMiddle(n,a[1],s[0],l);var c=l.toString(),u=null;null!=r&&(u=r.get(EM.ALLOWED_LENGTHS)),null==u&&(u=e.DEFAULT_ALLOWED_LENGTHS);var d=c.length,h=!1,f=0;try{for(var p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),g=p.next();!g.done;g=p.next()){var m=g.value;if(d===m){h=!0;break}m>f&&(f=m)}}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!h&&d>f&&(h=!0),!h)throw new xM;var v=[new mP(a[1],t),new mP(s[0],t)];return new KM(c,null,0,v,QM.ITF,(new Date).getTime())},e.decodeMiddle=function(t,n,r,i){var o=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(o.fill(0),a.fill(0),s.fill(0);n<r;){RP.recordPattern(t,n,o);for(var l=0;l<5;l++){var c=2*l;a[l]=o[c],s[l]=o[c+1]}var u=e.decodeDigit(a);i.append(u.toString()),u=this.decodeDigit(s),i.append(u.toString()),o.forEach((function(t){n+=t}))}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),r=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r},e.prototype.validateQuietZone=function(t,e){var n=10*this.narrowLineWidth;n=n<e?n:e;for(var r=e-1;n>0&&r>=0&&!t.get(r);r--)n--;if(0!==n)throw new LM},e.skipWhiteSpace=function(t){var e=t.getSize(),n=t.getNextSet(0);if(n===e)throw new LM;return n},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),r=void 0;try{r=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(i){i instanceof LM&&(r=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);var i=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-i,r}finally{t.reverse()}},e.findGuardPattern=function(t,n,r){var i=r.length,o=new Int32Array(i),a=t.getSize(),s=!1,l=0,c=n;o.fill(0);for(var u=n;u<a;u++)if(t.get(u)!==s)o[l]++;else{if(l===i-1){if(RP.patternMatchVariance(o,r,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,u];c+=o[0]+o[1],gM.arraycopy(o,2,o,0,l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,s=!s}throw new LM},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,r=-1,i=e.PATTERNS.length,o=0;o<i;o++){var a=e.PATTERNS[o],s=RP.patternMatchVariance(t,a,e.MAX_INDIVIDUAL_VARIANCE);s<n?(n=s,r=o):s===n&&(r=-1)}if(r>=0)return r%10;throw new LM},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(RP),BP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jP=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return BP(e,t),e.findStartGuardPattern=function(t){for(var n,r=!1,i=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]);var a=(n=e.findGuardPattern(t,i,!1,this.START_END_PATTERN,o))[0],s=a-((i=n[1])-a);s>=0&&(r=t.isRange(s,a,!1))}return n},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(0===n)return!1;var r=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===r},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new xM;n+=i}for(n*=3,r=e-2;r>=0;r-=2){var i;if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new xM;n+=i}return(1e3-n)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,e,n,r){return this.findGuardPattern(t,e,n,r,new Int32Array(r.length))},e.findGuardPattern=function(t,n,r,i,o){for(var a=t.getSize(),s=0,l=n=r?t.getNextUnset(n):t.getNextSet(n),c=i.length,u=r,d=n;d<a;d++)if(t.get(d)!==u)o[s]++;else{if(s===c-1){if(RP.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,d]);l+=o[0]+o[1];for(var h=o.slice(2,o.length-1),f=0;f<s-1;f++)o[f]=h[f];o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new LM},e.decodeDigit=function(t,n,r,i){this.recordPattern(t,r,n);for(var o=this.MAX_AVG_VARIANCE,a=-1,s=i.length,l=0;l<s;l++){var c=i[l],u=RP.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<o&&(o=u,a=l)}if(a>=0)return a;throw new LM},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(RP),zP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VP=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),l=[new mP((r[0]+r[1])/2,e),new mP(o,e)],c=new KM(a,null,0,l,QM.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,n,r){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),l=n[1],c=0,u=0;u<5&&l<s;u++){var d=jP.decodeDigit(e,a,l,jP.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(i=void 0,zP(a)),f=h.next();!f.done;f=h.next())l+=f.value}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}d>=10&&(c|=1<<4-u),4!==u&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(5!==r.length)throw new LM;var p=this.determineCheckDigit(c);if(t.extensionChecksum(r.toString())!==p)throw new LM;return l},t.extensionChecksum=function(t){for(var e=t.length,n=0,r=e-2;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);for(n*=3,r=e-1;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},t.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new LM},t.parseExtensionString=function(e){if(5!==e.length)return null;var n=t.parseExtension5String(e);return null==n?null:new Map([[tP.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="\xa3";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var n=parseInt(t.substring(1)),r=n%100;return e+(n/100).toString()+"."+(r<10?"0"+r:r.toString())},t}(),HP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UP=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),l=[new mP((r[0]+r[1])/2,e),new mP(o,e)],c=new KM(a,null,0,l,QM.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(t,e,n){var r,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var a=t.getSize(),s=e[1],l=0,c=0;c<2&&s<a;c++){var u=jP.decodeDigit(t,o,s,jP.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+u%10);try{for(var d=(r=void 0,HP(o)),h=d.next();!h.done;h=d.next())s+=h.value}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}u>=10&&(l|=1<<1-c),1!==c&&(s=t.getNextSet(s),s=t.getNextUnset(s))}if(2!==n.length)throw new LM;if(parseInt(n.toString())%4!==l)throw new LM;return s},t.parseExtensionString=function(t){return 2!==t.length?null:new Map([[tP.ISSUE_NUMBER,parseInt(t)]])},t}(),WP=function(){function t(){}return t.decodeRow=function(t,e,n){var r=jP.findGuardPattern(e,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new VP).decodeRow(t,e,r)}catch(n){return(new UP).decodeRow(t,e,r)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),$P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GP=function(t){function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map((function(t){return Int32Array.from(t)}));for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[r]=o}return n}return $P(e,t),e.prototype.decodeRow=function(t,n,r){var i=e.findStartGuardPattern(n),o=null==r?null:r.get(EM.NEED_RESULT_POINT_CALLBACK);if(null!=o){var a=new mP((i[0]+i[1])/2,t);o.foundPossibleResultPoint(a)}var s=this.decodeMiddle(n,i,this.decodeRowStringBuffer),l=s.rowOffset,c=s.resultString;if(null!=o){var u=new mP(l,t);o.foundPossibleResultPoint(u)}var d=e.decodeEnd(n,l);if(null!=o){var h=new mP((d[0]+d[1])/2,t);o.foundPossibleResultPoint(h)}var f=d[1],p=f+(f-d[0]);if(p>=n.getSize()||!n.isRange(f,p,!1))throw new LM;var g=c.toString();if(g.length<8)throw new xM;if(!e.checkChecksum(g))throw new fM;var m=(i[1]+i[0])/2,v=(d[1]+d[0])/2,y=this.getBarcodeFormat(),b=[new mP(m,t),new mP(v,t)],w=new KM(g,null,0,b,y,(new Date).getTime()),_=0;try{var A=WP.decodeRow(t,n,d[1]);w.putMetadata(tP.UPC_EAN_EXTENSION,A.getText()),w.putAllMetadata(A.getResultMetadata()),w.addResultPoints(A.getResultPoints()),_=A.getText().length}catch(t){}var S=null==r?null:r.get(EM.ALLOWED_EAN_EXTENSIONS);if(null!=S){var E=!1;for(var C in S)if(_.toString()===C){E=!0;break}if(!E)throw new LM}return y===QM.EAN_13||QM.UPC_A,w},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(0===n)return!1;var r=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===r},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new xM;n+=i}for(n*=3,r=e-2;r>=0;r-=2){var i;if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new xM;n+=i}return(1e3-n)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(jP),XP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YP=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return XP(e,t),e.prototype.decodeMiddle=function(t,n,r){var i,o,a,s,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=t.getSize(),u=n[1],d=0,h=0;h<6&&u<c;h++){var f=GP.decodeDigit(t,l,u,GP.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var p=(i=void 0,qP(l)),g=p.next();!g.done;g=p.next())u+=g.value}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}f>=10&&(d|=1<<5-h)}for(r=e.determineFirstDigit(r,d),u=GP.findGuardPattern(t,u,!0,GP.MIDDLE_PATTERN,new Int32Array(GP.MIDDLE_PATTERN.length).fill(0))[1],h=0;h<6&&u<c;h++){f=GP.decodeDigit(t,l,u,GP.L_PATTERNS),r+=String.fromCharCode("0".charCodeAt(0)+f);try{for(var m=(a=void 0,qP(l)),v=m.next();!v.done;v=m.next())u+=v.value}catch(t){a={error:t}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}return{rowOffset:u,resultString:r}},e.prototype.getBarcodeFormat=function(){return QM.EAN_13},e.determineFirstDigit=function(t,e){for(var n=0;n<10;n++)if(e===this.FIRST_DIGIT_ENCODINGS[n])return String.fromCharCode("0".charCodeAt(0)+n)+t;throw new LM},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(GP),KP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QP=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return KP(e,t),e.prototype.decodeMiddle=function(t,e,n){var r,i,o,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=t.getSize(),c=e[1],u=0;u<4&&c<l;u++){var d=GP.decodeDigit(t,s,c,GP.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var h=(r=void 0,ZP(s)),f=h.next();!f.done;f=h.next())c+=f.value}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}for(c=GP.findGuardPattern(t,c,!0,GP.MIDDLE_PATTERN,new Int32Array(GP.MIDDLE_PATTERN.length).fill(0))[1],u=0;u<4&&c<l;u++){d=GP.decodeDigit(t,s,c,GP.L_PATTERNS),n+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var p=(o=void 0,ZP(s)),g=p.next();!g.done;g=p.next())c+=g.value}catch(t){o={error:t}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}return{rowOffset:c,resultString:n}},e.prototype.getBarcodeFormat=function(){return QM.EAN_8},e}(GP),JP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ean13Reader=new YP,e}return JP(e,t),e.prototype.getBarcodeFormat=function(){return QM.UPC_A},e.prototype.decode=function(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,e,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,n))},e.prototype.decodeMiddle=function(t,e,n){return this.ean13Reader.decodeMiddle(t,e,n)},e.prototype.maybeReturnResult=function(t){var e=t.getText();if("0"===e.charAt(0)){var n=new KM(e.substring(1),null,null,t.getResultPoints(),QM.UPC_A);return null!=t.getResultMetadata()&&n.putAllMetadata(t.getResultMetadata()),n}throw new LM},e.prototype.reset=function(){this.ean13Reader.reset()},e}(GP),eO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nO=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rO=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return eO(e,t),e.prototype.decodeMiddle=function(t,n,r){var i,o,a=this.decodeMiddleCounters.map((function(t){return t}));a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=t.getSize(),l=n[1],c=0,u=0;u<6&&l<s;u++){var d=e.decodeDigit(t,a,l,e.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(i=void 0,nO(a)),f=h.next();!f.done;f=h.next())l+=f.value}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}d>=10&&(c|=1<<5-u)}return e.determineNumSysAndCheckDigit(new OM(r),c),l},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return GP.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,e){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return t.insert(0,"0"+n),void t.append("0"+r);throw LM.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return QM.UPC_E},e.convertUPCEtoUPCA=function(t){var e=t.slice(1,7).split("").map((function(t){return t.charCodeAt(0)})),n=new OM;n.append(t.charAt(0));var r=e[5];switch(r){case 0:case 1:case 2:n.appendChars(e,0,2),n.append(r),n.append("0000"),n.appendChars(e,2,3);break;case 3:n.appendChars(e,0,3),n.append("00000"),n.appendChars(e,3,2);break;case 4:n.appendChars(e,0,4),n.append("00000"),n.append(e[4]);break;default:n.appendChars(e,0,5),n.append("0000"),n.append(r)}return t.length>=8&&n.append(t.charAt(7)),n.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(GP),iO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oO=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aO=function(t){function e(e){var n=t.call(this)||this,r=null==e?null:e.get(EM.POSSIBLE_FORMATS),i=[];return null!=r&&(r.indexOf(QM.EAN_13)>-1?i.push(new YP):r.indexOf(QM.UPC_A)>-1&&i.push(new tO),r.indexOf(QM.EAN_8)>-1&&i.push(new QP),r.indexOf(QM.UPC_E)>-1&&i.push(new rO)),0===i.length&&(i.push(new YP),i.push(new QP),i.push(new rO)),n.readers=i,n}return iO(e,t),e.prototype.decodeRow=function(t,e,n){var r,i;try{for(var o=oO(this.readers),a=o.next();!a.done;a=o.next()){var s=a.value;try{var l=s.decodeRow(t,e,n),c=l.getBarcodeFormat()===QM.EAN_13&&"0"===l.getText().charAt(0),u=null==n?null:n.get(EM.POSSIBLE_FORMATS),d=null==u||u.includes(QM.UPC_A);if(c&&d){var h=l.getRawBytes(),f=new KM(l.getText().substring(1),h,h.length,l.getResultPoints(),QM.UPC_A);return f.putAllMetadata(l.getResultMetadata()),f}return l}catch(t){}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new LM},e.prototype.reset=function(){var t,e;try{for(var n=oO(this.readers),r=n.next();!r.done;r=n.next())r.value.reset()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e}(RP),sO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lO=function(t){function e(){var e=t.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=new Array(4),e.evenRoundingErrors=new Array(4),e.oddCounts=new Array(e.dataCharacterCounters.length/2),e.evenCounts=new Array(e.dataCharacterCounters.length/2),e}return sO(e,t),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var r=0;r<n.length;r++)if(RP.patternMatchVariance(t,n[r],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return r;throw new LM},e.count=function(t){return pP.sum(new Int32Array(t))},e.increment=function(t,e){for(var n=0,r=e[0],i=1;i<t.length;i++)e[i]>r&&(r=e[i],n=i);t[n]++},e.decrement=function(t,e){for(var n=0,r=e[0],i=1;i<t.length;i++)e[i]<r&&(r=e[i],n=i);t[n]--},e.isFinderPattern=function(t){var n,r,i=t[0]+t[1],o=i/(i+t[2]+t[3]);if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),c=l.next();!c.done;c=l.next()){var u=c.value;u>s&&(s=u),u<a&&(a=u)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s<10*a}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(RP),cO=function(){function t(t,e){this.value=t,this.checksumPortion=e}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),uO=function(){function t(t,e,n,r,i){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new mP(n,i)),this.resultPoints.push(new mP(r,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t}(),dO=function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,o,a=0;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),l=s.next();!l.done;l=s.next())a+=l.value}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var c=0,u=0,d=e.length,h=0;h<d-1;h++){var f=void 0;for(f=1,u|=1<<h;f<e[h];f++,u&=~(1<<h)){var p=t.combins(a-f-1,d-h-2);if(r&&0===u&&a-f-(d-h-1)>=d-h-1&&(p-=t.combins(a-f-(d-h),d-h-2)),d-h-1>1){for(var g=0,m=a-f-(d-h-2);m>n;m--)g+=t.combins(a-f-m-1,d-h-3);p-=g*(d-1-h)}else a-f>n&&p--;c+=p}a-=f}return c},t.combins=function(t,e){var n,r;t-e>e?(r=e,n=t-e):(r=t-e,n=e);for(var i=1,o=1,a=t;a>n;a--)i*=a,o<=r&&(i/=o,o++);for(;o<=r;)i/=o,o++;return i},t}(),hO=function(){function t(){}return t.buildBitArray=function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var n=new AM(12*e),r=0,i=t[0].getRightChar().getValue(),o=11;o>=0;--o)0!=(i&1<<o)&&n.set(r),r++;for(o=1;o<t.length;++o){for(var a=t[o],s=a.getLeftChar().getValue(),l=11;l>=0;--l)0!=(s&1<<l)&&n.set(r),r++;if(null!=a.getRightChar()){var c=a.getRightChar().getValue();for(l=11;l>=0;--l)0!=(c&1<<l)&&n.set(r),r++}}return n},t}(),fO=function(){function t(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),pO=function(){function t(t){this.newPosition=t}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),gO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mO=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return gO(e,t),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(pO),vO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yO=function(t){function e(e,n,r){var i=t.call(this,e)||this;return r?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return vO(e,t),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(pO),bO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wO=function(t){function e(e,n,r){var i=t.call(this,e)||this;if(n<0||n>10||r<0||r>10)throw new xM;return i.firstDigit=n,i.secondDigit=r,i}return bO(e,t),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(pO),_O=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AO=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,o,a,s,l,c;if(!e)return null;if(e.length<2)throw new LM;var u=e.substring(0,2);try{for(var d=_O(t.TWO_DIGIT_DATA_LENGTH),h=d.next();!h.done;h=d.next())if((_=h.value)[0]===u)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,_[2],e):t.processFixedAI(2,_[1],e)}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(e.length<3)throw new LM;var f=e.substring(0,3);try{for(var p=_O(t.THREE_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next())if((_=g.value)[0]===f)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,_[2],e):t.processFixedAI(3,_[1],e)}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var m=_O(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=m.next();!v.done;v=m.next())if((_=v.value)[0]===f)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,_[2],e):t.processFixedAI(4,_[1],e)}catch(t){a={error:t}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(e.length<4)throw new LM;var y=e.substring(0,4);try{for(var b=_O(t.FOUR_DIGIT_DATA_LENGTH),w=b.next();!w.done;w=b.next()){var _;if((_=w.value)[0]===y)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,_[2],e):t.processFixedAI(4,_[1],e)}}catch(t){l={error:t}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}throw new LM},t.processFixedAI=function(e,n,r){if(r.length<e)throw new LM;var i=r.substring(0,e);if(r.length<e+n)throw new LM;var o=r.substring(e,e+n),a=r.substring(e+n),s="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(a);return null==l?s:s+l},t.processVariableAI=function(e,n,r){var i,o=r.substring(0,e);i=r.length<e+n?r.length:e+n;var a=r.substring(e,i),s=r.substring(i),l="("+o+")"+a,c=t.parseFieldsInGeneralPurpose(s);return null==c?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),SO=function(){function t(t){this.buffer=new OM,this.information=t}return t.prototype.decodeAllCodes=function(t,e){for(var n=e,r=null;;){var i=this.decodeGeneralPurposeField(n,r),o=AO.parseFieldsInGeneralPurpose(i.getNewString());if(null!=o&&t.append(o),r=i.isRemaining()?""+i.getRemainingValue():null,n===i.getNewPosition())break;n=i.getNewPosition()}return t.toString()},t.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},t.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return new wO(this.information.getSize(),0===e?wO.FNC1:e-1,wO.FNC1)}var n=this.extractNumericValueFromBitArray(t,7);return new wO(t+7,(n-8)/11,(n-8)%11)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(t,e,n){for(var r=0,i=0;i<n;++i)t.get(e+i)&&(r|=1<<n-i-1);return r},t.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new yO(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new yO(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var t,e;do{var n=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),n===this.current.getPosition()&&!t)break}while(!t);return e.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return e=t.isSecondDigitFNC1()?new yO(this.current.getPosition(),this.buffer.toString()):new yO(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new fO(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1())return e=new yO(this.current.getPosition(),this.buffer.toString()),new fO(!0,e);this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fO(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new yO(this.current.getPosition(),this.buffer.toString());return new fO(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fO(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new yO(this.current.getPosition(),this.buffer.toString());return new fO(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fO(!1)},t.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,8);return r>=232&&r<253},t.prototype.decodeIsoIec646=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new mO(t+5,mO.FNC1);if(e>=5&&e<15)return new mO(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new mO(t+7,""+(r+1));if(r>=90&&r<116)return new mO(t+7,""+(r+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new xM}return new mO(t+8,n)},t.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new mO(t+5,mO.FNC1);if(e>=5&&e<15)return new mO(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new mO(t+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new dP("Decoding invalid alphanumeric value: "+r)}return new mO(t+6,n)},t.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},t}(),EO=function(){function t(t){this.information=t,this.generalDecoder=new SO(t)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),CO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xO=function(t){function e(e){return t.call(this,e)||this}return CO(e,t),e.prototype.encodeCompressedGtin=function(t,e){t.append("(01)");var n=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,n)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,r){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,r)},e.appendCheckDigit=function(t,e){for(var n=0,r=0;r<13;r++){var i=t.charAt(r+e).charCodeAt(0)-"0".charCodeAt(0);n+=0==(1&r)?3*i:i}10===(n=10-n%10)&&(n=0),t.append(n)},e.GTIN_SIZE=40,e}(EO),TO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IO=function(t){function e(e){return t.call(this,e)||this}return TO(e,t),e.prototype.parseInformation=function(){var t=new OM;t.append("(01)");var n=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(xO),kO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RO=function(t){function e(e){return t.call(this,e)||this}return kO(e,t),e.prototype.parseInformation=function(){var t=new OM;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(EO),MO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PO=function(t){function e(e){return t.call(this,e)||this}return MO(e,t),e.prototype.encodeCompressedWeight=function(t,e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e,n);this.addWeightCode(t,r);for(var i=this.checkWeight(r),o=1e5,a=0;a<5;++a)i/o==0&&t.append("0"),o/=10;t.append(i)},e}(xO),OO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DO=function(t){function e(e){return t.call(this,e)||this}return OO(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+PO.GTIN_SIZE+e.WEIGHT_SIZE)throw new LM;var t=new OM;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+PO.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(PO),NO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LO=function(t){function e(e){return t.call(this,e)||this}return NO(e,t),e.prototype.addWeightCode=function(t,e){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(DO),FO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BO=function(t){function e(e){return t.call(this,e)||this}return FO(e,t),e.prototype.addWeightCode=function(t,e){e<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(DO),jO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zO=function(t){function e(e){return t.call(this,e)||this}return jO(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+xO.GTIN_SIZE)throw new LM;var t=new OM;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+xO.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+xO.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(xO),VO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HO=function(t){function e(e){return t.call(this,e)||this}return VO(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+xO.GTIN_SIZE)throw new LM;var t=new OM;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+xO.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+xO.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+xO.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(xO),UO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WO=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dateCode=r,i.firstAIdigits=n,i}return UO(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new LM;var t=new OM;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(38400!=r){t.append("("),t.append(this.dateCode),t.append(")");var i=r%32,o=(r/=32)%12+1,a=r/=12;a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o),i/10==0&&t.append("0"),t.append(i)}},e.prototype.addWeightCode=function(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(PO),$O=function(){function t(t,e,n,r){this.leftchar=t,this.rightchar=e,this.finderpattern=n,this.maybeLast=r}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return null==this.rightchar},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t&&t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern)},t.equalsOrNull=function(e,n){return null===e?null===n:t.equals(e,n)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}(),GO=function(){function t(t,e,n){this.pairs=t,this.rowNumber=e,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t&&this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed},t.prototype.checkEqualitity=function(t,e){var n;if(t&&e)return t.forEach((function(t,r){e.forEach((function(e){t.getLeftChar().getValue()===e.getLeftChar().getValue()&&t.getRightChar().getValue()===e.getRightChar().getValue()&&t.getFinderPatter().getValue()===e.getFinderPatter().getValue()&&(n=!0)}))})),n},t}(),XO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qO=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return XO(e,t),e.prototype.decodeRow=function(t,n,r){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch(t){}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,e){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(t){if(t instanceof LM){if(!this.pairs.length)throw new LM;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(t,!1),n){var i=this.checkRowsBoolean(!1);if(null!=i)return i;if(null!=(i=this.checkRowsBoolean(!0)))return i}throw new LM},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var e=null;try{e=this.checkRows(new Array,0)}catch(t){console.log(t)}return t&&(this.rows=this.rows.reverse()),e},e.prototype.checkRows=function(t,n){for(var r,i,o=n;o<this.rows.length;o++){var a=this.rows[o];this.pairs.length=0;try{for(var s=(r=void 0,qO(t)),l=s.next();!l.done;l=s.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}if(this.pairs.push(a.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var u=new Array(t);u.push(a);try{return this.checkRows(u,o+1)}catch(t){console.log(t)}}}throw new LM},e.isValidSequence=function(t){var n,r;try{for(var i=qO(e.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var a=o.value;if(!(t.length>a.length)){for(var s=!0,l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=a[l]){s=!1;break}if(s)return!0}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var r=0,i=!1,o=!1;r<this.rows.length;){var a=this.rows[r];if(a.getRowNumber()>t){o=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),r++}o||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new GO(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,e){var n,r,i,o,a,s;try{for(var l=qO(e),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getPairs().length!==t.length)try{for(var d=(i=void 0,qO(u.getPairs())),h=d.next();!h.done;h=d.next()){var f=h.value;try{for(var p=(a=void 0,qO(t)),g=p.next();!g.done;g=p.next()){var m=g.value;if($O.equals(f,m)){!0;break}}}catch(t){a={error:t}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},e.isPartialRow=function(t,e){var n,r,i,o,a,s;try{for(var l=qO(e),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0;try{for(var h=(i=void 0,qO(t)),f=h.next();!f.done;f=h.next()){var p=f.value,g=!1;try{for(var m=(a=void 0,qO(u.getPairs())),v=m.next();!v.done;v=m.next()){var y=v.value;if(p.equals(y)){g=!0;break}}}catch(t){a={error:t}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!g){d=!1;break}}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}if(d)return!0}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var e=function(t){try{if(t.get(1))return new IO(t);if(!t.get(2))return new RO(t);switch(SO.extractNumericValueFromBitArray(t,1,4)){case 4:return new LO(t);case 5:return new BO(t)}switch(SO.extractNumericValueFromBitArray(t,1,5)){case 12:return new zO(t);case 13:return new HO(t)}switch(SO.extractNumericValueFromBitArray(t,1,7)){case 56:return new WO(t,"310","11");case 57:return new WO(t,"320","11");case 58:return new WO(t,"310","13");case 59:return new WO(t,"320","13");case 60:return new WO(t,"310","15");case 61:return new WO(t,"320","15");case 62:return new WO(t,"310","17");case 63:return new WO(t,"320","17")}}catch(e){throw console.log(e),new dP("unknown decoder: "+t)}}(hO.buildBitArray(t)).parseInformation(),n=t[0].getFinderPattern().getResultPoints(),r=t[t.length-1].getFinderPattern().getResultPoints(),i=[n[0],n[1],r[0],r[1]];return new KM(e,null,null,i,QM.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),e=t.getLeftChar(),n=t.getRightChar();if(null==n)return!1;for(var r=n.getChecksumPortion(),i=2,o=1;o<this.pairs.size();++o){var a=this.pairs.get(o);r+=a.getLeftChar().getChecksumPortion(),i++;var s=a.getRightChar();null!=s&&(r+=s.getChecksumPortion(),i++)}return 211*(i-4)+(r%=211)==e.getValue()},e.getNextSecondBar=function(t,e){var n;return t.get(e)?(n=t.getNextUnset(e),n=t.getNextSet(n)):(n=t.getNextSet(e),n=t.getNextUnset(n)),n},e.prototype.retrieveNextPair=function(t,n,r){var i,o=n.length%2==0;this.startFromEven&&(o=!o);var a=!0,s=-1;do{this.findNextPair(t,n,s),null==(i=this.parseFoundFinderPattern(t,r,o))?s=e.getNextSecondBar(t,this.startEnd[0]):a=!1}while(a);var l,c=this.decodeDataCharacter(t,i,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new LM;try{l=this.decodeDataCharacter(t,i,o,!1)}catch(t){l=null,console.log(t)}return new $O(c,l,i,!0)},e.prototype.isEmptyPair=function(t){return 0===t.length},e.prototype.findNextPair=function(t,n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o,a=t.getSize();o=r>=0?r:this.isEmptyPair(n)?0:n[n.length-1].getFinderPattern().getStartEnd()[1];var s=n.length%2!=0;this.startFromEven&&(s=!s);for(var l=!1;o<a&&(l=!t.get(o));)o++;for(var c=0,u=o,d=o;d<a;d++)if(t.get(d)!=l)i[c]++;else{if(3==c){if(s&&e.reverseCounters(i),e.isFinderPattern(i))return this.startEnd[0]=u,void(this.startEnd[1]=d);s&&e.reverseCounters(i),u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,l=!l}throw new LM},e.reverseCounters=function(t){for(var e=t.length,n=0;n<e/2;++n){var r=t[n];t[n]=t[e-n-1],t[e-n-1]=r}},e.prototype.parseFoundFinderPattern=function(t,n,r){var i,o,a;if(r){for(var s=this.startEnd[0]-1;s>=0&&!t.get(s);)s--;s++,i=this.startEnd[0]-s,o=s,a=this.startEnd[1]}else o=this.startEnd[0],i=(a=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var l,c=this.getDecodeFinderCounters();gM.arraycopy(c,0,c,1,c.length-1),c[0]=i;try{l=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch(t){return null}return new uO(l,[o,a],o,a,n)},e.prototype.decodeDataCharacter=function(t,n,r,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var s=0,l=o.length-1;s<l;s++,l--){var c=o[s];o[s]=o[l],o[l]=c}}var u=pP.sum(new Int32Array(o))/17,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-d)/d>.3)throw new LM;var h=this.getOddCounts(),f=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<o.length;s++){var m=1*o[s]/u,v=m+.5;if(v<1){if(m<.3)throw new LM;v=1}else if(v>8){if(m>8.7)throw new LM;v=8}var y=s/2;0==(1&s)?(h[y]=v,p[y]=m-v):(f[y]=v,g[y]=m-v)}this.adjustOddEvenCounts(17);var b=4*n.getValue()+(r?0:2)+(i?0:1)-1,w=0,_=0;for(s=h.length-1;s>=0;s--){if(e.isNotA1left(n,r,i)){var A=e.WEIGHTS[b][2*s];_+=h[s]*A}w+=h[s]}var S=0;for(s=f.length-1;s>=0;s--)e.isNotA1left(n,r,i)&&(A=e.WEIGHTS[b][2*s+1],S+=f[s]*A);var E=_+S;if(0!=(1&w)||w>13||w<4)throw new LM;var C=(13-w)/2,x=e.SYMBOL_WIDEST[C],T=9-x,I=dO.getRSSvalue(h,x,!0),k=dO.getRSSvalue(f,T,!1),R=e.EVEN_TOTAL_SUBSET[C],M=e.GSUM[C];return new cO(I*R+k+M,E)},e.isNotA1left=function(t,e,n){return!(0==t.getValue()&&e&&n)},e.prototype.adjustOddEvenCounts=function(t){var n=pP.sum(new Int32Array(this.getOddCounts())),r=pP.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;n>13?o=!0:n<4&&(i=!0);var a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var l=n+r-t,c=1==(1&n),u=0==(1&r);if(1==l)if(c){if(u)throw new LM;o=!0}else{if(!u)throw new LM;s=!0}else if(-1==l)if(c){if(u)throw new LM;i=!0}else{if(!u)throw new LM;a=!0}else{if(0!=l)throw new LM;if(c){if(!u)throw new LM;n<r?(i=!0,s=!0):(o=!0,a=!0)}else if(u)throw new LM}if(i){if(o)throw new LM;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new LM;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(lO),KO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZO=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.count=0,i.finderPattern=r,i}return KO(e,t),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(cO),QO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JO=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return QO(e,t),e.prototype.decodeRow=function(t,n,r){var i,o,a,s,l=this.decodePair(n,!1,t,r);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,t,r);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var u=JO(this.possibleLeftPairs),d=u.next();!d.done;d=u.next()){var h=d.value;if(h.getCount()>1)try{for(var f=(a=void 0,JO(this.possibleRightPairs)),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.getCount()>1&&e.checkChecksum(h,g))return e.constructResult(h,g)}}catch(t){a={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}throw new LM},e.addOrTally=function(t,e){var n,r;if(null!=e){var i=!1;try{for(var o=JO(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getValue()===e.getValue()){s.incrementCount(),i=!0;break}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}i||t.push(e)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,e){for(var n=4537077*t.getValue()+e.getValue(),r=new String(n).toString(),i=new OM,o=13-r.length;o>0;o--)i.append("0");i.append(r);var a=0;for(o=0;o<13;o++){var s=i.charAt(o).charCodeAt(0)-"0".charCodeAt(0);a+=0==(1&o)?3*s:s}10===(a=10-a%10)&&(a=0),i.append(a.toString());var l=t.getFinderPattern().getResultPoints(),c=e.getFinderPattern().getResultPoints();return new KM(i.toString(),null,0,[l[0],l[1],c[0],c[1]],QM.RSS_14,(new Date).getTime())},e.checkChecksum=function(t,e){var n=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,r=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r},e.prototype.decodePair=function(t,e,n,r){try{var i=this.findFinderPattern(t,e),o=this.parseFoundFinderPattern(t,n,e,i),a=null==r?null:r.get(EM.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(i[0]+i[1])/2;e&&(s=t.getSize()-1-s),a.foundPossibleResultPoint(new mP(s,n))}var l=this.decodeDataCharacter(t,o,!0),c=this.decodeDataCharacter(t,o,!1);return new ZO(1597*l.getValue()+c.getValue(),l.getChecksumPortion()+4*c.getChecksumPortion(),o)}catch(t){return null}},e.prototype.decodeDataCharacter=function(t,n,r){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(r)RP.recordPatternInReverse(t,n.getStartEnd()[0],i);else{RP.recordPattern(t,n.getStartEnd()[1]+1,i);for(var a=0,s=i.length-1;a<s;a++,s--){var l=i[a];i[a]=i[s],i[s]=l}}var c=r?16:15,u=pP.sum(new Int32Array(i))/c,d=this.getOddCounts(),h=this.getEvenCounts(),f=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(a=0;a<i.length;a++){var g=i[a]/u,m=Math.floor(g+.5);m<1?m=1:m>8&&(m=8);var v=Math.floor(a/2);0==(1&a)?(d[v]=m,f[v]=g-m):(h[v]=m,p[v]=g-m)}this.adjustOddEvenCounts(r,c);var y=0,b=0;for(a=d.length-1;a>=0;a--)b*=9,b+=d[a],y+=d[a];var w=0,_=0;for(a=h.length-1;a>=0;a--)w*=9,w+=h[a],_+=h[a];var A=b+3*w;if(r){if(0!=(1&y)||y>12||y<4)throw new LM;var S=(12-y)/2,E=9-(k=e.OUTSIDE_ODD_WIDEST[S]),C=dO.getRSSvalue(d,k,!1),x=dO.getRSSvalue(h,E,!0),T=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],I=e.OUTSIDE_GSUM[S];return new cO(C*T+x+I,A)}if(0!=(1&_)||_>10||_<4)throw new LM;S=(10-_)/2,E=9-(k=e.INSIDE_ODD_WIDEST[S]),C=dO.getRSSvalue(d,k,!0),x=dO.getRSSvalue(h,E,!1);var k,R=e.INSIDE_ODD_TOTAL_SUBSET[S];return I=e.INSIDE_GSUM[S],new cO(x*R+C+I,A)},e.prototype.findFinderPattern=function(t,e){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=t.getSize(),i=!1,o=0;o<r&&e!==(i=!t.get(o));)o++;for(var a=0,s=o,l=o;l<r;l++)if(t.get(l)!==i)n[a]++;else{if(3===a){if(lO.isFinderPattern(n))return[s,l];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,i=!i}throw new LM},e.prototype.parseFoundFinderPattern=function(t,n,r,i){for(var o=t.get(i[0]),a=i[0]-1;a>=0&&o!==t.get(a);)a--;a++;var s=i[0]-a,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);gM.arraycopy(l,0,c,1,l.length-1),c[0]=s;var u=this.parseFinderValue(c,e.FINDER_PATTERNS),d=a,h=i[1];return r&&(d=t.getSize()-1-d,h=t.getSize()-1-h),new uO(u,[a,i[1]],d,h,n)},e.prototype.adjustOddEvenCounts=function(t,e){var n=pP.sum(new Int32Array(this.getOddCounts())),r=pP.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,a=!1,s=!1;t?(n>12?o=!0:n<4&&(i=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?o=!0:n<5&&(i=!0),r>10?s=!0:r<4&&(a=!0));var l=n+r-e,c=(1&n)==(t?1:0),u=1==(1&r);if(1===l)if(c){if(u)throw new LM;o=!0}else{if(!u)throw new LM;s=!0}else if(-1===l)if(c){if(u)throw new LM;i=!0}else{if(!u)throw new LM;a=!0}else{if(0!==l)throw new LM;if(c){if(!u)throw new LM;n<r?(i=!0,s=!0):(o=!0,a=!0)}else if(u)throw new LM}if(i){if(o)throw new LM;lO.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&lO.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new LM;lO.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&lO.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(lO),eD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nD=function(t){function e(e){var n=t.call(this)||this;n.readers=[];var r=e?e.get(EM.POSSIBLE_FORMATS):null,i=e&&void 0!==e.get(EM.ASSUME_CODE_39_CHECK_DIGIT);return r&&((r.includes(QM.EAN_13)||r.includes(QM.UPC_A)||r.includes(QM.EAN_8)||r.includes(QM.UPC_E))&&n.readers.push(new aO(e)),r.includes(QM.CODE_39)&&n.readers.push(new NP(i)),r.includes(QM.CODE_128)&&n.readers.push(new PP),r.includes(QM.ITF)&&n.readers.push(new FP),r.includes(QM.RSS_14)&&n.readers.push(new tD),r.includes(QM.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new YO))),0===n.readers.length&&(n.readers.push(new aO(e)),n.readers.push(new NP),n.readers.push(new aO(e)),n.readers.push(new PP),n.readers.push(new FP),n.readers.push(new tD)),n}return eD(e,t),e.prototype.decodeRow=function(t,e,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(t,e,n)}catch(t){}throw new LM},e.prototype.reset=function(){this.readers.forEach((function(t){return t.reset()}))},e}(RP),rD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){rD((function(e,n){return void 0===e&&(e=500),t.call(this,new nD(n),e,n)||this}),t)}(YM);var iD,oD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aD=function(){function t(t,e,n){this.ecCodewords=t,this.ecBlocks=[e],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),sD=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),lD=function(){function t(t,e,n,r,i,o){var a,s;this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=i,this.ecBlocks=o;var l=0,c=o.getECCodewords(),u=o.getECBlocks();try{for(var d=oD(u),h=d.next();!h.done;h=d.next()){var f=h.value;l+=f.getCount()*(f.getDataCodewords()+c)}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if(0!=(1&e)||0!=(1&n))throw new xM;try{for(var o=oD(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new xM},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new aD(5,new sD(1,3))),new t(2,12,12,10,10,new aD(7,new sD(1,5))),new t(3,14,14,12,12,new aD(10,new sD(1,8))),new t(4,16,16,14,14,new aD(12,new sD(1,12))),new t(5,18,18,16,16,new aD(14,new sD(1,18))),new t(6,20,20,18,18,new aD(18,new sD(1,22))),new t(7,22,22,20,20,new aD(20,new sD(1,30))),new t(8,24,24,22,22,new aD(24,new sD(1,36))),new t(9,26,26,24,24,new aD(28,new sD(1,44))),new t(10,32,32,14,14,new aD(36,new sD(1,62))),new t(11,36,36,16,16,new aD(42,new sD(1,86))),new t(12,40,40,18,18,new aD(48,new sD(1,114))),new t(13,44,44,20,20,new aD(56,new sD(1,144))),new t(14,48,48,22,22,new aD(68,new sD(1,174))),new t(15,52,52,24,24,new aD(42,new sD(2,102))),new t(16,64,64,14,14,new aD(56,new sD(2,140))),new t(17,72,72,16,16,new aD(36,new sD(4,92))),new t(18,80,80,18,18,new aD(48,new sD(4,114))),new t(19,88,88,20,20,new aD(56,new sD(4,144))),new t(20,96,96,22,22,new aD(68,new sD(4,174))),new t(21,104,104,24,24,new aD(56,new sD(6,136))),new t(22,120,120,18,18,new aD(68,new sD(6,175))),new t(23,132,132,20,20,new aD(62,new sD(8,163))),new t(24,144,144,22,22,new aD(62,new sD(8,156),new sD(2,155))),new t(25,8,18,6,16,new aD(7,new sD(1,5))),new t(26,8,32,6,14,new aD(11,new sD(1,10))),new t(27,12,26,10,24,new aD(14,new sD(1,16))),new t(28,12,36,10,16,new aD(18,new sD(1,22))),new t(29,16,36,14,16,new aD(24,new sD(1,32))),new t(30,16,48,14,22,new aD(28,new sD(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),cD=function(){function t(e){var n=e.getHeight();if(n<8||n>144||0!=(1&n))throw new xM;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new DM(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(t){var e=t.getHeight(),n=t.getWidth();return lD.getVersionForDimensions(e,n)},t.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,n=4,r=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),a=!1,s=!1,l=!1,c=!1;do{if(n!==i||0!==r||a)if(n!==i-2||0!==r||0==(3&o)||s)if(n!==i+4||2!==r||0!=(7&o)||l)if(n!==i-2||0!==r||4!=(7&o)||c){do{n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,i,o)),n-=2,r+=2}while(n>=0&&r<o);n+=1,r+=3;do{n>=0&&r<o&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,i,o)),n+=2,r-=2}while(n<i&&r>=0);n+=3,r+=1}else t[e++]=255&this.readCorner4(i,o),n-=2,r+=2,c=!0;else t[e++]=255&this.readCorner3(i,o),n-=2,r+=2,l=!0;else t[e++]=255&this.readCorner2(i,o),n-=2,r+=2,s=!0;else t[e++]=255&this.readCorner1(i,o),n-=2,r+=2,a=!0}while(n<i||r<o);if(e!==this.version.getTotalCodewords())throw new xM;return t},t.prototype.readModule=function(t,e,n,r){return t<0&&(t+=n,e+=4-(n+4&7)),e<0&&(e+=r,t+=4-(r+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},t.prototype.readUtah=function(t,e,n,r){var i=0;return this.readModule(t-2,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t-2,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e,n,r)&&(i|=1),i<<=1,this.readModule(t,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t,e,n,r)&&(i|=1),i},t.prototype.readCorner1=function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,1,t,e)&&(n|=1),n<<=1,this.readModule(t-1,2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n},t.prototype.readCorner2=function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-4,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n},t.prototype.readCorner3=function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-3,t,e)&&(n|=1),n<<=1,this.readModule(1,e-2,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n},t.prototype.readCorner4=function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n},t.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new uM("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=e/r|0,a=n/i|0,s=new DM(a*i,o*r),l=0;l<o;++l)for(var c=l*r,u=0;u<a;++u)for(var d=u*i,h=0;h<r;++h)for(var f=l*(r+2)+1+h,p=c+h,g=0;g<i;++g){var m=u*(i+2)+1+g;if(t.get(m,f)){var v=d+g;s.set(v,p)}}return s},t}(),uD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dD=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,n){var r,i,o,a,s=n.getECBlocks(),l=0,c=s.getECBlocks();try{for(var u=uD(c),d=u.next();!d.done;d=u.next())l+=(m=d.value).getCount()}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}var h=new Array(l),f=0;try{for(var p=uD(c),g=p.next();!g.done;g=p.next())for(var m=g.value,v=0;v<m.getCount();v++){var y=m.getDataCodewords(),b=s.getECCodewords()+y;h[f++]=new t(y,new Uint8Array(b))}}catch(t){o={error:t}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}var w=h[0].codewords.length-s.getECCodewords(),_=w-1,A=0;for(v=0;v<_;v++)for(var S=0;S<f;S++)h[S].codewords[v]=e[A++];var E=24===n.getVersionNumber(),C=E?8:f;for(S=0;S<C;S++)h[S].codewords[w-1]=e[A++];var x=h[0].codewords.length;for(v=w;v<x;v++)for(S=0;S<f;S++){var T=E?(S+8)%f:S,I=E&&T>7?v-1:v;h[T].codewords[I]=e[A++]}if(A!==e.length)throw new uM;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),hD=function(){function t(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new uM(""+t);var e=0,n=this.bitOffset,r=this.byteOffset,i=this.bytes;if(n>0){var o=8-n,a=t<o?t:o,s=255>>8-a<<(l=o-a);e=(i[r]&s)>>l,t-=a,8===(n+=a)&&(n=0,r++)}if(t>0){for(;t>=8;)e=e<<8|255&i[r],r++,t-=8;var l;if(t>0)s=255>>(l=8-t)<<l,e=e<<t|(i[r]&s)>>l,n+=t}return this.bitOffset=n,this.byteOffset=r,e},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();!function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"}(iD||(iD={}));var fD,pD=function(){function t(){}return t.decode=function(t){var e=new hD(t),n=new OM,r=new OM,i=new Array,o=iD.ASCII_ENCODE;do{if(o===iD.ASCII_ENCODE)o=this.decodeAsciiSegment(e,n,r);else{switch(o){case iD.C40_ENCODE:this.decodeC40Segment(e,n);break;case iD.TEXT_ENCODE:this.decodeTextSegment(e,n);break;case iD.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,n);break;case iD.EDIFACT_ENCODE:this.decodeEdifactSegment(e,n);break;case iD.BASE256_ENCODE:this.decodeBase256Segment(e,n,i);break;default:throw new xM}o=iD.ASCII_ENCODE}}while(o!==iD.PAD_ENCODE&&e.available()>0);return r.length()>0&&n.append(r.toString()),new eP(t,n.toString(),0===i.length?null:i,null)},t.decodeAsciiSegment=function(t,e,n){var r=!1;do{var i=t.readBits(8);if(0===i)throw new xM;if(i<=128)return r&&(i+=128),e.append(String.fromCharCode(i-1)),iD.ASCII_ENCODE;if(129===i)return iD.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&e.append("0"),e.append(""+o)}else switch(i){case 230:return iD.C40_ENCODE;case 231:return iD.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:e.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return iD.ANSIX12_ENCODE;case 239:return iD.TEXT_ENCODE;case 240:return iD.EDIFACT_ENCODE;default:if(254!==i||0!==t.available())throw new xM}}while(t.available()>0);return iD.ASCII_ENCODE},t.decodeC40Segment=function(t,e){var n=!1,r=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new xM;var l=this.C40_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):e.append(l)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length)l=this.C40_SHIFT2_SET_CHARS[s],n?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):e.append(l);else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new xM}i=0;break;case 3:n?(e.append(String.fromCharCode(s+224)),n=!1):e.append(String.fromCharCode(s+96)),i=0;break;default:throw new xM}}}while(t.available()>0)},t.decodeTextSegment=function(t,e){var n=!1,r=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new xM;var l=this.TEXT_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):e.append(l)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length)l=this.TEXT_SHIFT2_SET_CHARS[s],n?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):e.append(l);else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new xM}i=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new xM;l=this.TEXT_SHIFT3_SET_CHARS[s],n?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):e.append(l),i=0;break;default:throw new xM}}}while(t.available()>0)},t.decodeAnsiX12Segment=function(t,e){var n=[];do{if(8===t.available())return;var r=t.readBits(8);if(254===r)return;this.parseTwoBytes(r,t.readBits(8),n);for(var i=0;i<3;i++){var o=n[i];switch(o){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(o<14)e.append(String.fromCharCode(o+44));else{if(!(o<40))throw new xM;e.append(String.fromCharCode(o+51))}}}}while(t.available()>0)},t.parseTwoBytes=function(t,e,n){var r=(t<<8)+e-1,i=Math.floor(r/1600);n[0]=i,r-=1600*i,i=Math.floor(r/40),n[1]=i,n[2]=r-40*i},t.decodeEdifactSegment=function(t,e){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var r=t.readBits(6);if(31===r){var i=8-t.getBitOffset();return void(8!==i&&t.readBits(i))}0==(32&r)&&(r|=64),e.append(String.fromCharCode(r))}}while(t.available()>0)},t.decodeBase256Segment=function(t,e,n){var r,i=1+t.getByteOffset(),o=this.unrandomize255State(t.readBits(8),i++);if((r=0===o?t.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(t.readBits(8),i++))<0)throw new xM;for(var a=new Uint8Array(r),s=0;s<r;s++){if(t.available()<8)throw new xM;a[s]=this.unrandomize255State(t.readBits(8),i++)}n.push(a);try{e.append(MM.decode(a,PM.ISO88591))}catch(t){throw new dP("Platform does not support required encoding: "+t.message)}},t.unrandomize255State=function(t,e){var n=t-(149*e%255+1);return n>=0?n:n+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),gD=function(){function t(){this.rsDecoder=new hP(sP.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(t){var e,n,r=new cD(t),i=r.getVersion(),o=r.readCodewords(),a=dD.getDataBlocks(o,i),s=0;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),c=l.next();!c.done;c=l.next())s+=c.value.getNumDataCodewords()}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}for(var u=new Uint8Array(s),d=a.length,h=0;h<d;h++){var f=a[h],p=f.getCodewords(),g=f.getNumDataCodewords();this.correctErrors(p,g);for(var m=0;m<g;m++)u[m*d+h]=p[m]}return pD.decode(u)},t.prototype.correctErrors=function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(t){throw new fM}for(var r=0;r<e;r++)t[r]=n[r]},t}(),mD=function(){function t(t){this.image=t,this.rectangleDetector=new wP(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new LM;var r=(n=this.shiftToModuleCenter(n))[0],i=n[1],o=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(o,a)+1;1==(1&s)&&(s+=1),1==(1&l)&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,r,i,o,a,s,l);return new vP(c,[r,i,o,a])},t.shiftPoint=function(t,e,n){var r=(e.getX()-t.getX())/(n+1),i=(e.getY()-t.getY())/(n+1);return new mP(t.getX()+r,t.getY()+i)},t.moveAway=function(t,e,n){var r=t.getX(),i=t.getY();return r<e?r-=1:r+=1,i<n?i-=1:i+=1,new mP(r,i)},t.prototype.detectSolid1=function(t){var e=t[0],n=t[1],r=t[3],i=t[2],o=this.transitionsBetween(e,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,i),l=this.transitionsBetween(i,e),c=o,u=[i,e,n,r];return c>a&&(c=a,u[0]=e,u[1]=n,u[2]=r,u[3]=i),c>s&&(c=s,u[0]=n,u[1]=r,u[2]=i,u[3]=e),c>l&&(u[0]=r,u[1]=i,u[2]=e,u[3]=n),u},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=t.shiftPoint(r,i,4*(a+1)),l=t.shiftPoint(i,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(l,o)?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=this.transitionsBetween(r,o),l=t.shiftPoint(n,r,4*(s+1)),c=t.shiftPoint(i,r,4*(a+1));a=this.transitionsBetween(l,o),s=this.transitionsBetween(c,o);var u=new mP(o.getX()+(i.getX()-r.getX())/(a+1),o.getY()+(i.getY()-r.getY())/(a+1)),d=new mP(o.getX()+(n.getX()-r.getX())/(s+1),o.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(u)?this.isValid(d)?this.transitionsBetween(l,u)+this.transitionsBetween(c,u)>this.transitionsBetween(l,d)+this.transitionsBetween(c,d)?u:d:u:this.isValid(d)?d:null},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,s=this.transitionsBetween(i,o)+1,l=t.shiftPoint(n,r,4*s),c=t.shiftPoint(i,r,4*a);1==(1&(a=this.transitionsBetween(l,o)+1))&&(a+=1),1==(1&(s=this.transitionsBetween(c,o)+1))&&(s+=1);var u,d,h=(n.getX()+r.getX()+i.getX()+o.getX())/4,f=(n.getY()+r.getY()+i.getY()+o.getY())/4;return n=t.moveAway(n,h,f),r=t.moveAway(r,h,f),i=t.moveAway(i,h,f),o=t.moveAway(o,h,f),l=t.shiftPoint(n,r,4*s),l=t.shiftPoint(l,o,4*a),u=t.shiftPoint(r,n,4*s),u=t.shiftPoint(u,i,4*a),c=t.shiftPoint(i,o,4*s),c=t.shiftPoint(c,r,4*a),d=t.shiftPoint(o,i,4*s),[l,u,c,d=t.shiftPoint(d,n,4*a)]},t.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},t.sampleGrid=function(t,e,n,r,i,o,a){return CP.getInstance().sampleGrid(t,o,a,.5,.5,o-.5,.5,o-.5,a-.5,.5,a-.5,e.getX(),e.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(t,e){var n=Math.trunc(t.getX()),r=Math.trunc(t.getY()),i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.abs(o-r)>Math.abs(i-n);if(a){var s=n;n=r,r=s,s=i,i=o,o=s}for(var l=Math.abs(i-n),c=Math.abs(o-r),u=-l/2,d=r<o?1:-1,h=n<i?1:-1,f=0,p=this.image.get(a?r:n,a?n:r),g=n,m=r;g!==i;g+=h){var v=this.image.get(a?m:g,a?g:m);if(v!==p&&(f++,p=v),(u+=c)>0){if(m===o)break;m+=d,u-=l}}return f},t}(),vD=function(){function t(){this.decoder=new gD}return t.prototype.decode=function(e,n){var r,i;if(void 0===n&&(n=null),null!=n&&n.has(EM.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new mD(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=r.getRawBytes(),l=new KM(r.getText(),s,8*s.length,i,QM.DATA_MATRIX,gM.currentTimeMillis()),c=r.getByteSegments();null!=c&&l.putMetadata(tP.BYTE_SEGMENTS,c);var u=r.getECLevel();return null!=u&&l.putMetadata(tP.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null==e||null==n)throw new LM;var r=this.moduleSize(e,t),i=e[1],o=n[1],a=e[0],s=(n[0]-a+1)/r,l=(o-i+1)/r;if(s<=0||l<=0)throw new LM;var c=r/2;i+=c,a+=c;for(var u=new DM(s,l),d=0;d<l;d++)for(var h=i+d*r,f=0;f<s;f++)t.get(a+f*r,h)&&u.set(f,d);return u},t.moduleSize=function(t,e){for(var n=e.getWidth(),r=t[0],i=t[1];r<n&&e.get(r,i);)r++;if(r===n)throw new LM;var o=r-t[0];if(0===o)throw new LM;return o},t.NO_POINTS=[],t}(),yD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){yD((function(e){return void 0===e&&(e=500),t.call(this,new vD,e)||this}),t)}(YM),function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"}(fD||(fD={}));var bD,wD=function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new lM(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new uM;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(fD.L,"L",1),t.M=new t(fD.M,"M",0),t.Q=new t(fD.Q,"Q",3),t.H=new t(fD.H,"H",2),t}(),_D=function(){function t(t){this.errorCorrectionLevel=wD.forBits(t>>3&3),this.dataMask=7&t}return t.numBitsDiffering=function(t,e){return _M.bitCount(t^e)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return null!==r?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[0];if(u===e||u===n)return new t(c[1]);var d=t.numBitsDiffering(e,u);d<o&&(a=c[1],o=d),e!==n&&(d=t.numBitsDiffering(n,u))<o&&(a=c[1],o=d)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),AD=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var t,e,n=0,r=this.ecBlocks;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),o=i.next();!o.done;o=i.next())n+=o.value.getCount()}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),SD=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),ED=function(){function t(t,e){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=i;var a=0,s=i[0].getECCodewordsPerBlock(),l=i[0].getECBlocks();try{for(var c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),u=c.next();!u.done;u=c.next()){var d=u.value;a+=d.getCount()*(d.getDataCodewords()+s)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},t.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw new xM;try{return this.getVersionForNumber((t-17)/4)}catch(t){throw new xM}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new uM;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=_D.numBitsDiffering(e,o);a<n&&(r=i+7,n=a)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new DM(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0===r&&(0===o||o===n-1)||r===n-1&&0===o||e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new AD(7,new SD(1,19)),new AD(10,new SD(1,16)),new AD(13,new SD(1,13)),new AD(17,new SD(1,9))),new t(2,Int32Array.from([6,18]),new AD(10,new SD(1,34)),new AD(16,new SD(1,28)),new AD(22,new SD(1,22)),new AD(28,new SD(1,16))),new t(3,Int32Array.from([6,22]),new AD(15,new SD(1,55)),new AD(26,new SD(1,44)),new AD(18,new SD(2,17)),new AD(22,new SD(2,13))),new t(4,Int32Array.from([6,26]),new AD(20,new SD(1,80)),new AD(18,new SD(2,32)),new AD(26,new SD(2,24)),new AD(16,new SD(4,9))),new t(5,Int32Array.from([6,30]),new AD(26,new SD(1,108)),new AD(24,new SD(2,43)),new AD(18,new SD(2,15),new SD(2,16)),new AD(22,new SD(2,11),new SD(2,12))),new t(6,Int32Array.from([6,34]),new AD(18,new SD(2,68)),new AD(16,new SD(4,27)),new AD(24,new SD(4,19)),new AD(28,new SD(4,15))),new t(7,Int32Array.from([6,22,38]),new AD(20,new SD(2,78)),new AD(18,new SD(4,31)),new AD(18,new SD(2,14),new SD(4,15)),new AD(26,new SD(4,13),new SD(1,14))),new t(8,Int32Array.from([6,24,42]),new AD(24,new SD(2,97)),new AD(22,new SD(2,38),new SD(2,39)),new AD(22,new SD(4,18),new SD(2,19)),new AD(26,new SD(4,14),new SD(2,15))),new t(9,Int32Array.from([6,26,46]),new AD(30,new SD(2,116)),new AD(22,new SD(3,36),new SD(2,37)),new AD(20,new SD(4,16),new SD(4,17)),new AD(24,new SD(4,12),new SD(4,13))),new t(10,Int32Array.from([6,28,50]),new AD(18,new SD(2,68),new SD(2,69)),new AD(26,new SD(4,43),new SD(1,44)),new AD(24,new SD(6,19),new SD(2,20)),new AD(28,new SD(6,15),new SD(2,16))),new t(11,Int32Array.from([6,30,54]),new AD(20,new SD(4,81)),new AD(30,new SD(1,50),new SD(4,51)),new AD(28,new SD(4,22),new SD(4,23)),new AD(24,new SD(3,12),new SD(8,13))),new t(12,Int32Array.from([6,32,58]),new AD(24,new SD(2,92),new SD(2,93)),new AD(22,new SD(6,36),new SD(2,37)),new AD(26,new SD(4,20),new SD(6,21)),new AD(28,new SD(7,14),new SD(4,15))),new t(13,Int32Array.from([6,34,62]),new AD(26,new SD(4,107)),new AD(22,new SD(8,37),new SD(1,38)),new AD(24,new SD(8,20),new SD(4,21)),new AD(22,new SD(12,11),new SD(4,12))),new t(14,Int32Array.from([6,26,46,66]),new AD(30,new SD(3,115),new SD(1,116)),new AD(24,new SD(4,40),new SD(5,41)),new AD(20,new SD(11,16),new SD(5,17)),new AD(24,new SD(11,12),new SD(5,13))),new t(15,Int32Array.from([6,26,48,70]),new AD(22,new SD(5,87),new SD(1,88)),new AD(24,new SD(5,41),new SD(5,42)),new AD(30,new SD(5,24),new SD(7,25)),new AD(24,new SD(11,12),new SD(7,13))),new t(16,Int32Array.from([6,26,50,74]),new AD(24,new SD(5,98),new SD(1,99)),new AD(28,new SD(7,45),new SD(3,46)),new AD(24,new SD(15,19),new SD(2,20)),new AD(30,new SD(3,15),new SD(13,16))),new t(17,Int32Array.from([6,30,54,78]),new AD(28,new SD(1,107),new SD(5,108)),new AD(28,new SD(10,46),new SD(1,47)),new AD(28,new SD(1,22),new SD(15,23)),new AD(28,new SD(2,14),new SD(17,15))),new t(18,Int32Array.from([6,30,56,82]),new AD(30,new SD(5,120),new SD(1,121)),new AD(26,new SD(9,43),new SD(4,44)),new AD(28,new SD(17,22),new SD(1,23)),new AD(28,new SD(2,14),new SD(19,15))),new t(19,Int32Array.from([6,30,58,86]),new AD(28,new SD(3,113),new SD(4,114)),new AD(26,new SD(3,44),new SD(11,45)),new AD(26,new SD(17,21),new SD(4,22)),new AD(26,new SD(9,13),new SD(16,14))),new t(20,Int32Array.from([6,34,62,90]),new AD(28,new SD(3,107),new SD(5,108)),new AD(26,new SD(3,41),new SD(13,42)),new AD(30,new SD(15,24),new SD(5,25)),new AD(28,new SD(15,15),new SD(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new AD(28,new SD(4,116),new SD(4,117)),new AD(26,new SD(17,42)),new AD(28,new SD(17,22),new SD(6,23)),new AD(30,new SD(19,16),new SD(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new AD(28,new SD(2,111),new SD(7,112)),new AD(28,new SD(17,46)),new AD(30,new SD(7,24),new SD(16,25)),new AD(24,new SD(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new AD(30,new SD(4,121),new SD(5,122)),new AD(28,new SD(4,47),new SD(14,48)),new AD(30,new SD(11,24),new SD(14,25)),new AD(30,new SD(16,15),new SD(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new AD(30,new SD(6,117),new SD(4,118)),new AD(28,new SD(6,45),new SD(14,46)),new AD(30,new SD(11,24),new SD(16,25)),new AD(30,new SD(30,16),new SD(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new AD(26,new SD(8,106),new SD(4,107)),new AD(28,new SD(8,47),new SD(13,48)),new AD(30,new SD(7,24),new SD(22,25)),new AD(30,new SD(22,15),new SD(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new AD(28,new SD(10,114),new SD(2,115)),new AD(28,new SD(19,46),new SD(4,47)),new AD(28,new SD(28,22),new SD(6,23)),new AD(30,new SD(33,16),new SD(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new AD(30,new SD(8,122),new SD(4,123)),new AD(28,new SD(22,45),new SD(3,46)),new AD(30,new SD(8,23),new SD(26,24)),new AD(30,new SD(12,15),new SD(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new AD(30,new SD(3,117),new SD(10,118)),new AD(28,new SD(3,45),new SD(23,46)),new AD(30,new SD(4,24),new SD(31,25)),new AD(30,new SD(11,15),new SD(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new AD(30,new SD(7,116),new SD(7,117)),new AD(28,new SD(21,45),new SD(7,46)),new AD(30,new SD(1,23),new SD(37,24)),new AD(30,new SD(19,15),new SD(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new AD(30,new SD(5,115),new SD(10,116)),new AD(28,new SD(19,47),new SD(10,48)),new AD(30,new SD(15,24),new SD(25,25)),new AD(30,new SD(23,15),new SD(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new AD(30,new SD(13,115),new SD(3,116)),new AD(28,new SD(2,46),new SD(29,47)),new AD(30,new SD(42,24),new SD(1,25)),new AD(30,new SD(23,15),new SD(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new AD(30,new SD(17,115)),new AD(28,new SD(10,46),new SD(23,47)),new AD(30,new SD(10,24),new SD(35,25)),new AD(30,new SD(19,15),new SD(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new AD(30,new SD(17,115),new SD(1,116)),new AD(28,new SD(14,46),new SD(21,47)),new AD(30,new SD(29,24),new SD(19,25)),new AD(30,new SD(11,15),new SD(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new AD(30,new SD(13,115),new SD(6,116)),new AD(28,new SD(14,46),new SD(23,47)),new AD(30,new SD(44,24),new SD(7,25)),new AD(30,new SD(59,16),new SD(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new AD(30,new SD(12,121),new SD(7,122)),new AD(28,new SD(12,47),new SD(26,48)),new AD(30,new SD(39,24),new SD(14,25)),new AD(30,new SD(22,15),new SD(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new AD(30,new SD(6,121),new SD(14,122)),new AD(28,new SD(6,47),new SD(34,48)),new AD(30,new SD(46,24),new SD(10,25)),new AD(30,new SD(2,15),new SD(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new AD(30,new SD(17,122),new SD(4,123)),new AD(28,new SD(29,46),new SD(14,47)),new AD(30,new SD(49,24),new SD(10,25)),new AD(30,new SD(24,15),new SD(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new AD(30,new SD(4,122),new SD(18,123)),new AD(28,new SD(13,46),new SD(32,47)),new AD(30,new SD(48,24),new SD(14,25)),new AD(30,new SD(42,15),new SD(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new AD(30,new SD(20,117),new SD(4,118)),new AD(28,new SD(40,47),new SD(7,48)),new AD(30,new SD(43,24),new SD(22,25)),new AD(30,new SD(10,15),new SD(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new AD(30,new SD(19,118),new SD(6,119)),new AD(28,new SD(18,47),new SD(31,48)),new AD(30,new SD(34,24),new SD(34,25)),new AD(30,new SD(20,15),new SD(61,16)))],t}();!function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"}(bD||(bD={}));var CD,xD=function(){function t(t,e){this.value=t,this.isMasked=e}return t.prototype.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},t.values=new Map([[bD.DATA_MASK_000,new t(bD.DATA_MASK_000,(function(t,e){return 0==(t+e&1)}))],[bD.DATA_MASK_001,new t(bD.DATA_MASK_001,(function(t,e){return 0==(1&t)}))],[bD.DATA_MASK_010,new t(bD.DATA_MASK_010,(function(t,e){return e%3==0}))],[bD.DATA_MASK_011,new t(bD.DATA_MASK_011,(function(t,e){return(t+e)%3==0}))],[bD.DATA_MASK_100,new t(bD.DATA_MASK_100,(function(t,e){return 0==(Math.floor(t/2)+Math.floor(e/3)&1)}))],[bD.DATA_MASK_101,new t(bD.DATA_MASK_101,(function(t,e){return t*e%6==0}))],[bD.DATA_MASK_110,new t(bD.DATA_MASK_110,(function(t,e){return t*e%6<3}))],[bD.DATA_MASK_111,new t(bD.DATA_MASK_111,(function(t,e){return 0==(t+e+t*e%3&1)}))]]),t}(),TD=function(){function t(t){var e=t.getHeight();if(e<21||1!=(3&e))throw new xM;this.bitMatrix=t}return t.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);var r=this.bitMatrix.getHeight(),i=0,o=r-7;for(n=r-1;n>=o;n--)i=this.copyBit(8,n,i);for(e=r-8;e<r;e++)i=this.copyBit(e,8,i);if(this.parsedFormatInfo=_D.decodeFormatInformation(t,i),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new xM},t.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return ED.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var o=t-9;o>=r;o--)n=this.copyBit(o,i,n);var a=ED.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;for(n=0,o=5;o>=0;o--)for(i=t-9;i>=r;i--)n=this.copyBit(o,i,n);if(null!==(a=ED.decodeVersionInformation(n))&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new xM},t.prototype.copyBit=function(t,e,n){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?n<<1|1:n<<1},t.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=xD.values.get(t.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),o=!0,a=new Uint8Array(e.getTotalCodewords()),s=0,l=0,c=0,u=r-1;u>0;u-=2){6===u&&u--;for(var d=0;d<r;d++)for(var h=o?r-1-d:d,f=0;f<2;f++)i.get(u-f,h)||(c++,l<<=1,this.bitMatrix.get(u-f,h)&&(l|=1),8===c&&(a[s++]=l,c=0,l=0));o=!o}if(s!==e.getTotalCodewords())throw new xM;return a},t.prototype.remask=function(){if(null!==this.parsedFormatInfo){var t=xD.values[this.parsedFormatInfo.getDataMask()],e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},t.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},t.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,n=t.getWidth();e<n;e++)for(var r=e+1,i=t.getHeight();r<i;r++)t.get(e,r)!==t.get(r,e)&&(t.flip(r,e),t.flip(e,r))},t}(),ID=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kD=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,n,r){var i,o,a,s;if(e.length!==n.getTotalCodewords())throw new uM;var l=n.getECBlocksForLevel(r),c=0,u=l.getECBlocks();try{for(var d=ID(u),h=d.next();!h.done;h=d.next())c+=(v=h.value).getCount()}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var f=new Array(c),p=0;try{for(var g=ID(u),m=g.next();!m.done;m=g.next())for(var v=m.value,y=0;y<v.getCount();y++){var b=v.getDataCodewords(),w=l.getECCodewordsPerBlock()+b;f[p++]=new t(b,new Uint8Array(w))}}catch(t){a={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var _=f[0].codewords.length,A=f.length-1;A>=0&&f[A].codewords.length!==_;)A--;A++;var S=_-l.getECCodewordsPerBlock(),E=0;for(y=0;y<S;y++)for(var C=0;C<p;C++)f[C].codewords[y]=e[E++];for(C=A;C<p;C++)f[C].codewords[S]=e[E++];var x=f[0].codewords.length;for(y=S;y<x;y++)for(C=0;C<p;C++){var T=C<A?y:y+1;f[C].codewords[T]=e[E++]}return f},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();!function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"}(CD||(CD={}));var RD,MD,PD=function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(void 0===n)throw new uM;return n},t.prototype.getCharacterCountBits=function(t){var e,n=t.getVersionNumber();return e=n<=9?0:n<=26?1:2,this.characterCountBitsForVersions[e]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(CD.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(CD.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(CD.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(CD.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(CD.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(CD.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(CD.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(CD.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(CD.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(CD.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),OD=function(){function t(){}return t.decode=function(e,n,r,i){var o=new hD(e),a=new OM,s=new Array,l=-1,c=-1;try{var u=null,d=!1,h=void 0;do{if(o.available()<4)h=PD.TERMINATOR;else{var f=o.readBits(4);h=PD.forBits(f)}switch(h){case PD.TERMINATOR:break;case PD.FNC1_FIRST_POSITION:case PD.FNC1_SECOND_POSITION:d=!0;break;case PD.STRUCTURED_APPEND:if(o.available()<16)throw new xM;l=o.readBits(8),c=o.readBits(8);break;case PD.ECI:var p=t.parseECIValue(o);if(null===(u=IM.getCharacterSetECIByValue(p)))throw new xM;break;case PD.HANZI:var g=o.readBits(4),m=o.readBits(h.getCharacterCountBits(n));g===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,m);break;default:var v=o.readBits(h.getCharacterCountBits(n));switch(h){case PD.NUMERIC:t.decodeNumericSegment(o,a,v);break;case PD.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,v,d);break;case PD.BYTE:t.decodeByteSegment(o,a,v,u,s,i);break;case PD.KANJI:t.decodeKanjiSegment(o,a,v);break;default:throw new xM}}}while(h!==PD.TERMINATOR)}catch(t){throw new xM}return new eP(e,a.toString(),0===s.length?null:s,null===r?null:r.toString(),l,c)},t.decodeHanziSegment=function(t,e,n){if(13*n>t.available())throw new xM;for(var r=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),a=o/96<<8&4294967295|o%96;a+=a<959?41377:42657,r[i]=a>>8&255,r[i+1]=255&a,i+=2,n--}try{e.append(MM.decode(r,PM.GB2312))}catch(t){throw new xM(t)}},t.decodeKanjiSegment=function(t,e,n){if(13*n>t.available())throw new xM;for(var r=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),a=o/192<<8&4294967295|o%192;a+=a<7936?33088:49472,r[i]=a>>8,r[i+1]=a,i+=2,n--}try{e.append(MM.decode(r,PM.SHIFT_JIS))}catch(t){throw new xM(t)}},t.decodeByteSegment=function(t,e,n,r,i,o){if(8*n>t.available())throw new xM;for(var a,s=new Uint8Array(n),l=0;l<n;l++)s[l]=t.readBits(8);a=null===r?PM.guessEncoding(s,o):r.getName();try{e.append(MM.decode(s,a))}catch(t){throw new xM(t)}i.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new xM;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var o=n.length();r>1;){if(e.available()<11)throw new xM;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(e.available()<6)throw new xM;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new xM;var i=e.readBits(10);if(i>=1e3)throw new xM;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(2===r){if(e.available()<7)throw new xM;var o=e.readBits(7);if(o>=100)throw new xM;n.append(t.toAlphaNumericChar(Math.floor(o/10))),n.append(t.toAlphaNumericChar(o%10))}else if(1===r){if(e.available()<4)throw new xM;var a=e.readBits(4);if(a>=10)throw new xM;n.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(t){var e=t.readBits(8);if(0==(128&e))return 127&e;if(128==(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192==(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new xM},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),DD=function(){function t(t){this.mirrored=t}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},t}(),ND=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LD=function(){function t(){this.rsDecoder=new hP(sP.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(DM.parseFromBooleanArray(t),e)},t.prototype.decodeBitMatrix=function(t,e){var n=new TD(t),r=null;try{return this.decodeBitMatrixParser(n,e)}catch(t){r=t}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,e);return i.setOther(new DD(!0)),i}catch(t){if(null!==r)throw r;throw t}},t.prototype.decodeBitMatrixParser=function(t,e){var n,r,i,o,a=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=kD.getDataBlocks(l,a,s),u=0;try{for(var d=ND(c),h=d.next();!h.done;h=d.next())u+=(v=h.value).getNumDataCodewords()}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var f=new Uint8Array(u),p=0;try{for(var g=ND(c),m=g.next();!m.done;m=g.next()){var v,y=(v=m.value).getCodewords(),b=v.getNumDataCodewords();this.correctErrors(y,b);for(var w=0;w<b;w++)f[p++]=y[w]}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return OD.decode(f,a,s,e)},t.prototype.correctErrors=function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(t){throw new fM}for(var r=0;r<e;r++)t[r]=n[r]},t}(),FD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BD=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.estimatedModuleSize=r,i}return FD(e,t),e.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,r){return new e((this.getX()+n)/2,(this.getY()+t)/2,(this.estimatedModuleSize+r)/2)},e}(mP),jD=function(){function t(t,e,n,r,i,o,a){this.image=t,this.startX=e,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var t=this.startX,e=this.height,n=t+this.width,r=this.startY+e/2,i=new Int32Array(3),o=this.image,a=0;a<e;a++){var s=r+(0==(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var l=t;l<n&&!o.get(l,s);)l++;for(var c=0;l<n;){if(o.get(l,s))if(1===c)i[1]++;else if(2===c){var u;if(this.foundPatternCross(i)&&null!==(u=this.handlePossibleCenter(i,s,l)))return u;i[0]=i[2],i[1]=1,i[2]=0,c=1}else i[++c]++;else 1===c&&c++,i[c]++;l++}if(this.foundPatternCross(i)&&null!==(u=this.handlePossibleCenter(i,s,n)))return u}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new LM},t.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},t.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&o.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&!o.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=e+1;l<a&&o.get(n,l)&&s[1]<=r;)s[1]++,l++;if(l===a||s[1]>r)return NaN;for(;l<a&&!o.get(n,l)&&s[2]<=r;)s[2]++,l++;if(s[2]>r)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,r),l=this.crossCheckVertical(n,s,2*e[1],a);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),d=u.next();!d.done;d=u.next()){var h=d.value;if(h.aboutEquals(c,l,s))return h.combineEstimate(l,s,c)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var f=new BD(s,l,c);this.possibleCenters.push(f),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},t}(),zD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VD=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.estimatedModuleSize=r,o.count=i,void 0===i&&(o.count=1),o}return zD(e,t),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,r){var i=this.count+1;return new e((this.count*this.getX()+n)/i,(this.count*this.getY()+t)/i,(this.count*this.estimatedModuleSize+r)/i,i)},e}(mP),HD=function(){function t(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),UD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WD=function(){function t(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=null!=e&&void 0!==e.get(EM.TRY_HARDER),r=null!=e&&void 0!==e.get(EM.PURE_BARCODE),i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=s-1;u<o&&!l;u+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var d=0,h=0;h<a;h++)if(i.get(h,u))1==(1&d)&&d++,c[d]++;else if(0==(1&d))if(4===d)if(t.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,u,h,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,d=3;continue}if(s=2,!0===this.hasSkipped)l=this.haveMultiplyConfirmedCenters();else{var f=this.findRowSkip();f>c[2]&&(u+=f-c[2]-s,h=a-1)}d=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,d=3;else c[++d]++;else c[d]++;t.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,u,a,r)&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return mP.orderBestPatterns(p),new HD(p)},t.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},t.foundPatternCross=function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0===r)return!1;e+=r}if(e<7)return!1;var i=e/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},t.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;var l=s.getHeight(),c=s.getWidth();for(a=1;e+a<l&&n+a<c&&s.get(n+a,e+a);)o[2]++,a++;if(e+a>=l||n+a>=c)return!1;for(;e+a<l&&n+a<c&&!s.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=l||n+a>=c||o[3]>=r)return!1;for(;e+a<l&&n+a<c&&s.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;var u=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(u-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(n,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(n,l)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&o.get(n,l)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=e+1;l<a&&o.get(n,l);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(n,l)&&s[3]<r;)s[3]++,l++;if(l===a||s[3]>=r)return NaN;for(;l<a&&o.get(n,l)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,n);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,n)&&s[1]<=r;)s[1]++,l--;if(l<0||s[1]>r)return NaN;for(;l>=0&&o.get(l,n)&&s[0]<=r;)s[0]++,l--;if(s[0]>r)return NaN;for(l=e+1;l<a&&o.get(l,n);)s[2]++,l++;if(l===a)return NaN;for(;l<a&&!o.get(l,n)&&s[3]<r;)s[3]++,l++;if(l===a||s[3]>=r)return NaN;for(;l<a&&o.get(l,n)&&s[4]<r;)s[4]++,l++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var l=o/7,c=!1,u=this.possibleCenters,d=0,h=u.length;d<h;d++){var f=u[d];if(f.aboutEquals(l,s,a)){u[d]=f.combineEstimate(s,a,l),c=!0;break}}if(!c){var p=new VD(a,s,l);u.push(p),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var i=UD(this.possibleCenters),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.getCount()>=t.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);r=a}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,o=0,a=0,s=this.possibleCenters.length;try{for(var l=UD(this.possibleCenters),c=l.next();!c.done;c=l.next())(p=c.value).getCount()>=t.CENTER_QUORUM&&(o++,a+=p.getEstimatedModuleSize())}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var u=a/s,d=0;try{for(var h=UD(this.possibleCenters),f=h.next();!f.done;f=h.next()){var p=f.value;d+=Math.abs(p.getEstimatedModuleSize()-u)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return d<=.05*a},t.prototype.selectBestPatterns=function(){var t,e,n,r,i=this.possibleCenters.length;if(i<3)throw new LM;var o,a=this.possibleCenters;if(i>3){var s=0,l=0;try{for(var c=UD(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value.getEstimatedModuleSize();s+=d,l+=d*d}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}o=s/i;var h=Math.sqrt(l/i-o*o);a.sort((function(t,e){var n=Math.abs(e.getEstimatedModuleSize()-o),r=Math.abs(t.getEstimatedModuleSize()-o);return n<r?-1:n>r?1:0}));for(var f=Math.max(.2*o,h),p=0;p<a.length&&a.length>3;p++){var g=a[p];Math.abs(g.getEstimatedModuleSize()-o)>f&&(a.splice(p,1),p--)}}if(a.length>3){s=0;try{for(var m=UD(a),v=m.next();!v.done;v=m.next())s+=v.value.getEstimatedModuleSize()}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}o=s/a.length,a.sort((function(t,e){if(e.getCount()===t.getCount()){var n=Math.abs(e.getEstimatedModuleSize()-o),r=Math.abs(t.getEstimatedModuleSize()-o);return n<r?1:n>r?-1:0}return e.getCount()-t.getCount()})),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),$D=function(){function t(t){this.image=t}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(t){this.resultPointCallback=null==t?null:t.get(EM.NEED_RESULT_POINT_CALLBACK);var e=new WD(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(e)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new LM("No pattern found in proccess finder.");var a=t.computeDimension(n,r,i,o),s=ED.getProvisionalVersionForDimension(a),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var u=r.getX()-n.getX()+i.getX(),d=r.getY()-n.getY()+i.getY(),h=1-3/l,f=Math.floor(n.getX()+h*(u-n.getX())),p=Math.floor(n.getY()+h*(d-n.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(o,f,p,g);break}catch(t){if(!(t instanceof LM))throw t}var m=t.createTransform(n,r,i,c,a),v=t.sampleGrid(this.image,m,a);return new vP(v,null===c?[i,n,r]:[i,n,r,c])},t.createTransform=function(t,e,n,r,i){var o,a,s,l,c=i-3.5;return null!==r?(o=r.getX(),a=r.getY(),l=s=c-3):(o=e.getX()-t.getX()+n.getX(),a=e.getY()-t.getY()+n.getY(),s=c,l=c),AP.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,s,l,3.5,c,t.getX(),t.getY(),e.getX(),e.getY(),o,a,n.getX(),n.getY())},t.sampleGrid=function(t,e,n){return CP.getInstance().sampleGridWithTransform(t,n,n,e)},t.computeDimension=function(t,e,n,r){var i=pP.round(mP.distance(t,e)/r),o=pP.round(mP.distance(t,n)/r),a=Math.floor((i+o)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new LM("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},t.prototype.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,n,r){var i=this.sizeOfBlackWhiteBlackRun(t,e,n,r),o=1,a=t-(n-t);a<0?(o=t/(t-a),a=0):a>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(a-t),a=this.image.getWidth()-1);var s=Math.floor(e-(r-e)*o);return o=1,s<0?(o=e/(e-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-e)/(s-e),s=this.image.getHeight()-1),a=Math.floor(t+(a-t)*o),(i+=this.sizeOfBlackWhiteBlackRun(t,e,a,s))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(t,e,n,r){var i=Math.abs(r-e)>Math.abs(n-t);if(i){var o=t;t=e,e=o,o=n,n=r,r=o}for(var a=Math.abs(n-t),s=Math.abs(r-e),l=-a/2,c=t<n?1:-1,u=e<r?1:-1,d=0,h=n+c,f=t,p=e;f!==h;f+=c){var g=i?p:f,m=i?f:p;if(1===d===this.image.get(g,m)){if(2===d)return pP.distance(f,p,t,e);d++}if((l+=s)>0){if(p===r)break;p+=u,l-=a}}return 2===d?pP.distance(n+c,r,t,e):NaN},t.prototype.findAlignmentInRegion=function(t,e,n,r){var i=Math.floor(r*t),o=Math.max(0,e-i),a=Math.min(this.image.getWidth()-1,e+i);if(a-o<3*t)throw new LM("Alignment top exceeds estimated module size.");var s=Math.max(0,n-i),l=Math.min(this.image.getHeight()-1,n+i);if(l-s<3*t)throw new LM("Alignment bottom exceeds estimated module size.");return new jD(this.image,o,s,a-o,l-s,t,this.resultPointCallback).find()},t}(),GD=function(){function t(){this.decoder=new LD}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(null!=n&&void 0!==n.get(EM.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),i=t.NO_POINTS}else{var a=new $D(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),i=a.getPoints()}r.getOther()instanceof DD&&r.getOther().applyMirroredCorrection(i);var s=new KM(r.getText(),r.getRawBytes(),void 0,i,QM.QR_CODE,void 0),l=r.getByteSegments();null!==l&&s.putMetadata(tP.BYTE_SEGMENTS,l);var c=r.getECLevel();return null!==c&&s.putMetadata(tP.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(tP.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(tP.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null===e||null===n)throw new LM;var r=this.moduleSize(e,t),i=e[1],o=n[1],a=e[0],s=n[0];if(a>=s||i>=o)throw new LM;if(o-i!=s-a&&(s=a+(o-i))>=t.getWidth())throw new LM;var l=Math.round((s-a+1)/r),c=Math.round((o-i+1)/r);if(l<=0||c<=0)throw new LM;if(c!==l)throw new LM;var u=Math.floor(r/2);i+=u;var d=(a+=u)+Math.floor((l-1)*r)-s;if(d>0){if(d>u)throw new LM;a-=d}var h=i+Math.floor((c-1)*r)-o;if(h>0){if(h>u)throw new LM;i-=h}for(var f=new DM(l,c),p=0;p<c;p++)for(var g=i+Math.floor(p*r),m=0;m<l;m++)t.get(a+Math.floor(m*r),g)&&f.set(m,p);return f},t.moduleSize=function(t,e){for(var n=e.getHeight(),r=e.getWidth(),i=t[0],o=t[1],a=!0,s=0;i<r&&o<n;){if(a!==e.get(i,o)){if(5==++s)break;a=!a}i++,o++}if(i===r||o===n)throw new LM;return(i-t[0])/7},t.NO_POINTS=new Array,t}(),XD=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(t){return pP.sum(t)},t.toIntArray=function(e){var n,r;if(null==e||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=a.next();!s.done;s=a.next()){var l=s.value;i[o++]=l}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=wM.binarySearch(t.SYMBOL_TABLE,262143&e);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),qD=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),YD=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KD=function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),o=t.detect(r,i);return o.length||((i=i.clone()).rotate180(),o=t.detect(r,i)),new qD(i,o)},t.detect=function(e,n){for(var r,i,o=new Array,a=0,s=0,l=!1;a<n.getHeight();){var c=t.findVertices(n,a,s);if(null!=c[0]||null!=c[3]){if(l=!0,o.push(c),!e)break;null!=c[2]?(s=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}else{if(!l)break;l=!1,s=0;try{for(var u=(r=void 0,YD(o)),d=u.next();!d.done;d=u.next()){var h=d.value;null!=h[1]&&(a=Math.trunc(Math.max(a,h[1].getY()))),null!=h[3]&&(a=Math.max(a,Math.trunc(h[3].getY())))}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}a+=t.ROW_STEP}}return o},t.findVertices=function(e,n,r){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(t,e,n){for(var r=0;r<n.length;r++)t[n[r]]=e[r]},t.findRowsWithPattern=function(e,n,r,i,o,a){for(var s=new Array(4),l=!1,c=new Int32Array(a.length);i<n;i+=t.ROW_STEP)if(null!=(f=t.findGuardPattern(e,o,i,r,!1,a,c))){for(;i>0;){if(null==(h=t.findGuardPattern(e,o,--i,r,!1,a,c))){i++;break}f=h}s[0]=new mP(f[0],i),s[1]=new mP(f[1],i),l=!0;break}var u=i+1;if(l){for(var d=0,h=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);u<n;u++){var f;if(null!=(f=t.findGuardPattern(e,h[0],u,r,!1,a,c))&&Math.abs(h[0]-f[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-f[1])<t.MAX_PATTERN_DRIFT)h=f,d=0;else{if(d>t.SKIPPED_ROW_COUNT_MAX)break;d++}}u-=d+1,s[2]=new mP(h[0],u),s[3]=new mP(h[1],u)}return u-i<t.BARCODE_MIN_HEIGHT&&wM.fill(s,null),s},t.findGuardPattern=function(e,n,r,i,o,a,s){wM.fillWithin(s,0,s.length,0);for(var l=n,c=0;e.get(l,r)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var u=l,d=0,h=a.length,f=o;u<i;u++)if(e.get(u,r)!==f)s[d]++;else{if(d===h-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=s[0]+s[1],gM.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,f=!f}return d===h-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},t.patternMatchVariance=function(t,e,n){for(var r=t.length,i=0,o=0,a=0;a<r;a++)i+=t[a],o+=e[a];if(i<o)return 1/0;var s=i/o;n*=s;for(var l=0,c=0;c<r;c++){var u=t[c],d=e[c]*s,h=u>d?u-d:d-u;if(h>n)return 1/0;l+=h}return l/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),ZD=function(){function t(t,e){if(0===e.length)throw new uM;this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),gM.arraycopy(e,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){var e,n;if(0===t)return this.getCoefficient(0);if(1===t){var r=0;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),o=i.next();!o.done;o=i.next()){var a=o.value;r=this.field.add(r,a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}for(var s=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)s=this.field.add(this.field.multiply(t,s),this.coefficients[c]);return s},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new uM("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;gM.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=this.field.add(n[s-a],r[s]);return new t(this.field,o)},t.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new uM("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new uM("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=0;s<r;s++)for(var l=n[s],c=0;c<o;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(l,i[c]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(0===e)return new t(this.field,new Int32Array([0]));if(1===e)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new uM;if(0===n)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)},t.prototype.toString=function(){for(var t=new OM,e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);0!==n&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),0!==e&&1===n||t.append(n),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},t}(),QD=function(){function t(){}return t.prototype.add=function(t,e){return(t+e)%this.modulus},t.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new uM;return this.logTable[t]},t.prototype.inverse=function(t){if(0===t)throw new oP;return this.expTable[this.modulus-this.logTable[t]-1]},t.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(t){return t===this},t}(),JD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tN=function(t){function e(e,n){var r=t.call(this)||this;r.modulus=e,r.expTable=new Int32Array(e),r.logTable=new Int32Array(e);for(var i=1,o=0;o<e;o++)r.expTable[o]=i,i=i*n%e;for(o=0;o<e-1;o++)r.logTable[r.expTable[o]]=o;return r.zero=new ZD(r,new Int32Array([0])),r.one=new ZD(r,new Int32Array([1])),r}return JD(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new uM;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new ZD(this,n)},e.PDF417_GF=new e(XD.NUMBER_OF_CODEWORDS,3),e}(QD),eN=function(){function t(){this.field=tN.PDF417_GF}return t.prototype.decode=function(t,e,n){for(var r,i,o=new ZD(this.field,t),a=new Int32Array(e),s=!1,l=e;l>0;l--){var c=o.evaluateAt(this.field.exp(l));a[e-l]=c,0!==c&&(s=!0)}if(!s)return 0;var u=this.field.getOne();if(null!=n)try{for(var d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),h=d.next();!h.done;h=d.next()){var f=h.value,p=this.field.exp(t.length-1-f),g=new ZD(this.field,new Int32Array([this.field.subtract(0,p),1]));u=u.multiply(g)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var m=new ZD(this.field,a),v=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),m,e),y=v[0],b=v[1],w=this.findErrorLocations(y),_=this.findErrorMagnitudes(b,y,w);for(l=0;l<w.length;l++){var A=t.length-1-this.field.log(w[l]);if(A<0)throw fM.getChecksumInstance();t[A]=this.field.subtract(t[A],_[l])}return w.length},t.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var i=t,o=e,a=this.field.getZero(),s=this.field.getOne();o.getDegree()>=Math.round(n/2);){var l=i,c=a;if(a=s,(i=o).isZero())throw fM.getChecksumInstance();o=l;for(var u=this.field.getZero(),d=i.getCoefficient(i.getDegree()),h=this.field.inverse(d);o.getDegree()>=i.getDegree()&&!o.isZero();){var f=o.getDegree()-i.getDegree(),p=this.field.multiply(o.getCoefficient(o.getDegree()),h);u=u.add(this.field.buildMonomial(f,p)),o=o.subtract(i.multiplyByMonomial(f,p))}s=u.multiply(a).subtract(c).negative()}var g=s.getCoefficient(0);if(0===g)throw fM.getChecksumInstance();var m=this.field.inverse(g);return[s.multiply(m),o.multiply(m)]},t.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),n=new Int32Array(e),r=0,i=1;i<this.field.getSize()&&r<e;i++)0===t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!==e)throw fM.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(t,e,n){for(var r=e.getDegree(),i=new Int32Array(r),o=1;o<=r;o++)i[r-o]=this.field.multiply(o,e.getCoefficient(o));var a=new ZD(this.field,i),s=n.length,l=new Int32Array(s);for(o=0;o<s;o++){var c=this.field.inverse(n[o]),u=this.field.subtract(0,t.evaluateAt(c)),d=this.field.inverse(a.evaluateAt(c));l[o]=this.field.multiply(u,d)}return l},t}(),nN=function(){function t(e,n,r,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}return t.prototype.constructor_1=function(t,e,n,r,i){var o=null==e||null==n,a=null==r||null==i;if(o&&a)throw new LM;o?(e=new mP(0,r.getY()),n=new mP(0,i.getY())):a&&(r=new mP(t.getWidth()-1,e.getY()),i=new mP(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=e,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(e.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(e.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},t.merge=function(e,n){return null==e?n:null==n?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var l=r?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var u=new mP(l.getX(),c);r?i=u:a=u}if(n>0){var d=r?this.bottomLeft:this.bottomRight,h=Math.trunc(d.getY()+n);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var f=new mP(d.getX(),h);r?o=f:s=f}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),rN=function(){function t(t,e,n,r){this.columnCount=t,this.errorCorrectionLevel=r,this.rowCountUpperPart=e,this.rowCountLowerPart=n,this.rowCount=e+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),iN=function(){function t(){this.buffer=""}return t.form=function(t,e){var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,r,i,o,a,s){if("%%"===t)return"%";if(void 0!==e[++n]){t=o?parseInt(o.substr(1)):void 0;var l,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":l=e[n];break;case"c":l=e[n][0];break;case"f":l=parseFloat(e[n]).toFixed(t);break;case"p":l=parseFloat(e[n]).toPrecision(t);break;case"e":l=parseFloat(e[n]).toExponential(t);break;case"x":l=parseInt(e[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(e[n],c||10).toPrecision(t)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);for(var u=parseInt(i),d=i&&i[0]+""=="0"?"0":" ";l.length<u;)l=void 0!==r?l+d:d+l;return l}}))},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t}(),oN=function(){function t(t){this.boundingBox=new nN(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(null!=n)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&null!=(n=this.codewords[i]))return n;if((i=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(n=this.codewords[i]))return n}return null},t.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},t.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},t.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var t,e,n=new iN,r=0;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),o=i.next();!o.done;o=i.next()){var a=o.value;null!=a?n.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue()):n.format("%3d:    |   %n",r++)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),aN=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},sN=function(){function t(){this.values=new Map}return t.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)},t.prototype.getValue=function(){var t,e,n=-1,r=new Array,i=function(t,e){var i=function(){return t},o=function(){return e};o()>n?(n=o(),(r=[]).push(i())):o()===n&&r.push(i())};try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),a=o.next();!a.done;a=o.next()){var s=aN(a.value,2);i(s[0],s[1])}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return XD.toIntArray(r)},t.prototype.getConfidence=function(t){return this.values.get(t)},t}(),lN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cN=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uN=function(t){function e(e,n){var r=t.call(this,e)||this;return r._isLeft=n,r}return lN(e,t),e.prototype.setRowNumbers=function(){var t,e;try{for(var n=cN(this.getCodewords()),r=n.next();!r.done;r=n.next()){var i=r.value;null!=i&&i.setRowNumberAsRowIndicatorColumn()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,l=1,c=0,u=o;u<a;u++)if(null!=e[u]){var d=e[u],h=d.getRowNumber()-s;if(0===h)c++;else if(1===h)l=Math.max(l,c),c=1,s=d.getRowNumber();else if(h<0||d.getRowNumber()>=t.getRowCount()||h>u)e[u]=null;else{for(var f,p=(f=l>2?(l-2)*h:h)>=u,g=1;g<=f&&!p;g++)p=null!=e[u-g];p?e[u]=null:(s=d.getRowNumber(),c=1)}}},e.prototype.getRowHeights=function(){var t,e,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var r=new Int32Array(n.getRowCount());try{for(var i=cN(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;if(null!=a){var s=a.getRowNumber();if(s>=r.length)continue;r[s]++}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var e=this.getBoundingBox(),n=this._isLeft?e.getTopLeft():e.getTopRight(),r=this._isLeft?e.getBottomLeft():e.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1,l=i;l<o;l++)if(null!=a[l]){var c=a[l];c.setRowNumberAsRowIndicatorColumn();var u=c.getRowNumber()-s;0===u||(1===u?s=c.getRowNumber():c.getRowNumber()>=t.getRowCount()?a[l]=null:s=c.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,e,n=this.getCodewords(),r=new sN,i=new sN,o=new sN,a=new sN;try{for(var s=cN(n),l=s.next();!l.done;l=s.next()){var c=l.value;if(null!=c){c.setRowNumberAsRowIndicatorColumn();var u=c.getValue()%30,d=c.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:i.setValue(3*u+1);break;case 1:a.setValue(u/3),o.setValue(u%3);break;case 2:r.setValue(u+1)}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}if(0===r.getValue().length||0===i.getValue().length||0===o.getValue().length||0===a.getValue().length||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<XD.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>XD.MAX_ROWS_IN_BARCODE)return null;var h=new rN(r.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(n,h),h},e.prototype.removeIncorrectCodewords=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(null!=t[n]){var i=r.getValue()%30,o=r.getRowNumber();if(o>e.getRowCount())t[n]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==e.getRowCountUpperPart()&&(t[n]=null);break;case 1:Math.trunc(i/3)===e.getErrorCorrectionLevel()&&i%3===e.getRowCountLowerPart()||(t[n]=null);break;case 2:i+1!==e.getColumnCount()&&(t[n]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+t.prototype.toString.call(this)},e}(oN),dN=function(){function t(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t,e=XD.MAX_CODEWORDS_IN_BARCODE;do{t=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<t);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var n=this.detectionResultColumns[e].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(e,r,n));return t},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(null!=t[n]&&null!=e[n]&&t[n].getRowNumber()===e[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var i=this.detectionResultColumns[r].getCodewords()[n];null!=i&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}},t.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(t,e,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),e=0):++e),e},t.prototype.adjustRowNumbers=function(e,n,r){var i,o,a=r[n],s=this.detectionResultColumns[e-1].getCodewords(),l=s;null!=this.detectionResultColumns[e+1]&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[n],c[3]=l[n],n>0&&(c[0]=r[n-1],c[4]=s[n-1],c[5]=l[n-1]),n>1&&(c[8]=r[n-2],c[10]=s[n-2],c[11]=l[n-2]),n<r.length-1&&(c[1]=r[n+1],c[6]=s[n+1],c[7]=l[n+1]),n<r.length-2&&(c[9]=r[n+2],c[12]=s[n+2],c[13]=l[n+2]);try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),d=u.next();!d.done;d=u.next()){var h=d.value;if(t.adjustRowNumber(a,h))return}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},t.adjustRowNumber=function(t,e){return null!=e&&!(!e.hasValidRowNumber()||e.getBucket()!==t.getBucket())&&(t.setRowNumber(e.getRowNumber()),!0)},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(t){this.boundingBox=t},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},t.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},t.prototype.toString=function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new iN,n=0;n<t.getCodewords().length;n++){e.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var i=this.detectionResultColumns[r].getCodewords()[n];null!=i?e.format(" %3d|%3d",i.getRowNumber(),i.getValue()):e.format("    |   ")}else e.format("    |   ");e.format("%n")}return e.toString()},t}(),hN=function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(t){this.rowNumber=t},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),fN=function(){function t(){}return t.initialize=function(){for(var e=0;e<XD.SYMBOL_TABLE.length;e++)for(var n=XD.SYMBOL_TABLE[e],r=1&n,i=0;i<XD.BARS_IN_MODULE;i++){for(var o=0;(1&n)===r;)o+=1,n>>=1;r=1&n,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(XD.BARS_IN_MODULE)),t.RATIOS_TABLE[e][XD.BARS_IN_MODULE-i-1]=Math.fround(o/XD.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return-1!==n?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(t){for(var e=pP.sum(t),n=new Int32Array(XD.BARS_IN_MODULE),r=0,i=0,o=0;o<XD.MODULES_IN_CODEWORD;o++){var a=e/(2*XD.MODULES_IN_CODEWORD)+o*e/XD.MODULES_IN_CODEWORD;i+t[r]<=a&&(i+=t[r],r++),n[r]++}return n},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return-1===XD.getCodeword(n)?-1:n},t.getBitValue=function(t){for(var e=0,n=0;n<t.length;n++)for(var r=0;r<t[n];r++)e=e<<1|(n%2==0?1:0);return Math.trunc(e)},t.getClosestDecodedValue=function(e){var n=pP.sum(e),r=new Array(XD.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var o=gP.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],u=0;u<XD.BARS_IN_MODULE;u++){var d=Math.fround(c[u]-r[u]);if((l+=Math.fround(d*d))>=o)break}l<o&&(o=l,a=XD.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(XD.SYMBOL_TABLE.length).map((function(t){return new Array(XD.BARS_IN_MODULE)})),t}(),pN=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(t){this.segmentIndex=t},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(t){this.fileId=t},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(t){this.optionalData=t},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(t){this.lastSegment=t},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(t){this.segmentCount=t},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(t){this.sender=t},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(t){this.addressee=t},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(t){this.fileName=t},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(t){this.fileSize=t},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(t){this.checksum=t},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(t){this.timestamp=t},t}(),gN=function(){function t(){}return t.parseLong=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t}(),mN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mN(e,t),e.kind="NullPointerException",e}(aM),yN=function(){function t(){}return t.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},t.prototype.writeBytesOffset=function(t,e,n){if(null==t)throw new vN;if(e<0||e>t.length||n<0||e+n>t.length||e+n<0)throw new vM;if(0!==n)for(var r=0;r<n;r++)this.write(t[e+r])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),bN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bN(e,t),e}(aM),_N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AN=function(t){function e(e){void 0===e&&(e=32);var n=t.call(this)||this;if(n.count=0,e<0)throw new uM("Negative initial size: "+e);return n.buf=new Uint8Array(e),n}return _N(e,t),e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var e=this.buf.length<<1;if(e-t<0&&(e=t),e<0){if(t<0)throw new wN;e=_M.MAX_VALUE}this.buf=wM.copyOfUint8Array(this.buf,e)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,e,n){if(e<0||e>t.length||n<0||e+n-t.length>0)throw new vM;this.ensureCapacity(this.count+n),gM.arraycopy(t,e,this.buf,this.count,n),this.count+=n},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return wM.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?"string"==typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(yN);function SN(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof __webpack_require__.g)return __webpack_require__.g.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function EN(t){if(void 0===MD&&(MD=SN()),null===MD)throw new Error("BigInt is not supported!");return MD(t)}!function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(RD||(RD={}));var CN=function(){function t(){}return t.decode=function(e,n){var r=new OM(""),i=IM.ISO8859_1;r.enableDecoding(i);for(var o=1,a=e[o++],s=new pN;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,r);break;case t.ECI_CHARSET:IM.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new xM;default:o--,o=t.textCompaction(e,o,r)}if(!(o<e.length))throw xM.getFormatInstance();a=e[o++]}if(0===r.length())throw xM.getFormatInstance();var l=new eP(null,r.toString(),null,n);return l.setOther(s),l},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw xM.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)i[o]=e[n];r.setSegmentIndex(_M.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new OM;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new OM;n=t.textCompaction(e,n+1,l),r.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new OM;n=t.textCompaction(e,n+1,c),r.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new OM;n=t.textCompaction(e,n+1,u),r.setAddressee(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new OM;n=t.numericCompaction(e,n+1,d),r.setSegmentCount(_M.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new OM;n=t.numericCompaction(e,n+1,h),r.setTimestamp(gN.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var f=new OM;n=t.numericCompaction(e,n+1,f),r.setChecksum(_M.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new OM;n=t.numericCompaction(e,n+1,p),r.setFileSize(gN.parseLong(p.toString()));break;default:throw xM.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw xM.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(wM.copyOfRange(e,s,s+g))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array(2*(e[0]-n)),o=new Int32Array(2*(e[0]-n)),a=0,s=!1;n<e[0]&&!s;){var l=e[n++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[a]=l/30,i[a+1]=l%30,a+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[n++],o[a]=l,a++}}return t.decodeTextCompaction(i,o,a,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var o=RD.ALPHA,a=RD.ALPHA,s=0;s<r;){var l=e[s],c="";switch(o){case RD.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:o=RD.LOWER;break;case t.ML:o=RD.MIXED;break;case t.PS:a=o,o=RD.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=RD.ALPHA}break;case RD.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:a=o,o=RD.ALPHA_SHIFT;break;case t.ML:o=RD.MIXED;break;case t.PS:a=o,o=RD.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=RD.ALPHA}break;case RD.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:o=RD.PUNCT;break;case 26:c=" ";break;case t.LL:o=RD.LOWER;break;case t.AL:o=RD.ALPHA;break;case t.PS:a=o,o=RD.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=RD.ALPHA}break;case RD.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=RD.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=RD.ALPHA}break;case RD.ALPHA_SHIFT:if(o=a,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=RD.ALPHA}break;case RD.PUNCT_SHIFT:if(o=a,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=RD.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=RD.ALPHA}}""!==c&&i.append(c),s++}},t.byteCompaction=function(e,n,r,i,o){var a=new AN,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),d=n[i++];i<n[0]&&!c;)switch(u[s++]=d,l=900*l+d,d=n[i++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5==0&&s>0){for(var h=0;h<6;++h)a.write(Number(EN(l)>>EN(8*(5-h))));l=0,s=0}}i===n[0]&&d<t.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=d);for(var f=0;f<s;f++)a.write(u[f]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!c;){var p=n[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0}if(s%5==0&&s>0){for(h=0;h<6;++h)a.write(Number(EN(l)>>EN(8*(5-h))));l=0,s=0}}}return o.append(MM.decode(a.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!o;){var s=e[n++];if(n===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,o=!0}(i%t.MAX_NUMERIC_CODEWORDS==0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(t.decodeBase900toBase10(a,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=EN(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*EN(e[i]);var o=r.toString();if("1"!==o.charAt(0))throw new xM;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",t.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",t.EXP900=SN()?function(){var t=[];t[0]=EN(1);var e=EN(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),xN=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TN=function(){function t(){}return t.decode=function(e,n,r,i,o,a,s){for(var l,c=new nN(e,n,r,i,o),u=null,d=null,h=!0;;h=!1){if(null!=n&&(u=t.getRowIndicatorColumn(e,c,n,!0,a,s)),null!=i&&(d=t.getRowIndicatorColumn(e,c,i,!1,a,s)),null==(l=t.merge(u,d)))throw LM.getNotFoundInstance();var f=l.getBoundingBox();if(!h||null==f||!(f.getMinY()<c.getMinY()||f.getMaxY()>c.getMaxY()))break;c=f}l.setBoundingBox(c);var p=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,u),l.setDetectionResultColumn(p,d);for(var g=null!=u,m=1;m<=p;m++){var v=g?m:p-m;if(void 0===l.getDetectionResultColumn(v)){var y=void 0;y=0===v||v===p?new uN(c,0===v):new oN(c),l.setDetectionResultColumn(v,y);for(var b=-1,w=b,_=c.getMinY();_<=c.getMaxY();_++){if((b=t.getStartColumn(l,v,_,g))<0||b>c.getMaxX()){if(-1===w)continue;b=w}var A=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,b,_,a,s);null!=A&&(y.setCodeword(_,A),w=b,a=Math.min(a,A.getWidth()),s=Math.max(s,A.getWidth()))}}}return t.createDecoderResult(l)},t.merge=function(e,n){if(null==e&&null==n)return null;var r=t.getBarcodeMetadata(e,n);if(null==r)return null;var i=nN.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new dN(r,i)},t.adjustBoundingBox=function(e){var n,r;if(null==e)return null;var i=e.getRowHeights();if(null==i)return null;var o=t.getMax(i),a=0;try{for(var s=xN(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(a+=o-c,c>0)break}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var u=e.getCodewords(),d=0;a>0&&null==u[d];d++)a--;var h=0;for(d=i.length-1;d>=0&&(h+=o-i[d],!(i[d]>0));d--);for(d=u.length-1;h>0&&null==u[d];d--)h--;return e.getBoundingBox().addMissingRows(a,h,e.isLeft())},t.getMax=function(t){var e,n,r=-1;try{for(var i=xN(t),o=i.next();!o.done;o=i.next()){var a=o.value;r=Math.max(r,a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.getBarcodeMetadata=function(t,e){var n,r;return null==t||null==(n=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(r=e.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,n,r,i,o,a){for(var s=new uN(n,i),l=0;l<2;l++)for(var c=0===l?1:-1,u=Math.trunc(Math.trunc(r.getX())),d=Math.trunc(Math.trunc(r.getY()));d<=n.getMaxY()&&d>=n.getMinY();d+=c){var h=t.detectCodeword(e,0,e.getWidth(),i,u,d,o,a);null!=h&&(s.setCodeword(d,h),u=i?h.getStartX():h.getEndX())}return s},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>XD.MAX_CODEWORDS_IN_BARCODE)throw LM.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=n[s][l+1].getValue(),u=s*e.getBarcodeColumnCount()+l;0===c.length?r.push(u):1===c.length?i[u]=c[0]:(a.push(u),o.push(c))}for(var d=new Array(o.length),h=0;h<d.length;h++)d[h]=o[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,XD.toIntArray(r),XD.toIntArray(a),d)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<a.length;l++)n[i[l]]=o[l][a[l]];try{return t.decodeCodewords(n,e,r)}catch(t){if(!(t instanceof fM))throw t}if(0===a.length)throw fM.getChecksumInstance();for(l=0;l<a.length;l++){if(a[l]<o[l].length-1){a[l]++;break}if(a[l]=0,l===a.length-1)throw fM.getChecksumInstance()}}throw fM.getChecksumInstance()},t.createBarcodeMatrix=function(t){for(var e,n,r,i,o=Array.from({length:t.getBarcodeRowCount()},(function(){return new Array(t.getBarcodeColumnCount()+2)})),a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)o[a][s]=new sN;var l=0;try{for(var c=xN(t.getDetectionResultColumns()),u=c.next();!u.done;u=c.next()){var d=u.value;if(null!=d)try{for(var h=(r=void 0,xN(d.getCodewords())),f=h.next();!f.done;f=h.next()){var p=f.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][l].setValue(p.getValue())}}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}l++}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return o},t.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var o,a,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,n-s)&&(l=e.getDetectionResultColumn(n-s).getCodeword(r)),null!=l)return i?l.getEndX():l.getStartX();if(null!=(l=e.getDetectionResultColumn(n).getCodewordNearby(r)))return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,n-s)&&(l=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=l)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,n-s);){n-=s;try{for(var u=(o=void 0,xN(e.getDetectionResultColumn(n).getCodewords())),d=u.next();!d.done;d=u.next()){var h=d.value;if(null!=h)return(i?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX())}}catch(t){o={error:t}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,o,a,s,l){o=t.adjustCodewordStartColumn(e,n,r,i,o,a);var c,u=t.getModuleBitCount(e,n,r,i,o,a);if(null==u)return null;var d=pP.sum(u);if(i)c=o+d;else{for(var h=0;h<u.length/2;h++){var f=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=f}o=(c=o)-d}if(!t.checkCodewordSkew(d,s,l))return null;var p=fN.getDecodedValue(u),g=XD.getCodeword(p);return-1===g?null:new hN(o,c,t.getCodewordBucketNumber(p),g)},t.getModuleBitCount=function(t,e,n,r,i,o){for(var a=i,s=new Int32Array(8),l=0,c=r?1:-1,u=r;(r?a<n:a>=e)&&l<s.length;)t.get(a,o)===u?(s[l]++,a+=c):(l++,u=!u);return l===s.length||a===(r?n:e)&&l===s.length-1?s:null},t.getNumberOfECCodeWords=function(t){return 2<<t},t.adjustCodewordStartColumn=function(e,n,r,i,o,a){for(var s=o,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=n:s<r)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(0===e.length)throw xM.getFormatInstance();var i=1<<n+1,o=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var a=CN.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a},t.correctErrors=function(e,n,r){if(null!=n&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw fM.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(t,e){if(t.length<4)throw xM.getFormatInstance();var n=t[0];if(n>t.length)throw xM.getFormatInstance();if(0===n){if(!(e<t.length))throw xM.getFormatInstance();t[0]=t.length-e}},t.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),n=0,r=e.length-1;!((1&t)!==n&&(n=1&t,--r<0));)e[r]++,t>>=1;return e},t.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},t.toString=function(t){for(var e=new iN,n=0;n<t.length;n++){e.format("Row %2d: ",n);for(var r=0;r<t[n].length;r++){var i=t[n][r];0===i.getValue().length?e.format("        ",null):e.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}e.format("%n")}return e.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new eN,t}(),IN=function(){function t(){}return t.prototype.decode=function(e,n){void 0===n&&(n=null);var r=t.decode(e,n,!1);if(null==r||0===r.length||null==r[0])throw LM.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){void 0===n&&(n=null);try{return t.decode(e,n,!0)}catch(t){if(t instanceof xM||t instanceof fM)throw LM.getNotFoundInstance();throw t}},t.decode=function(e,n,r){var i,o,a=new Array,s=KD.detectMultiple(e,n,r);try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,d=TN.decode(s.getBits(),u[4],u[5],u[6],u[7],t.getMinCodewordWidth(u),t.getMaxCodewordWidth(u)),h=new KM(d.getText(),d.getRawBytes(),void 0,u,QM.PDF_417);h.putMetadata(tP.ERROR_CORRECTION_LEVEL,d.getECLevel());var f=d.getOther();null!=f&&h.putMetadata(tP.PDF417_EXTRA_METADATA,f),a.push(h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a.map((function(t){return t}))},t.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMinWidth=function(t,e){return null==t||null==e?_M.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*XD.MODULES_IN_CODEWORD/XD.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*XD.MODULES_IN_CODEWORD/XD.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*XD.MODULES_IN_CODEWORD/XD.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*XD.MODULES_IN_CODEWORD/XD.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),kN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kN(e,t),e.kind="ReaderException",e}(aM),MN=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PN=function(){function t(){}return t.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},t.prototype.decodeWithState=function(t){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(t)},t.prototype.setHints=function(t){this.hints=t;var e=null!=t&&void 0!==t.get(EM.TRY_HARDER),n=null==t?null:t.get(EM.POSSIBLE_FORMATS),r=new Array;if(null!=n){var i=n.some((function(t){return t===QM.UPC_A||t===QM.UPC_E||t===QM.EAN_13||t===QM.EAN_8||t===QM.CODABAR||t===QM.CODE_39||t===QM.CODE_93||t===QM.CODE_128||t===QM.ITF||t===QM.RSS_14||t===QM.RSS_EXPANDED}));i&&!e&&r.push(new nD(t)),n.includes(QM.QR_CODE)&&r.push(new GD),n.includes(QM.DATA_MATRIX)&&r.push(new vD),n.includes(QM.AZTEC)&&r.push(new IP),n.includes(QM.PDF_417)&&r.push(new IN),i&&e&&r.push(new nD(t))}0===r.length&&(e||r.push(new nD(t)),r.push(new GD),r.push(new vD),r.push(new IP),r.push(new IN),e&&r.push(new nD(t))),this.readers=r},t.prototype.reset=function(){var t,e;if(null!==this.readers)try{for(var n=MN(this.readers),r=n.next();!r.done;r=n.next())r.value.reset()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.decodeInternal=function(t){var e,n;if(null===this.readers)throw new RN("No readers where selected, nothing can be read.");try{for(var r=MN(this.readers),i=r.next();!i.done;i=r.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(t){if(t instanceof RN)continue}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}throw new LM("No MultiFormat Readers were able to detect the code.")},t}(),ON=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=500);var r=new PN;return r.setHints(e),t.call(this,r,n)||this}ON(e,t),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)}}(YM);var DN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){DN((function(e){return void 0===e&&(e=500),t.call(this,new IN,e)||this}),t)}(YM);var NN,LN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){LN((function(e){return void 0===e&&(e=500),t.call(this,new GD,e)||this}),t)}(YM),function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"}(NN||(NN={}));var FN=NN,BN=function(){function t(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new rP(t,Int32Array.from([1])))}return t.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var n=e[e.length-1],r=this.field,i=e.length;i<=t;i++){var o=n.multiply(new rP(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));e.push(o),n=o}return e[t]},t.prototype.encode=function(t,e){if(0===e)throw new uM("No error correction bytes");var n=t.length-e;if(n<=0)throw new uM("No data bytes provided");var r=this.buildGenerator(e),i=new Int32Array(n);gM.arraycopy(t,0,i,0,n);for(var o=new rP(this.field,i),a=(o=o.multiplyByMonomial(e,1)).divide(r)[1].getCoefficients(),s=e-a.length,l=0;l<s;l++)t[n+l]=0;gM.arraycopy(a,0,t,n+s,a.length)},t}(),jN=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=r[a],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===r[a+1][l]&&c===r[a+1][l+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var l=r[a];s+6<i&&1===l[s]&&0===l[s+1]&&1===l[s+2]&&1===l[s+3]&&1===l[s+4]&&0===l[s+5]&&1===l[s+6]&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&n++,a+6<o&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(t,e,n){e=Math.max(e,0),n=Math.min(n,t.length);for(var r=e;r<n;r++)if(1===t[r])return!1;return!0},t.isWhiteVertical=function(t,e,n,r){n=Math.max(n,0),r=Math.min(r,t.length);for(var i=n;i<r;i++)if(1===t[i][e])return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=r[a],l=0;l<i;l++)1===s[l]&&n++;var c=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-c)/c)*t.N4},t.getDataMaskBit=function(t,e,n){var r,i;switch(t){case 0:r=n+e&1;break;case 1:r=1&n;break;case 2:r=e%3;break;case 3:r=(n+e)%3;break;case 4:r=Math.floor(n/2)+Math.floor(e/3)&1;break;case 5:r=(1&(i=n*e))+i%3;break;case 6:r=(1&(i=n*e))+i%3&1;break;case 7:r=(i=n*e)%3+(n+e&1)&1;break;default:throw new uM("Invalid mask pattern: "+t)}return 0===r},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,u=0;u<o;u++){var d=n?a[s][u]:a[u][s];d===c?l++:(l>=5&&(r+=t.N1+(l-5)),l=1,c=d)}l>=5&&(r+=t.N1+(l-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),zN=function(){function t(t,e){this.width=t,this.height=e;for(var n=new Array(e),r=0;r!==e;r++)n[r]=new Uint8Array(t);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(t,e){return this.bytes[e][t]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(t,e,n){this.bytes[e][t]=n},t.prototype.setBoolean=function(t,e,n){this.bytes[e][t]=n?1:0},t.prototype.clear=function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),i=r.next();!i.done;i=r.next()){var o=i.value;wM.fill(o,t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],a=n.bytes[r],s=0,l=this.width;s<l;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var t=new OM,e=0,n=this.height;e<n;++e){for(var r=this.bytes[e],i=0,o=this.width;i<o;++i)switch(r[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()},t}(),VN=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var t=new OM;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()},t.prototype.setMode=function(t){this.mode=t},t.prototype.setECLevel=function(t){this.ecLevel=t},t.prototype.setVersion=function(t){this.version=t},t.prototype.setMaskPattern=function(t){this.maskPattern=t},t.prototype.setMatrix=function(t){this.matrix=t},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),HN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return HN(e,t),e.kind="WriterException",e}(aM),WN=function(){function t(){}return t.clearMatrix=function(t){t.clear(255)},t.buildMatrix=function(e,n,r,i,o){t.clearMatrix(o),t.embedBasicPatterns(r,o),t.embedTypeInfo(n,i,o),t.maybeEmbedVersionInfo(r,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new AM;t.makeTypeInfoBits(e,n,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],c=l[0],u=l[1];if(r.setBoolean(c,u,s),o<8){var d=r.getWidth()-o-1,h=8;r.setBoolean(d,h,s)}else d=8,h=r.getHeight()-7+(o-8),r.setBoolean(d,h,s)}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new AM;t.makeVersionInfoBits(e,r);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,n,r){for(var i=0,o=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var l=0;l<2;++l){var c=a-l;if(t.isEmpty(r.get(c,s))){var u=void 0;i<e.getSize()?(u=e.get(i),++i):u=!1,255!==n&&jN.getDataMaskBit(n,c,s)&&(u=!u),r.setBoolean(c,s,u)}}s+=o}s+=o=-o,a-=2}if(i!==e.getSize())throw new UN("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(t){return 32-_M.numberOfLeadingZeros(t)},t.calculateBCHCode=function(e,n){if(0===n)throw new uM("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!VN.isValidMaskPattern(n))throw new UN("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(o,10);var a=new AM;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new UN("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new UN("should not happen but we got: "+n.getSize())},t.isEmpty=function(t){return 255===t},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(t){if(0===t.get(8,t.getHeight()-8))throw new UN;t.setNumber(8,t.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new UN;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new UN;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)r.setNumber(e+a,n+i,o[a])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)r.setNumber(e+a,n+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e),t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var l=0;l!==a;l++){var c=i[l];c>=0&&t.isEmpty(n.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),$N=function(){function t(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),GN=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(){function t(){}t.calculateMaskPenalty=function(t){return jN.applyMaskPenaltyRule1(t)+jN.applyMaskPenaltyRule2(t)+jN.applyMaskPenaltyRule3(t)+jN.applyMaskPenaltyRule4(t)},t.encode=function(e,n,r){void 0===r&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(FN.CHARACTER_SET);o&&(i=r.get(FN.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new AM;if(a===PD.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=IM.getCharacterSetECIByName(i);void 0!==l&&this.appendECI(l,s)}this.appendModeInfo(a,s);var c,u=new AM;if(this.appendBytes(e,a,u,i),null!==r&&void 0!==r.get(FN.QR_VERSION)){var d=Number.parseInt(r.get(FN.QR_VERSION).toString(),10);c=ED.getVersionForNumber(d);var h=this.calculateBitsNeeded(a,s,u,c);if(!this.willFit(h,c,n))throw new UN("Data too big for requested version")}else c=this.recommendVersion(n,a,s,u);var f=new AM;f.appendBitArray(s);var p=a===PD.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(p,c,a,f),f.appendBitArray(u);var g=c.getECBlocksForLevel(n),m=c.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(m,f);var v=this.interleaveWithECBytes(f,c.getTotalCodewords(),m,g.getNumBlocks()),y=new VN;y.setECLevel(n),y.setMode(a),y.setVersion(c);var b=c.getDimensionForVersion(),w=new zN(b,b),_=this.chooseMaskPattern(v,n,c,w);return y.setMaskPattern(_),WN.buildMatrix(v,n,c,_,w),y.setMatrix(w),y},t.recommendVersion=function(t,e,n,r){var i=this.calculateBitsNeeded(e,n,r,ED.getVersionForNumber(1)),o=this.chooseVersion(i,t),a=this.calculateBitsNeeded(e,n,r,o);return this.chooseVersion(a,t)},t.calculateBitsNeeded=function(t,e,n,r){return e.getSize()+t.getCharacterCountBits(r)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(void 0===n&&(n=null),IM.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return PD.KANJI;for(var r=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return PD.BYTE;i=!0}}return i?PD.ALPHANUMERIC:r?PD.NUMERIC:PD.BYTE},t.isOnlyDoubleByteKanji=function(t){var e;try{e=MM.encode(t,IM.SJIS)}catch(t){return!1}var n=e.length;if(n%2!=0)return!1;for(var r=0;r<n;r+=2){var i=255&e[r];if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(t,e,n,r){for(var i=Number.MAX_SAFE_INTEGER,o=-1,a=0;a<VN.NUM_MASK_PATTERNS;a++){WN.buildMatrix(t,e,n,a,r);var s=this.calculateMaskPenalty(r);s<i&&(i=s,o=a)}return o},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=ED.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new UN("Data too big")},t.willFit=function(t,e,n){return e.getTotalCodewords()-e.getECBlocksForLevel(n).getTotalECCodewords()>=(t+7)/8},t.terminateBits=function(t,e){var n=8*t;if(e.getSize()>n)throw new UN("data bits cannot fit in the QR Code"+e.getSize()+" > "+n);for(var r=0;r<4&&e.getSize()<n;++r)e.appendBit(!1);var i=7&e.getSize();if(i>0)for(r=i;r<8;r++)e.appendBit(!1);var o=t-e.getSizeInBytes();for(r=0;r<o;++r)e.appendBits(0==(1&r)?236:17,8);if(e.getSize()!==n)throw new UN("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(t,e,n,r,i,o){if(r>=n)throw new UN("Block ID too large");var a=t%n,s=n-a,l=Math.floor(t/n),c=l+1,u=Math.floor(e/n),d=u+1,h=l-u,f=c-d;if(h!==f)throw new UN("EC bytes mismatch");if(n!==s+a)throw new UN("RS blocks mismatch");if(t!==(u+h)*s+(d+f)*a)throw new UN("Total bytes mismatch");r<s?(i[0]=u,o[0]=h):(i[0]=d,o[0]=f)},t.interleaveWithECBytes=function(e,n,r,i){var o,a,s,l;if(e.getSizeInBytes()!==r)throw new UN("Number of bits and data bytes does not match");for(var c=0,u=0,d=0,h=new Array,f=0;f<i;++f){var p=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,f,p,g);var m=p[0],v=new Uint8Array(m);e.toBytes(8*c,v,0,m);var y=t.generateECBytes(v,g[0]);h.push(new $N(v,y)),u=Math.max(u,m),d=Math.max(d,y.length),c+=p[0]}if(r!==c)throw new UN("Data bytes does not match offset");var b=new AM;for(f=0;f<u;++f)try{for(var w=(o=void 0,GN(h)),_=w.next();!_.done;_=w.next())f<(v=_.value.getDataBytes()).length&&b.appendBits(v[f],8)}catch(t){o={error:t}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}for(f=0;f<d;++f)try{for(var A=(s=void 0,GN(h)),S=A.next();!S.done;S=A.next())f<(y=S.value.getErrorCorrectionBytes()).length&&b.appendBits(y[f],8)}catch(t){s={error:t}}finally{try{S&&!S.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}if(n!==b.getSizeInBytes())throw new UN("Interleaving error: "+n+" and "+b.getSizeInBytes()+" differ.");return b},t.generateECBytes=function(t,e){for(var n=t.length,r=new Int32Array(n+e),i=0;i<n;i++)r[i]=255&t[i];new BN(sP.QR_CODE_FIELD_256).encode(r,e);var o=new Uint8Array(e);for(i=0;i<e;i++)o[i]=r[n+i];return o},t.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},t.appendLengthInfo=function(t,e,n,r){var i=n.getCharacterCountBits(e);if(t>=1<<i)throw new UN(t+" is bigger than "+((1<<i)-1));r.appendBits(t,i)},t.appendBytes=function(e,n,r,i){switch(n){case PD.NUMERIC:t.appendNumericBytes(e,r);break;case PD.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case PD.BYTE:t.append8BitBytes(e,r,i);break;case PD.KANJI:t.appendKanjiBytes(e,r);break;default:throw new UN("Invalid mode: "+n)}},t.getDigit=function(t){return t.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getDigit(e.charAt(i));if(i+2<r){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));n.appendBits(100*o+10*a+s,10),i+=3}else i+1<r?(a=t.getDigit(e.charAt(i+1)),n.appendBits(10*o+a,7),i+=2):(n.appendBits(o,4),i++)}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new UN;if(i+1<r){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(-1===a)throw new UN;n.appendBits(45*o+a,11),i+=2}else n.appendBits(o,6),i++}},t.append8BitBytes=function(t,e,n){var r;try{r=MM.encode(t,n)}catch(t){throw new UN(t)}for(var i=0,o=r.length;i!==o;i++){var a=r[i];e.appendBits(a,8)}},t.appendKanjiBytes=function(t,e){var n;try{n=MM.encode(t,IM.SJIS)}catch(t){throw new UN(t)}for(var r=n.length,i=0;i<r;i+=2){var o=(255&n[i])<<8&4294967295|255&n[i+1],a=-1;if(o>=33088&&o<=40956?a=o-33088:o>=57408&&o<=60351&&(a=o-49472),-1===a)throw new UN("Invalid byte sequence");var s=192*(a>>8)+(255&a);e.appendBits(s,13)}},t.appendECI=function(t,e){e.appendBits(PD.ECI.getBits(),4),e.appendBits(t.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=IM.UTF8.getName()}();var XN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r,i,o,a,s,l){var c=t.call(this,a,s)||this;if(c.yuvData=e,c.dataWidth=n,c.dataHeight=r,c.left=i,c.top=o,i+a>n||o+s>r)throw new uM("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(a,s),c}XN(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new uM("Requested row is outside the image: "+t);var n=this.getWidth();(null==e||e.length<n)&&(e=new Uint8ClampedArray(n));var r=(t+this.top)*this.dataWidth+this.left;return gM.arraycopy(this.yuvData,r,e,0,n),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;var n=t*e,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return gM.arraycopy(this.yuvData,i,r,0,n),r;for(var o=0;o<e;o++){var a=o*t;gM.arraycopy(this.yuvData,i,r,a,t),i+=this.dataWidth}return r},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,r,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,r,i,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*n),i=this.yuvData,o=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var s=a*t,l=0;l<t;l++){var c=255&i[o+l*e.THUMBNAIL_SCALE_FACTOR];r[s+l]=4278190080|65793*c}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return r},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,e){for(var n=this.yuvData,r=0,i=this.top*this.dataWidth+this.left;r<e;r++,i+=this.dataWidth)for(var o=i+t/2,a=i,s=i+t-1;a<o;a++,s--){var l=n[a];n[a]=n[s],n[s]=l}},e.prototype.invert=function(){return new UM(this)},e.THUMBNAIL_SCALE_FACTOR=2}(VM);var qN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r,i,o,a,s){var l=t.call(this,n,r)||this;if(l.dataWidth=i,l.dataHeight=o,l.left=a,l.top=s,4===e.BYTES_PER_ELEMENT){for(var c=n*r,u=new Uint8ClampedArray(c),d=0;d<c;d++){var h=e[d],f=h>>16&255,p=h>>7&510,g=255&h;u[d]=(f+p+g)/4&255}l.luminances=u}else l.luminances=e;if(void 0===i&&(l.dataWidth=n),void 0===o&&(l.dataHeight=r),void 0===a&&(l.left=0),void 0===s&&(l.top=0),l.left+n>l.dataWidth||l.top+r>l.dataHeight)throw new uM("Crop rectangle does not fit within image data.");return l}qN(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new uM("Requested row is outside the image: "+t);var n=this.getWidth();(null==e||e.length<n)&&(e=new Uint8ClampedArray(n));var r=(t+this.top)*this.dataWidth+this.left;return gM.arraycopy(this.luminances,r,e,0,n),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;var n=t*e,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return gM.arraycopy(this.luminances,i,r,0,n),r;for(var o=0;o<e;o++){var a=o*t;gM.arraycopy(this.luminances,i,r,a,t),i+=this.dataWidth}return r},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,r,i){return new e(this.luminances,r,i,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new UM(this)}}(VM);var YN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}YN(e,t),e.forName=function(t){return this.getCharacterSetECIByName(t)}}(IM);var KN=function(){function t(t){this.previous=t}return t.prototype.getPrevious=function(){return this.previous},t}(),ZN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QN=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.value=n,i.bitCount=r,i}return ZN(e,t),e.prototype.appendTo=function(t,e){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_M.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(KN),JN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r){var i=t.call(this,e,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=r,i}JN(e,t),e.prototype.appendTo=function(t,e){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):0===n?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+n],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}(QN),new QN(null,0,0);!function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i=r.next();!i.done;i=r.next()){var o=i.value;wM.fill(o,-1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15}(wM.createInt32Array(6,6)),function(t){var e=PM.getCharCode(" "),n=PM.getCharCode("."),r=PM.getCharCode(",");t[0][e]=1;for(var i=PM.getCharCode("Z"),o=PM.getCharCode("A"),a=o;a<=i;a++)t[0][a]=a-o+2;t[1][e]=1;var s=PM.getCharCode("z"),l=PM.getCharCode("a");for(a=l;a<=s;a++)t[1][a]=a-l+2;t[2][e]=1;var c=PM.getCharCode("9"),u=PM.getCharCode("0");for(a=u;a<=c;a++)t[2][a]=a-u+2;t[2][r]=12,t[2][n]=13;for(var d=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],h=0;h<d.length;h++)t[3][PM.getCharCode(d[h])]=h;var f=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(h=0;h<f.length;h++)PM.getCharCode(f[h])>0&&(t[4][PM.getCharCode(f[h])]=h)}(wM.createInt32Array(5,256));var tL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eL=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.buffer=e.makeBufferFromCanvasImageData(n),r}return tL(e,t),e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");var r=n.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(r.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,e,n){for(var r=new Uint8ClampedArray(e*n),i=0,o=0,a=t.length;i<a;i+=4,o++){var s=void 0;s=0===t[i+3]?255:306*t[i]+601*t[i+1]+117*t[i+2]+512>>10,r[o]=s}return r},e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new uM("Requested row is outside the image: "+t);var n=this.getWidth(),r=t*n;return null===e?e=this.buffer.slice(r,r+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(r,r+n))),e},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(e,n,r,i){return t.prototype.crop.call(this,e,n,r,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new UM(this)},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var r=t*e.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(r))*i+Math.abs(Math.sin(r))*o),s=Math.ceil(Math.abs(Math.sin(r))*i+Math.abs(Math.cos(r))*o);n.width=a,n.height=s;var l=n.getContext("2d");if(!l)throw new Error("Could not create a Convas Context element.");return l.translate(a/2,s/2),l.rotate(r),l.drawImage(this.canvas,i/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(VM);function nL(){return"undefined"!=typeof navigator}var rL=function(){return rL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},rL.apply(this,arguments)},iL=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},oL=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},aL=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sL={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},lL=function(){function t(t,e,n){void 0===e&&(e=new Map),void 0===n&&(n={}),this.reader=t,this.hints=e,this.options=rL(rL({},sL),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(t){this.hints.set(EM.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),t.addVideoSource=function(t,e){try{t.srcObject=e}catch(zi){t.src=URL.createObjectURL(e)}},t.mediaStreamSetTorch=function(t,e){return iL(this,void 0,void 0,(function(){return oL(this,(function(n){switch(n.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:e?"flash":"off",torch:!!e}]})];case 1:return n.sent(),[2]}}))}))},t.mediaStreamIsTorchCompatible=function(e){var n,r,i=e.getVideoTracks();try{for(var o=aL(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(t){try{return"torch"in t.getCapabilities()}catch(t){return console.error(t),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},t.getMediaElement=function(t,e){var n=document.getElementById(t);if(!n)throw new lM("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new lM("element with id '"+t+"' must be an "+e+" element");return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return t.getMediaElement(e,"video");if(!e&&"undefined"!=typeof document){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return t.getMediaElement(e,"img");if(void 0===e){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.createBinaryBitmapFromCanvas=function(t){var e=new eL(t),n=new zM(e);return new dM(n)},t.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},t.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimentions!")},t.createCaptureCanvas=function(e){if(!e)throw new lM("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),i=r.width,o=r.height;return n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n},t.tryPlayVideo=function(e){return iL(this,void 0,void 0,(function(){var n;return oL(this,(function(r){switch(r.label){case 0:if(null==e?void 0:e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}}))}))},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},t.listVideoInputDevices=function(){return iL(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,l,c,u,d;return oL(this,(function(h){switch(h.label){case 0:if(!nL())throw new Error("Can't enumerate devices, navigator is not present.");if(!(nL()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices))throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=h.sent(),e=[];try{for(n=aL(t),r=n.next();!r.done;r=n.next())i=r.value,"videoinput"===(o="video"===i.kind?"videoinput":i.kind)&&(a=i.deviceId||i.id,s=i.label||"Video device "+(e.length+1),l=i.groupId,c={deviceId:a,label:s,kind:o,groupId:l},e.push(c))}catch(t){u={error:t}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(u)throw u.error}}return[2,e]}}))}))},t.findDeviceById=function(e){return iL(this,void 0,void 0,(function(){var n;return oL(this,(function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return(n=r.sent())?[2,n.find((function(t){return t.deviceId===e}))]:[2]}}))}))},t.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch(AL){t.src=""}t&&t.removeAttribute("src")}},t.playVideoOnLoadAsync=function(e,n){return iL(this,void 0,void 0,(function(){return oL(this,(function(r){switch(r.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return r.sent()?[2,!0]:[2,new Promise((function(r,i){var o=setTimeout((function(){t.isVideoPlaying(e)||(i(!1),e.removeEventListener("canplay",a))}),n),a=function(){t.tryPlayVideo(e).then((function(t){clearTimeout(o),e.removeEventListener("canplay",a),r(t)}))};e.addEventListener("canplay",a)}))]}}))}))},t.attachStreamToVideo=function(e,n,r){return void 0===r&&(r=5e3),iL(this,void 0,void 0,(function(){var i;return oL(this,(function(o){switch(o.label){case 0:return i=t.prepareVideoElement(n),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,r)];case 1:return o.sent(),[2,i]}}))}))},t._waitImageLoad=function(e){return new Promise((function(n,r){var i=setTimeout((function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),r())}),1e4),o=function(){clearTimeout(i),e.removeEventListener("load",o),n()};e.addEventListener("load",o)}))},t.checkCallbackFnOrThrow=function(t){if(!t)throw new lM("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(t){t.getVideoTracks().forEach((function(t){return t.stop()})),t=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return iL(this,void 0,void 0,(function(){var n;return oL(this,(function(r){switch(r.label){case 0:if(!e)throw new lM("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeFromImageUrl=function(e){return iL(this,void 0,void 0,(function(){var n;return oL(this,(function(r){switch(r.label){case 0:if(!e)throw new lM("An URL must be provided.");(n=t.prepareImageElement()).src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,r.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}}))}))},t.prototype.decodeFromConstraints=function(e,n,r){return iL(this,void 0,void 0,(function(){var i,o;return oL(this,(function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),[4,navigator.mediaDevices.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,r)];case 3:return[2,a.sent()];case 4:throw o=a.sent(),t.disposeMediaStream(i),o;case 5:return[2]}}))}))},t.prototype.decodeFromStream=function(e,n,r){return iL(this,void 0,void 0,(function(){var i,o,a,s,l,c,u,d,h,f,p=this;return oL(this,(function(g){switch(g.label){case 0:return t.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,n,i)];case 1:return o=g.sent(),a=function(){var t,n;try{for(var r=aL(e.getVideoTracks()),i=r.next();!i.done;i=r.next())i.value.stop()}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e=void 0},s=function(){a(),t.cleanVideoSource(o)},l=this.scan(o,r,s),c=e.getVideoTracks(),u=rL(rL({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(t,e){return iL(this,void 0,void 0,(function(){var n,r,i,o,a,s;return oL(this,(function(l){switch(l.label){case 0:n=e?c.filter(e):c,l.label=1;case 1:l.trys.push([1,6,7,8]),r=aL(n),i=r.next(),l.label=2;case 2:return i.done?[3,5]:[4,i.value.applyConstraints(t)];case 3:l.sent(),l.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return o=l.sent(),a={error:o},[3,8];case 7:try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))}))},streamVideoConstraintsGet:function(t){return c.find(t).getConstraints()},streamVideoSettingsGet:function(t){return c.find(t).getSettings()},streamVideoCapabilitiesGet:function(t){return c.find(t).getCapabilities()}}),t.mediaStreamIsTorchCompatible(e)&&(d=null==c?void 0:c.find((function(e){return t.mediaStreamIsTorchCompatibleTrack(e)})),h=function(e){return iL(p,void 0,void 0,(function(){return oL(this,(function(n){switch(n.label){case 0:return[4,t.mediaStreamSetTorch(d,e)];case 1:return n.sent(),[2]}}))}))},u.switchTorch=h,f=function(){l.stop(),h(!1)},u.stop=f),[2,u]}}))}))},t.prototype.decodeFromVideoDevice=function(e,n,r){return iL(this,void 0,void 0,(function(){var i;return oL(this,(function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(r),i={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(i,n,r)];case 1:return[2,o.sent()]}}))}))},t.prototype.decodeFromVideoElement=function(e,n){return iL(this,void 0,void 0,(function(){var r,i;return oL(this,(function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new lM("A video element must be provided.");return r=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,i)];case 1:return o.sent(),[2,this.scan(r,n)]}}))}))},t.prototype.decodeFromVideoUrl=function(e,n){return iL(this,void 0,void 0,(function(){var r,i,o;return oL(this,(function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new lM("An URL must be provided.");return(r=t.prepareVideoElement()).src=e,i=function(){t.cleanVideoSource(r)},o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,o)];case 1:return a.sent(),[2,this.scan(r,n,i)]}}))}))},t.prototype.decodeOnceFromConstraints=function(t,e){return iL(this,void 0,void 0,(function(){var n;return oL(this,(function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,e)];case 2:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromStream=function(e,n){return iL(this,void 0,void 0,(function(){var r,i;return oL(this,(function(o){switch(o.label){case 0:return r=Boolean(n),[4,t.attachStreamToVideo(e,n)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,o.sent()];case 4:return r||t.cleanVideoSource(i),[7];case 5:return[2]}}))}))},t.prototype.decodeOnceFromVideoDevice=function(t,e){return iL(this,void 0,void 0,(function(){var n;return oL(this,(function(r){switch(r.label){case 0:return n={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromVideoElement=function(e){return iL(this,void 0,void 0,(function(){var n,r;return oL(this,(function(i){switch(i.label){case 0:if(!e)throw new lM("A video element must be provided.");return n=t.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,r)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}}))}))},t.prototype.decodeOnceFromVideoUrl=function(e){return iL(this,void 0,void 0,(function(){var n,r;return oL(this,(function(i){switch(i.label){case 0:if(!e)throw new lM("An URL must be provided.");(n=t.prepareVideoElement()).src=e,r=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}}))}))},t.prototype.scanOneResult=function(t,e,n,r){var i=this;return void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),new Promise((function(o,a){i.scan(t,(function(t,i,s){if(t)return o(t),void s.stop();if(i){if(i instanceof LM&&e)return;if(i instanceof fM&&n)return;if(i instanceof xM&&r)return;s.stop(),a(i)}}))}))},t.prototype.scan=function(e,n,r){var i=this;t.checkCallbackFnOrThrow(n);var o=t.createCaptureCanvas(e),a=o.getContext("2d");if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s,l=function(){a=void 0,o=void 0},c=!1,u={stop:function(){c=!0,clearTimeout(s),l(),r&&r()}},d=function(){if(!c)try{t.drawImageOnCanvas(a,e);var h=i.decodeFromCanvas(o);n(h,void 0,u),s=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(t){if(n(void 0,t,u),t instanceof fM||t instanceof xM||t instanceof LM)return void(s=setTimeout(d,i.options.delayBetweenScanAttempts));l(),r&&r(t)}};return d(),u},t.prototype._decodeOnLoadImage=function(e){return iL(this,void 0,void 0,(function(){return oL(this,(function(n){switch(n.label){case 0:return t.isImageLoaded(e)?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}}))}))},t}(),cL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){cL((function(e,n){return t.call(this,new IP,e,n)||this}),t)}(lL);var uL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){uL((function(e,n){return t.call(this,new nD(e),e,n)||this}),t)}(lL);var dL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){dL((function(e,n){return t.call(this,new vD,e,n)||this}),t)}(lL);var hL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){var r=this,i=new PN;return i.setHints(e),(r=t.call(this,i,e,n)||this).reader=i,r}hL(e,t),Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(EM.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)}}(lL);var fL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){fL((function(e,n){return t.call(this,new IN,e,n)||this}),t)}(lL);var pL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gL=function(t){function e(e,n){return t.call(this,new GD,e,n)||this}return pL(e,t),e}(lL),mL=function(t,e,n){var r=typeof t===n;return r||console.warn('[ReactQrReader]: Expected "'.concat(e,'" to be a of type "').concat(n,'".')),r},vL=function(){return vL=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vL.apply(this,arguments)},yL={width:"100%",paddingTop:"100%",overflow:"hidden",position:"relative"},bL={top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden",position:"absolute",transform:void 0},wL=function(e){var n=e.videoContainerStyle,r=e.containerStyle,i=e.videoStyle,o=e.constraints,a=e.ViewFinder,s=e.scanDelay,l=e.className,c=e.onResult,u=e.videoId;return function(e){var n=e.scanDelay,r=e.constraints,i=e.onResult,o=e.videoId,a=(0,t.useRef)(null);(0,t.useEffect)((function(){var t=new gL(null,{delayBetweenScanAttempts:n});return!function(){var t="undefined"!=typeof navigator&&!!navigator.mediaDevices;return t||console.warn('[ReactQrReader]: MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"'),t}()&&mL(i,"onResult","function")&&i(null,new Error('MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"'),t),mL(r,"constraints","object")&&t.decodeFromConstraints({video:r},o,(function(e,n){mL(i,"onResult","function")&&i(e,n,t)})).then((function(t){return a.current=t})).catch((function(e){mL(i,"onResult","function")&&i(null,e,t)})),function(){var t;null===(t=a.current)||void 0===t||t.stop()}}),[])}({constraints:o,scanDelay:s,onResult:c,videoId:u}),t.createElement("section",{className:l,style:r},t.createElement("div",{style:vL(vL({},yL),n)},!!a&&t.createElement(a,null),t.createElement("video",{muted:!0,id:u,style:vL(vL(vL({},bL),i),{transform:"user"===(null==o?void 0:o.facingMode)&&"scaleX(-1)"})})))};wL.displayName="QrReader",wL.defaultProps={constraints:{facingMode:"user"},videoId:"video",scanDelay:500};const _L=function(){const{firstName:e,lastName:n,birthdate:r,vaccinationEntries:i,setFirstName:o,setLastName:a,setBirthdate:s,addVaccinationEntry:l}=IC(),{isOpen:c,onOpen:u,onClose:d}=m_(),h=m_(),[f,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(null),[v,y]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const t=await d_.load();y(t)})()}),[]);const b=async t=>{const e=await zC("from_hcert",{hcert:t});if(e.result.verified){o(e.result.payload.nam.fnt),a(e.result.payload.nam.gnt),s(e.result.payload.dob);const t=new Date(e.result.payload.dob);console.log("dob:",t),e.result.payload.v.forEach((e=>{const n=new Date(t);n.setDate(n.getDate()+e.a),l(e.mp,n.toISOString().split("T")[0])}))}},[w,_]=(0,t.useState)();return(0,Ot.jsxs)(v_,{maxW:"md",mx:"auto",mt:10,p:5,borderWidth:"1px",borderRadius:"lg",children:[(0,Ot.jsx)(w_,{mb:6,textAlign:"center",children:"EVC demo"}),(0,Ot.jsxs)(v_,{position:"relative",padding:"10",children:[(0,Ot.jsx)(__,{}),(0,Ot.jsx)(S_,{bg:"white",px:"4",children:"Verify"})]}),(0,Ot.jsx)(R_,{colorScheme:"blue",onClick:h.onOpen,width:"full",children:"Read QrCode"}),(0,Ot.jsx)(j_,{placeholder:"Pdf",size:"md",type:"file",onChange:async t=>{const e=t.target.files[0];if(e){const t=new FileReader;t.onload=async function(){const t=new Uint8Array(this.result),e=await tM(t).promise,n=await e.getMetadata(),r=JSON.parse(n.info.Custom.data).hcert;b(r)},t.readAsArrayBuffer(e)}}}),(0,Ot.jsx)(__,{}),(0,Ot.jsxs)(v_,{position:"relative",padding:"10",children:[(0,Ot.jsx)(__,{}),(0,Ot.jsx)(S_,{bg:"white",px:"4",children:"Identity"})]}),(0,Ot.jsxs)(V_,{spacing:2,children:[(0,Ot.jsxs)(L_,{id:"first-name",isRequired:!0,children:[(0,Ot.jsx)(H_,{children:"First Name"}),(0,Ot.jsx)(j_,{placeholder:"Your first name",value:e,onChange:t=>o(t.target.value),size:"sm"})]}),(0,Ot.jsxs)(L_,{id:"last-name",isRequired:!0,children:[(0,Ot.jsx)(H_,{children:"Last Name"}),(0,Ot.jsx)(j_,{placeholder:"Your nom",value:n,onChange:t=>a(t.target.value),size:"sm"})]}),(0,Ot.jsxs)(L_,{id:"birthdate",isRequired:!0,children:[(0,Ot.jsx)(H_,{children:"Birthdate"}),(0,Ot.jsx)(j_,{type:"date",value:r,onChange:t=>s(t.target.value),size:"sm"})]}),(0,Ot.jsx)(R_,{colorScheme:"blue",type:"submit",width:"full",onClick:async t=>{t.preventDefault(),console.log("Store content:",{firstName:e,lastName:n,birthdate:r,vaccinationEntries:i});const o=new Date(r),a={ver:"1.0.0",nam:{fnt:e,gnt:n},dob:r,v:i.map((t=>({o:"SYA",i:Math.floor(1e4*Math.random()),a:(new Date(t.date)-o)/864e5,mp:t.nuvaId})))};console.log("cve:",JSON.stringify(a));const s=await zC("to_hcert_pdf",{hcert_data:a}),l=window.atob(s.result),c=l.length,u=new Uint8Array(c);for(let e=0;e<c;e++)u[e]=l.charCodeAt(e);const d=new Blob([u],{type:"application/pdf"}),h=URL.createObjectURL(d),f=document.createElement("a");f.href=h,f.download="evc.pdf",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(h)},children:"Get the Vaccination Card"})]}),(0,Ot.jsxs)(v_,{position:"relative",padding:"10",children:[(0,Ot.jsx)(__,{}),(0,Ot.jsx)(S_,{bg:"white",px:"4",children:"Vaccinations"})]}),(0,Ot.jsx)(BC,{entries:i,nuva:v}),(0,Ot.jsx)(R_,{colorScheme:"blue",onClick:u,width:"full",children:"Add a vaccination act"}),(0,Ot.jsxs)(sA,{isOpen:c,onClose:d,children:[(0,Ot.jsx)(mA,{}),(0,Ot.jsxs)(lC,{children:[(0,Ot.jsx)(cC,{children:"Modal Title"}),(0,Ot.jsx)(uC,{}),(0,Ot.jsx)(dC,{children:(0,Ot.jsx)(yC,{nuva:v,setNuvaId:p,setDate:m})}),(0,Ot.jsxs)(hC,{children:[(0,Ot.jsx)(R_,{colorScheme:"blue",mr:3,onClick:d,children:"Close"}),(0,Ot.jsx)(R_,{variant:"blue",onClick:()=>{l(parseInt(f),g),p(null),m(null),d()},children:"Add"})]})]})]}),(0,Ot.jsxs)(sA,{isOpen:h.isOpen,onClose:h.onClose,children:[(0,Ot.jsx)(mA,{}),(0,Ot.jsxs)(lC,{children:[(0,Ot.jsx)(cC,{children:"Modal Title"}),(0,Ot.jsx)(uC,{}),(0,Ot.jsx)(dC,{children:(0,Ot.jsx)(wL,{onResult:async t=>{t&&b(t.text)},style:{width:"100%"}})}),(0,Ot.jsx)(hC,{children:(0,Ot.jsx)(R_,{colorScheme:"blue",mr:3,onClick:h.onClose,children:"Close"})})]})]})]})};n.createRoot(document.getElementById("root")).render((0,Ot.jsx)(t.StrictMode,{children:(0,Ot.jsx)(qy,{children:(0,Ot.jsx)(_L,{})})}))})()})();
//# sourceMappingURL=main.0410d9f6.js.map